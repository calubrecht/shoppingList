!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=5)}([function(t,e){t.exports=React},function(t,e,i){t.exports=i(3)()},function(t,e){t.exports=ReactDOM},function(t,e,i){"use strict";var n=i(4);function r(){}function s(){}s.resetWarningCache=r,t.exports=function(){function t(t,e,i,r,s,o){if(o!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var i={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:r};return i.PropTypes=i,i}},function(t,e,i){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,i){"use strict";i.r(e);var n,r=i(0),s=i.n(r),o=i(2),a=function(){},h=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),l=function(t){function e(){var e=t.call(this)||this;return e.recipeBook=new Map([["Good Recipe",{name:"Good Recipe",text:"This is a recipe"}],["Better Recipe",{name:"Better Recipe",text:"This is a better recipe. It contains all the good things you love to eat and is full of sugar.",keyIngredients:["Sugar","Honey","Peanut Butter Cups"]}],["Awesomesauce Recipe",{name:"Awesomesauce Recipe",text:"This is the best recipe of all",keyIngredients:["Bacon","More Bacon"],commonIngredients:["Flour","Onions","Cheesy bits"]}],["Bad Recipe",{name:"Bad Recipe",text:"This recipe is made of fail and sadness",keyIngredients:["Fail","Sadness"],commonIngredients:["Flour","Water","Spinach"]}],["Jerked Jerky",{name:"Jerked Jerky",text:"Jerk it good",keyIngredients:["Jerky"],commonIngredients:["Sauce","Onions"]}]]),e}return h(e,t),e.prototype.getRecipes=function(){return new Promise(function(t,e){t(Array.from(this.recipeBook.values()))}.bind(this))},e.prototype.recipesNow=function(){return Array.from(this.recipeBook.values())},e.prototype.deleteRecipe=function(t){return this.recipeBook.delete(t),this.getRecipes()},e.prototype.editRecipe=function(t,e){return this.recipeBook.set(t,e),this.getRecipes()},e.prototype.addRecipe=function(t,e){return this.recipeBook.set(t,e),this.getRecipes()},e}(a),c=!1,u=null,d=null;void 0===window.CALLBACK_REGISTRY&&(window.CALLBACK_REGISTRY={refreshRecipeGrid:t=>t});var f=window.CALLBACK_REGISTRY,p=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_=function(t){function e(){var e=t.call(this)||this;return e.handleErrors=e.handleErrors.bind(e),e.apiServer="",d?e.apiServer=d:u&&(e.apiServer=window.location.protocol+"//"+window.location.hostname+":"+u),e}return p(e,t),e.prototype.getRecipes=function(){var t=this;return fetch(this.apiServer+"/service/",{method:"post",credentials:"include",body:JSON.stringify({action:"getRecipes"})}).then(this.handleErrors).then((function(e){return t.parseResponse(e)}))},e.prototype.deleteRecipe=function(t){var e=this,i={action:"deleteRecipe",recipe:t};return fetch(this.apiServer+"/service/",{method:"post",credentials:"include",body:JSON.stringify(i)}).then(this.handleErrors).then((function(t){return e.parseResponse(t)}))},e.prototype.editRecipe=function(t,e){var i=this,n={action:"editRecipe",recipe:e};return fetch(this.apiServer+"/service/",{method:"post",credentials:"include",body:JSON.stringify(n)}).then(this.handleErrors).then((function(t){return i.parseResponse(t)}))},e.prototype.addRecipe=function(t,e){var i=this,n={action:"addRecipe",recipe:e};return fetch(this.apiServer+"/service/",{method:"post",credentials:"include",body:JSON.stringify(n)}).then(this.handleErrors).then((function(t){return i.parseResponse(t)}))},e.prototype.parseResponse=function(t){return t.json().then((function(t){if(!t.isLoggedIn)throw Error("Please log in again.");if(t.error)throw Error(t.error);return t.recipes}))},e.prototype.handleErrors=function(t){if(!t.ok)throw Error(t.statusText);return t},e}(a),m=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),v=function(t){function e(e){var i=t.call(this,e)||this;return i.state={confirming:!1},i.confirmDelete=i.confirmDelete.bind(i),i}return m(e,t),e.prototype.render=function(){var t=this;return this.state.confirming?s.a.createElement("div",{className:"deleteWidget"},s.a.createElement("span",{className:"label"},"Are you sure?"),s.a.createElement("span",{className:"button yes",onClick:function(){return t.confirmYes()}},"Y "),s.a.createElement("span",{className:"button no",onClick:function(){return t.confirmNo()}}," N ")):s.a.createElement("div",{className:"deleteWidget"},s.a.createElement("span",{className:"button delete",onClick:function(){return t.confirmDelete()}}," X "))},e.prototype.confirmDelete=function(){this.setState({confirming:!0})},e.prototype.confirmYes=function(){this.setState({confirming:!1}),this.props.onDelete()},e.prototype.confirmNo=function(){this.setState({confirming:!1})},e}(s.a.Component),g=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),y=function(){return(y=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},b=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n},w=function(t){function e(e){var i=t.call(this,e)||this;i.elementToFocus="",i.needResize=!1;var n=!1;return e.newRecipe&&(n=!0,i.elementToFocus="name:0"),i.state={editing:n,recipeData:e.recipeData},i.doEdit=i.doEdit.bind(i),i.doSelect=i.doSelect.bind(i),i.cancelEdit=i.cancelEdit.bind(i),i.confirmEdit=i.confirmEdit.bind(i),i.handleChangeField=i.handleChangeField.bind(i),i.handleChangeList=i.handleChangeList.bind(i),i.onKeydown=i.onKeydown.bind(i),i}return g(e,t),e.prototype.render=function(){return this.state.editing?this.renderEdit():this.renderReadOnly()},e.prototype.renderReadOnly=function(){var t=this;return s.a.createElement("div",{className:"item",ref:function(e){return t.domElement=e}},s.a.createElement("div",{className:"item-content"},s.a.createElement("div",{className:"recipeCard"},s.a.createElement("div",{className:"cardHeader"},s.a.createElement("span",{className:"cardTitle"}," ",this.props.recipeData.name),"        "),s.a.createElement("div",{className:"cardBody"},this.props.queryMode||s.a.createElement(v,{name:this.props.recipeData.name,onDelete:function(){return t.delete()}}),this.props.queryMode?this.renderSelectBtn():this.renderEditBtn(),this.props.recipeData.text,s.a.createElement("ul",null,this.props.recipeData.keyIngredients&&this.props.recipeData.keyIngredients.map((function(t){return s.a.createElement("li",{key:t,className:"keyIngredient"},t)})),this.props.recipeData.commonIngredients&&this.props.recipeData.commonIngredients.map((function(t){return s.a.createElement("li",{key:t,className:"commonIngredient"},t)})))))))},e.prototype.renderEdit=function(){var t=this,e=0,i=0,n=s.a.createElement("span",null,this.state.recipeData.name);return this.props.newRecipe&&(n=s.a.createElement("input",{type:"text",className:"name",name:"name",value:this.state.recipeData.name,onChange:this.handleChangeField,placeholder:"Enter a new recipe name."})),s.a.createElement("div",{className:"item",ref:function(e){return t.domElement=e}},s.a.createElement("div",{className:"item-content"},s.a.createElement("div",{className:"recipeCard editing",onKeyDown:this.onKeydown},s.a.createElement("div",{className:"cardHeader"},s.a.createElement("span",{className:"cardTitle"}," ",n),"        "),s.a.createElement("div",{className:"cardBody"},s.a.createElement("textarea",{className:"description",name:"text",value:this.state.recipeData.text,ref:function(e){return t.textAreaElement=e},onChange:this.handleChangeField,placeholder:"Enter a recipe description."}),s.a.createElement("ul",null,this.state.recipeData.keyIngredients&&this.state.recipeData.keyIngredients.map((function(i){return s.a.createElement("li",{key:"key"+e.toString(),className:"keyIngredient"},s.a.createElement("input",{type:"text",className:"keyIngredients",value:i,onChange:t.handleChangeList,name:"key"+(e++).toString()}))})),s.a.createElement("li",{key:"key"+e.toString(),className:"keyIngredient"},s.a.createElement("input",{type:"text",className:"keyIngredients",value:"",onChange:this.handleChangeList,name:"key"+(e++).toString(),placeholder:"New ingredient"})),this.state.recipeData.commonIngredients&&this.state.recipeData.commonIngredients.map((function(e){return s.a.createElement("li",{key:"common"+i.toString(),className:"commonIngredient"},s.a.createElement("input",{type:"text",className:"commonIngredients",value:e,onChange:t.handleChangeList,name:"common"+(i++).toString()}))})),s.a.createElement("li",{key:"common"+i.toString(),className:"commonIngredient"},s.a.createElement("input",{type:"text",className:"commonIngredients",value:"",onChange:this.handleChangeList,name:"common"+(i++).toString(),placeholder:"New ingredient"}))),s.a.createElement("div",null,s.a.createElement("button",{type:"button",onClick:this.cancelEdit},"Cancel"),s.a.createElement("button",{type:"button",onClick:this.confirmEdit},"Save"))))))},e.prototype.renderEditBtn=function(){return s.a.createElement("div",{className:"editBtn"},s.a.createElement("img",{src:"sl_icons/pencil.png",alt:"edit",onClick:this.doEdit}))},e.prototype.renderSelectBtn=function(){return s.a.createElement("div",{className:"selectBtn"},s.a.createElement("img",{src:"sl_icons/"+(this.props.selected?"check.png":"checkOff.png"),alt:"edit",onClick:this.doSelect}))},e.prototype.componentDidMount=function(){this.props.onMount(this.domElement),this.focusIfRequired()},e.prototype.focusIfRequired=function(){if(this.elementToFocus){var t=this.elementToFocus.split(":")[0],e=this.elementToFocus.split(":")[1];this.domElement.getElementsByClassName(t)[e].focus(),this.elementToFocus=""}},e.prototype.componentDidUpdate=function(){this.setEditDesciptionHeight(),this.focusIfRequired(),this.needResize&&(this.needResize=!1,this.props.onResize(this.domElement))},e.prototype.setEditDesciptionHeight=function(){var t=this.textAreaElement;t&&(t.style.height&&t.style.height===t.scrollHeight+"px"||(t.style.height="1px",t.style.height=t.scrollHeight+"px",this.props.onResize(this.domElement)))},e.prototype.componentWillUnmount=function(){this.props.onUnMount(this.domElement)},e.prototype.doEdit=function(){this.elementToFocus="description:0",this.setState({editing:!0,recipeData:Object.assign({},this.props.recipeData)})},e.prototype.doSelect=function(){this.props.selectRecipe&&this.props.selectRecipe(this.props.recipeData.name)},e.prototype.cancelEdit=function(){this.needResize=!0,this.props.newRecipe&&this.props.cancelNew&&this.props.cancelNew(),this.setState({editing:!1})},e.prototype.onKeydown=function(t){"Escape"===t.key&&(t.stopPropagation(),t.preventDefault(),this.cancelEdit())},e.prototype.confirmEdit=function(){if(this.props.newRecipe&&this.props.addRecipe){if(!this.state.recipeData.name)return;return this.needResize=!0,this.props.addRecipe(this.state.recipeData),void this.setState({editing:!1})}this.needResize=!0,this.props.editRecipe(this.state.recipeData),this.setState({editing:!1})},e.prototype.handleChangeField=function(t){var e=y({},this.state.recipeData);e[t.target.name]=t.target.value,this.setState({recipeData:e})},e.prototype.handleChangeList=function(t){var e=y({},this.state.recipeData),i=t.target.name,n=t.target.value,r=[],s=0;if(i.startsWith("key")?(r=e.keyIngredients,s=parseInt(i.substring(3))):(r=e.commonIngredients,s=parseInt(i.substring(6))),r=r?b(r):[],0===n.trim().length){if(s>=r.length)return;r.splice(s,1)}else s>=r.length?(r.push(n),this.elementToFocus=t.target.className+":"+s.toString()):r[s]=n;i.startsWith("key")?e.keyIngredients=r:e.commonIngredients=r,this.setState({recipeData:e})},e.prototype.delete=function(){this.props.onDelete(this.props.recipeData.name)},e}(s.a.Component),S=i(1),E=i.n(S),D={},k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},T=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),C=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},I=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},A=function(t){function e(){R(this,e);var t=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._events={},t._queue=[],t._counter=0,t._isDestroyed=!1,t}return C(e,t),T(e,[{key:"on",value:function(t,e){if(this._isDestroyed)return this;var i=this._events[t];return i||(i=this._events[t]=[]),i.push(e),this}},{key:"once",value:function(t,e){if(this._isDestroyed)return this;var i=function(){this.off(t,i),e.apply(void 0,arguments)}.bind(this);return this.on(t,i)}},{key:"off",value:function(t,e){if(this._isDestroyed)return this;var i=this._events[t];if(!i||!i.length)return this;if(!e)return i.length=0,this;for(var n=i.length;n--;)e===i[n]&&i.splice(n,1);return this}},{key:"emit",value:function(t,e,i,n){if(this._isDestroyed)return this;var r=this._events[t];if(!r||!r.length)return this;var s=this._queue,o=s.length,a=arguments.length-1,h=void 0;for(h=0;h<r.length;h++)s.push(r[h]);for(++this._counter,h=o,o=s.length;h<o;h++)if(0===a?s[h]():1===a?s[h](e):2===a?s[h](e,i):s[h](e,i,n),this._isDestroyed)return this;return--this._counter,this._counter||(s.length=0),this}},{key:"destroy",value:function(){if(this._isDestroyed)return this;var t=this._events,e=void 0;for(e in this._isDestroyed=!0,this._queue.length=this._counter=0,t)t[e]&&(t[e].length=0,t[e]=void 0);return this}}]),e}(r.Component),O=!1,x="transform",P="transform";["","Webkit","Moz","O","ms"].forEach((function(t){if(!O){var e=t?t+"Transform":"transform";void 0!==document.documentElement.style[e]&&(t=t.toLowerCase(),x=t?"-"+t+"-transform":"transform",P=e,O=!0)}}));var M="function"==typeof WeakMap?new WeakMap:null;function N(t,e){var i=M&&M.get(t);return i||(i=window.getComputedStyle(t,null),M&&M.set(t,i)),i.getPropertyValue("transform"===e?x:e)}var L=/([A-Z])/g;function H(t){return t.replace(L,"-$1").toLowerCase()}function G(t,e){for(var i in e)t.style["transform"===i?P:i]=e[i]}var Y=function(t){function e(t){R(this,e);var i=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._element=t,i._animation=null,i._callback=null,i._props=[],i._values=[],i._keyframes=[],i._options={},i._isDestroyed=!1,i._onFinish=i._onFinish.bind(i),i}return C(e,t),T(e,[{key:"start",value:function(t,e,i){if(!this._isDestroyed){var n=this._animation,r=this._props,s=this._values,o=i||0,a=!1;if(n){var h=0,l=void 0;for(var c in e)if(++h,-1===(l=r.indexOf(c))||e[c]!==s[l]){a=!0;break}a||h===r.length||(a=!0)}if(a&&n.cancel(),this._callback="function"==typeof o.onFinish?o.onFinish:null,!n||a){for(var u in r.length=s.length=0,e)r.push(u),s.push(e[u]);var d=this._keyframes;d[0]=t,d[1]=e;var f=this._options;f.duration=o.duration||300,f.easing=o.easing||"ease";var p=this._element;(n=p.animate(d,f)).onfinish=this._onFinish,this._animation=n,G(p,e)}}}},{key:"stop",value:function(t){if(!this._isDestroyed&&this._animation){var e=this._element,i=this._props,n=this._values,r=void 0,s=void 0,o=void 0;if(t)G(e,t);else for(o=0;o<i.length;o++)s=N(e,H(r=i[o])),e.style["transform"===r?P:r]=s;this._animation.cancel(),this._animation=this._callback=null,i.length=n.length=0}}},{key:"isAnimating",value:function(){return!!this._animation}},{key:"destroy",value:function(){this._isDestroyed||(this.stop(),this._element=this._options=this._keyframes=null,this._isDestroyed=!0)}},{key:"_onFinish",value:function(){var t=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,t&&t()}}]),e}(r.Component);var F=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(e,i,n,r){var s,o=["","webkit","Moz","MS","ms","o"],a=i.createElement("div"),h=Math.round,l=Math.abs,c=Date.now;function u(t,e,i){return setTimeout(g(t,i),e)}function d(t,e,i){return!!Array.isArray(t)&&(f(t,i[e],i),!0)}function f(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function p(t,i,n){var r="DEPRECATED METHOD: "+i+"\n"+n+" AT \n";return function(){var i=new Error("get-stack-trace"),n=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=e.console&&(e.console.warn||e.console.log);return s&&s.call(e.console,r,n),t.apply(this,arguments)}}s="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign;var _=p((function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&void 0===t[n[r]])&&(t[n[r]]=e[n[r]]),r++;return t}),"extend","Use `assign`."),m=p((function(t,e){return _(t,e,!0)}),"merge","Use `assign`.");function v(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&s(n,i)}function g(t,e){return function(){return t.apply(e,arguments)}}function y(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function b(t,e){return void 0===t?e:t}function w(t,e,i){f(k(e),(function(e){t.addEventListener(e,i,!1)}))}function S(t,e,i){f(k(e),(function(e){t.removeEventListener(e,i,!1)}))}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function D(t,e){return t.indexOf(e)>-1}function k(t){return t.trim().split(/\s+/g)}function R(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function T(t){return Array.prototype.slice.call(t,0)}function C(t,e,i){for(var n=[],r=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];R(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}function I(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),s=0;s<o.length;){if((n=(i=o[s])?i+r:e)in t)return n;s++}}var A=1;function O(t){var i=t.ownerDocument||t;return i.defaultView||i.parentWindow||e}var x="ontouchstart"in e,P=void 0!==I(e,"PointerEvent"),M=x&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),N=["x","y"],L=["clientX","clientY"];function H(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){y(t.options.enable,[t])&&i.handler(e)},this.init()}function G(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=1&e&&n-r==0,o=12&e&&n-r==0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=Y(e));r>1&&!i.firstMultiple?i.firstMultiple=Y(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,h=e.center=F(n);e.timeStamp=c(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=j(a,h),e.distance=q(a,h),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};1!==e.eventType&&4!==s.eventType||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=z(e.deltaX,e.deltaY);var u=X(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=l(u.x)>l(u.y)?u.x:u.y,e.scale=o?(d=o.pointers,f=n,q(f[0],f[1],L)/q(d[0],d[1],L)):1,e.rotation=o?function(t,e){return j(e[1],e[0],L)+j(t[1],t[0],L)}(o.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,r,s,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(a>25||void 0===o.velocity)){var h=e.deltaX-o.deltaX,c=e.deltaY-o.deltaY,u=X(a,h,c);n=u.x,r=u.y,i=l(u.x)>l(u.y)?u.x:u.y,s=z(h,c),t.lastInterval=e}else i=o.velocity,n=o.velocityX,r=o.velocityY,s=o.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=s}(i,e);var d,f;var p=t.element;E(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function Y(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:h(t.pointers[i].clientX),clientY:h(t.pointers[i].clientY)},i++;return{timeStamp:c(),pointers:e,center:F(e),deltaX:t.deltaX,deltaY:t.deltaY}}function F(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:h(i/e),y:h(n/e)}}function X(t,e,i){return{x:e/t||0,y:i/t||0}}function z(t,e){return t===e?1:l(t)>=l(e)?t<0?2:4:e<0?8:16}function q(t,e,i){i||(i=N);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function j(t,e,i){i||(i=N);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}H.prototype={handler:function(){},init:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(O(this.element),this.evWin,this.domHandler)}};var B={mousedown:1,mousemove:2,mouseup:4};function W(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,H.apply(this,arguments)}v(W,H,{handler:function(t){var e=B[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var V={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},U={2:"touch",3:"pen",4:"mouse",5:"kinect"},J="pointerdown",K="pointermove pointerup pointercancel";function Z(){this.evEl=J,this.evWin=K,H.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}e.MSPointerEvent&&!e.PointerEvent&&(J="MSPointerDown",K="MSPointerMove MSPointerUp MSPointerCancel"),v(Z,H,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=V[n],s=U[t.pointerType]||t.pointerType,o="touch"==s,a=R(e,t.pointerId,"pointerId");1&r&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):12&r&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Q={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function $(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,H.apply(this,arguments)}function tt(t,e){var i=T(t.touches),n=T(t.changedTouches);return 12&e&&(i=C(i.concat(n),"identifier",!0)),[i,n]}v($,H,{handler:function(t){var e=Q[t.type];if(1===e&&(this.started=!0),this.started){var i=tt.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function it(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},H.apply(this,arguments)}function nt(t,e){var i=T(t.touches),n=this.targetIds;if(3&e&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=T(t.changedTouches),a=[],h=this.target;if(s=i.filter((function(t){return E(t.target,h)})),1===e)for(r=0;r<s.length;)n[s[r].identifier]=!0,r++;for(r=0;r<o.length;)n[o[r].identifier]&&a.push(o[r]),12&e&&delete n[o[r].identifier],r++;return a.length?[C(s.concat(a),"identifier",!0),a]:void 0}v(it,H,{handler:function(t){var e=et[t.type],i=nt.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});function rt(){H.apply(this,arguments);var t=g(this.handler,this);this.touch=new it(this.manager,t),this.mouse=new W(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function st(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ot.call(this,e)):12&t&&ot.call(this,e)}function ot(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),2500)}}function at(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(e-r.x),o=Math.abs(i-r.y);if(s<=25&&o<=25)return!0}return!1}v(rt,H,{handler:function(t,e,i){var n="touch"==i.pointerType,r="mouse"==i.pointerType;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)st.call(this,e,i);else if(r&&at.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=I(a.style,"touchAction"),lt=void 0!==ht,ct=function(){if(!lt)return!1;var t={},i=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!i||e.CSS.supports("touch-action",n)})),t}();function ut(t,e){this.manager=t,this.set(e)}ut.prototype={set:function(t){"compute"==t&&(t=this.compute()),lt&&this.manager.element.style&&ct[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return f(this.manager.recognizers,(function(e){y(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(D(t,"none"))return"none";var e=D(t,"pan-x"),i=D(t,"pan-y");if(e&&i)return"none";if(e||i)return e?"pan-x":"pan-y";if(D(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=D(n,"none")&&!ct.none,s=D(n,"pan-y")&&!ct["pan-y"],o=D(n,"pan-x")&&!ct["pan-x"];if(r){var a=1===t.pointers.length,h=t.distance<2,l=t.deltaTime<250;if(a&&h&&l)return}if(!o||!s)return r||s&&6&i||o&&24&i?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function dt(t){this.options=s({},this.defaults,t||{}),this.id=A++,this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ft(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function pt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function _t(t,e){var i=e.manager;return i?i.get(t):t}function mt(){dt.apply(this,arguments)}function vt(){mt.apply(this,arguments),this.pX=null,this.pY=null}function gt(){mt.apply(this,arguments)}function yt(){dt.apply(this,arguments),this._timer=null,this._input=null}function bt(){mt.apply(this,arguments)}function wt(){mt.apply(this,arguments)}function St(){dt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Et(t,e){return(e=e||{}).recognizers=b(e.recognizers,Et.defaults.preset),new Dt(t,e)}dt.prototype={defaults:{},set:function(t){return s(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(d(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=_t(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return d(t,"dropRecognizeWith",this)||(t=_t(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(d(t,"requireFailure",this))return this;var e=this.requireFail;return-1===R(e,t=_t(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(d(t,"dropRequireFailure",this))return this;t=_t(t,this);var e=R(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+ft(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+ft(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=s({},t);if(!y(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},v(mt,dt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,r=this.attrTest(t);return n&&(8&i||!r)?16|e:n||r?4&i?8|e:2&e?4|e:2:32}}),v(vt,mt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(6&e.direction?(r=0===s?1:s<0?2:4,i=s!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?1:o<0?8:16,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return mt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=pt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),v(gt,mt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),v(yt,dt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=u((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=c(),this.manager.emit(this.options.event,this._input)))}}),v(bt,mt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),v(wt,mt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return vt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return 30&i?e=t.overallVelocity:6&i?e=t.overallVelocityX:24&i&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&l(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=pt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),v(St,dt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(n&&r&&i){if(4!=t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||q(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&s?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=u((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=u((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Et.VERSION="2.0.7",Et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[bt,{enable:!1}],[gt,{enable:!1},["rotate"]],[wt,{direction:6}],[vt,{direction:6},["swipe"]],[St],[St,{event:"doubletap",taps:2},["tap"]],[yt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Dt(t,e){var i;this.options=s({},Et.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(P?Z:M?it:x?rt:W))(i,G),this.touchAction=new ut(this,this.options.touchAction),kt(this,!0),f(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function kt(t,e){var i,n=t.element;n.style&&(f(t.options.cssProps,(function(r,s){i=I(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}Dt.prototype={set:function(t){return s(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],2===e.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(r=e.curRecognizer=i),s++}},get:function(t){if(t instanceof dt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(d(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(d(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=R(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var i=this.handlers;return f(k(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var i=this.handlers;return f(k(t),(function(t){e?i[t]&&i[t].splice(R(i[t],e),1):delete i[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=i.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&kt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},s(Et,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Dt,Input:H,TouchAction:ut,TouchInput:it,MouseInput:W,PointerEventInput:Z,TouchMouseInput:rt,SingleTouchInput:$,Recognizer:dt,AttrRecognizer:mt,Tap:St,Pan:vt,Swipe:wt,Pinch:gt,Rotate:bt,Press:yt,on:w,off:S,each:f,merge:m,extend:_,assign:s,inherit:v,bindFn:g,prefixed:I}),(void 0!==e?e:"undefined"!=typeof self?self:{}).Hammer=Et,t.exports?t.exports=Et:e.Hammer=Et}(window,document)}));var X=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,16)}).bind(window),z=new(function(t){function e(){R(this,e);var t=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._nextTick=null,t._queue=[],t._reads={},t._writes={},t._batch=[],t._batchReads={},t._batchWrites={},t._flush=t._flush.bind(t),t}return C(e,t),T(e,[{key:"add",value:function(t,e,i,n){var r=this._queue.indexOf(t);r>-1&&(this._queue[r]=void 0),n?this._queue.unshift(t):this._queue.push(t),this._reads[t]=e,this._writes[t]=i,this._nextTick||(this._nextTick=X(this._flush))}},{key:"cancel",value:function(t){var e=this._queue.indexOf(t);e>-1&&(this._queue[e]=void 0,this._reads[t]=void 0,this._writes[t]=void 0)}},{key:"_flush",value:function(){var t=this._queue,e=this._reads,i=this._writes,n=this._batch,r=this._batchReads,s=this._batchWrites,o=t.length,a=void 0,h=void 0;for(this._nextTick=null,h=0;h<o;h++)(a=t[h])&&(n.push(a),r[a]=e[a],e[a]=void 0,s[a]=i[a],i[a]=void 0);for(t.length=0,h=0;h<o;h++)r[a=n[h]]&&(r[a](),r[a]=void 0);for(h=0;h<o;h++)s[a=n[h]]&&(s[a](),s[a]=void 0);n.length=0,!this._nextTick&&t.length&&(this._nextTick=X(this._flush))}}]),e}(r.Component));function q(t){return z.cancel(t+"layout")}function j(t){return z.cancel(t+"visibility")}function B(t){return z.cancel(t+"move")}function W(t){return z.cancel(t+"scroll")}var V=Element.prototype,U=V.matches||V.matchesSelector||V.webkitMatchesSelector||V.mozMatchesSelector||V.msMatchesSelector||V.oMatchesSelector;function J(t,e){return U.call(t,e)}var K="classList"in Element.prototype?function(t,e){t.classList.add(e)}:function(t,e){J(t,"."+e)||(t.className+=" "+e)};function Z(t,e,i){var n=t.length,r=Math.max(0,i?n:n-1);return e>r?r:e<0?Math.max(r+e+1,0):e}function Q(t,e,i){if(!(t.length<2)){var n=Z(t,e),r=Z(t,i);n!==r&&t.splice(r,0,t.splice(n,1)[0])}}function $(t,e,i){if(!(t.length<2)){var n=Z(t,e),r=Z(t,i),s=void 0;n!==r&&(s=t[n],t[n]=t[r],t[r]=s)}}function tt(t,e){var i=void 0;return e>0?function(n){void 0!==i&&(i=window.clearTimeout(i),"finish"===n&&t()),"cancel"!==n&&"finish"!==n&&(i=window.setTimeout((function(){i=void 0,t()}),e))}:function(e){"cancel"!==e&&t()}}function et(t){var e=N(t,"transform");if(!e||"none"===e)return!1;var i=N(t,"display");return"inline"!==i&&"none"!==i}function it(t,e){for(var i=(e?t:t.parentElement)||document;i&&i!==document&&"static"===N(i,"position")&&!et(i);)i=i.parentElement||document;return i}function nt(t,e){return parseFloat(N(t,e))||0}var rt={},st={},ot={};function at(t,e){var i,n=e||{};return n.left=0,n.top=0,t===document?n:(n.left=window.pageXOffset||0,n.top=window.pageYOffset||0,t.self===window.self||(i=t.getBoundingClientRect(),n.left+=i.left,n.top+=i.top,n.left+=nt(t,"border-left-width"),n.top+=nt(t,"border-top-width")),n)}function ht(t,e,i){return ot.left=0,ot.top=0,t===e||i&&(t=it(t,!0))===(e=it(e,!0))||(at(t,rt),at(e,st),ot.left=st.left-rt.left,ot.top=st.top-rt.top),ot}var lt={};function ct(t){lt.x=0,lt.y=0;var e=N(t,"transform");if(!e)return lt;var i=e.replace("matrix(","").split(",");return lt.x=parseFloat(i[4])||0,lt.y=parseFloat(i[5])||0,lt}function ut(t,e){return"translateX("+t+"px) translateY("+e+"px)"}var dt=[];function ft(t,e,i){var n="number"==typeof i?i:-1;n<0&&(n=t.length-n+1),t.splice.apply(t,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(dt.concat(n,0,e))),dt.length=0}var pt=Object.prototype.toString;function _t(t){return"object"===(void 0===t?"undefined":k(t))&&"[object Object]"===pt.call(t)}var mt,vt,gt,yt,bt="classList"in Element.prototype?function(t,e){t.classList.remove(e)}:function(t,e){J(t,"."+e)&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim())},wt=Tt(),St=function(t){function e(t){R(this,e);var i=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));if(!F)throw new Error("[Muuri] required dependency Hammer is not defined.");null===wt&&(wt=Tt());var n=i,r=t._element,s=t.getGrid(),o=s._settings,a=void 0,h="function"==typeof o.dragStartPredicate?o.dragStartPredicate:e.defaultStartPredicate,l=0,c=void 0;return i._item=t,i._gridId=s._id,i._hammer=a=new F.Manager(r),i._isDestroyed=!1,i._isMigrating=!1,i._reset(),i._onScroll=i._onScroll.bind(i),i._prepareMove=i._prepareMove.bind(i),i._applyMove=i._applyMove.bind(i),i._prepareScroll=i._prepareScroll.bind(i),i._applyScroll=i._applyScroll.bind(i),i._checkOverlap=i._checkOverlap.bind(i),i._forceResolveStartPredicate=function(t){this._isDestroyed||1!==l||(l=2,this._onStart(t))},i._checkOverlapDebounce=tt(i._checkOverlap,o.dragSortInterval),a.add(new F.Pan({event:"drag",pointers:1,threshold:0,direction:F.DIRECTION_ALL})),a.add(new F.Press({event:"draginit",pointers:1,threshold:1e3,time:0})),_t(o.dragHammerSettings)&&a.set(o.dragHammerSettings),a.on("draginit dragstart dragmove",(function(t){0===l&&(l=1),1===l?!0===(c=h(n._item,t))?(l=2,n._onStart(t)):!1===c&&(l=3):2===l&&n._isActive&&n._onMove(t)})).on("dragend dragcancel draginitup",(function(t){var e=2===l;h(n._item,t),l=0,e&&n._isActive&&n._onEnd(t)})),r.addEventListener("dragstart",Et,!1),i}return C(e,t),T(e,[{key:"stop",value:function(){var t=this._item,e=t._element,i=this._getGrid();return this._isActive?this._isMigrating?(this._finishMigration(),this):(B(t._id),W(t._id),this._unbindScrollListeners(),this._checkOverlapDebounce("cancel"),e.parentNode!==i._element&&(i._element.appendChild(e),e.style[P]=ut(this._gridX,this._gridY)),bt(e,i._settings.itemDraggingClass),this._reset(),this):this}},{key:"destroy",value:function(){return this._isDestroyed||(this.stop(),this._hammer.destroy(),this._item._element.removeEventListener("dragstart",Et,!1),this._isDestroyed=!0),this}},{key:"_getGrid",value:function(){return D[this._gridId]||null}},{key:"_reset",value:function(){this._isActive=!1,this._container=null,this._containingBlock=null,this._lastEvent=null,this._lastScrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._elementClientX=0,this._elementClientY=0,this._containerDiffX=0,this._containerDiffY=0}},{key:"_bindScrollListeners",value:function(){var t=this._getGrid()._element,e=this._container,i=this._scrollers,n=void 0,r=void 0;if(i.length=0,kt(this._item._element,i),e!==t)for(kt(t,n=[]),n.push(t),r=0;r<n.length;r++)i.includes(n[r])||i.push(n[r]);for(r=0;r<i.length;r++)i[r].addEventListener("scroll",this._onScroll)}},{key:"_unbindScrollListeners",value:function(){var t=this._scrollers,e=void 0;for(e=0;e<t.length;e++)t[e].removeEventListener("scroll",this._onScroll);t.length=0}},{key:"_setupStartPredicate",value:function(t){var e=t||this._getGrid()._settings.dragStartPredicate||0;return this._startPredicateData={distance:Math.abs(e.distance)||0,delay:Math.max(e.delay,0)||0,handle:"string"==typeof e.handle&&e.handle}}},{key:"_getStartPredicateHandle",value:function(t){var e=this._startPredicateData,i=this._item._element,n=i;if(!e.handle)return n;for(n=(t.changedPointers[0]||0).target;n&&!J(n,e.handle);)n=n!==i?n.parentElement:null;return n||null}},{key:"_resolveStartPredicate",value:function(t){var e,i,n,r,s,o=this._startPredicateData,a=t.changedPointers[0],h=a&&a.pageX||0,l=a&&a.pageY||0;if(!(t.distance<o.distance||o.delay))return i=(e=o.handleElement.getBoundingClientRect()).left+(window.pageXOffset||0),n=e.top+(window.pageYOffset||0),r=e.width,s=e.height,this._resetStartPredicate(),r&&s&&h>=i&&h<i+r&&l>=n&&l<n+s}},{key:"_finishStartPredicate",value:function(t){var e=this._item._element;this._resetStartPredicate(),function(t){return Math.abs(t.deltaX)<2&&Math.abs(t.deltaY)<2&&t.deltaTime<200}(t)&&function(t){if("a"!==t.tagName.toLowerCase())return;var e=t.getAttribute("href");if(!e)return;var i=t.getAttribute("target");i&&"_self"!==i?window.open(e,i):window.location.href=e}(e)}},{key:"_resetStartPredicate",value:function(){var t=this._startPredicateData;t&&(t.delayTimer&&(t.delayTimer=window.clearTimeout(t.delayTimer)),this._startPredicateData=null)}},{key:"_checkOverlap",value:function(){if(this._isActive){var t,i,n,r,s=this._item,o=this._getGrid()._settings,a=void 0,h=void 0,l=void 0;(a="function"==typeof o.dragSortPredicate?o.dragSortPredicate(s,this._lastEvent):e.defaultSortPredicate(s,o.dragSortPredicate))&&"number"==typeof a.index&&(r=(h=s.getGrid())!==(l=a.grid||h),t=h._items.indexOf(s),i=Z(l._items,a.index,r),n="swap"===a.action?"swap":"move",r?(h._hasListeners("beforeSend")&&h._emit("beforeSend",{item:s,fromGrid:h,fromIndex:t,toGrid:l,toIndex:i}),l._hasListeners("beforeReceive")&&l._emit("beforeReceive",{item:s,fromGrid:h,fromIndex:t,toGrid:l,toIndex:i}),s._gridId=l._id,this._isMigrating=s._gridId!==this._gridId,h._items.splice(t,1),ft(l._items,s,i),s._sortData=null,h._hasListeners("send")&&h._emit("send",{item:s,fromGrid:h,fromIndex:t,toGrid:l,toIndex:i}),l._hasListeners("receive")&&l._emit("receive",{item:s,fromGrid:h,fromIndex:t,toGrid:l,toIndex:i}),h.layout(),l.layout()):t!==i&&(("swap"===n?$:Q)(h._items,t,i),h._hasListeners("move")&&h._emit("move",{item:s,fromIndex:t,toIndex:i,action:n}),h.layout()))}}},{key:"_finishMigration",value:function(){var t=this._item,i=t._release,n=t._element,r=t._isActive,s=t.getGrid(),o=s._element,a=s._settings,h=a.dragContainer||o,l=this._getGrid()._settings,c=n.parentNode,u=void 0,d=void 0;this._isMigrating=!1,this.destroy(),bt(n,l.itemClass),bt(n,l.itemVisibleClass),bt(n,l.itemHiddenClass),K(n,a.itemClass),K(n,r?a.itemVisibleClass:a.itemHiddenClass),h!==c&&(h.appendChild(n),d=ht(c,h,!0),(u=ct(n)).x-=d.left,u.y-=d.top),t._refreshDimensions(),t._refreshSortData(),d=ht(h,o,!0),i._containerDiffX=d.left,i._containerDiffY=d.top,t._drag=a.dragEnabled?new e(t):null,h!==c&&(n.style[P]=ut(u.x,u.y)),t._child.removeAttribute("style"),G(t._child,r?a.visibleStyles:a.hiddenStyles),i.start()}},{key:"_onStart",value:function(t){var e=this._item;if(e._isActive){var i=e._element,n=this._getGrid(),r=n._settings,s=e._release,o=e._migrate,a=n._element,h=r.dragContainer||a,l=it(h,!0),c=ct(i),u=c.x,d=c.y,f=i.getBoundingClientRect(),p=h!==a,_=void 0;p&&(_=ht(l,a)),e.isPositioning()&&e._layout.stop(!0,{transform:ut(u,d)}),o._isActive&&(u-=o._containerDiffX,d-=o._containerDiffY,o.stop(!0,{transform:ut(u,d)})),e.isReleasing()&&s._reset(),this._isActive=!0,this._lastEvent=t,this._container=h,this._containingBlock=l,this._elementClientX=f.left,this._elementClientY=f.top,this._left=this._gridX=u,this._top=this._gridY=d,n._emit("dragInit",e,t),p&&(this._containerDiffX=_.left,this._containerDiffY=_.top,i.parentNode===h?(this._gridX=u-this._containerDiffX,this._gridY=d-this._containerDiffY):(this._left=u+this._containerDiffX,this._top=d+this._containerDiffY,h.appendChild(i),i.style[P]=ut(this._left,this._top))),K(i,r.itemDraggingClass),this._bindScrollListeners(),n._emit("dragStart",e,t)}}},{key:"_onMove",value:function(t){var e=this._item;if(e._isActive){var i,n,r,s=this._getGrid()._settings.dragAxis,o=t.deltaX-this._lastEvent.deltaX,a=t.deltaY-this._lastEvent.deltaY;this._lastEvent=t,"y"!==s&&(this._left+=o,this._gridX+=o,this._elementClientX+=o),"x"!==s&&(this._top+=a,this._gridY+=a,this._elementClientY+=a),i=e._id,n=this._prepareMove,r=this._applyMove,z.add(i+"move",n,r,!0)}else this.stop()}},{key:"_prepareMove",value:function(){this._item._isActive&&this._getGrid()._settings.dragSort&&this._checkOverlapDebounce()}},{key:"_applyMove",value:function(){var t=this._item;t._isActive&&(t._element.style[P]=ut(this._left,this._top),this._getGrid()._emit("dragMove",t,this._lastEvent))}},{key:"_onScroll",value:function(t){var e,i,n,r=this._item;r._isActive?(this._lastScrollEvent=t,e=r._id,i=this._prepareScroll,n=this._applyScroll,z.add(e+"scroll",i,n,!0)):this.stop()}},{key:"_prepareScroll",value:function(){var t=this._item;if(t._isActive){var e=t._element,i=this._getGrid(),n=i._settings,r=n.dragAxis,s=i._element,o=void 0,a=e.getBoundingClientRect(),h=this._elementClientX-a.left,l=this._elementClientY-a.top;this._container!==s&&(o=ht(this._containingBlock,s),this._containerDiffX=o.left,this._containerDiffY=o.top),"y"!==r&&(this._left+=h,this._gridX=this._left-this._containerDiffX),"x"!==r&&(this._top+=l,this._gridY=this._top-this._containerDiffY),n.dragSort&&this._checkOverlapDebounce()}}},{key:"_applyScroll",value:function(){var t=this._item;t._isActive&&(t._element.style[P]=ut(this._left,this._top),this._getGrid()._emit("dragScroll",t,this._lastScrollEvent))}},{key:"_onEnd",value:function(t){var e=this._item,i=e._element,n=this._getGrid(),r=n._settings,s=e._release;e._isActive?(B(e._id),W(e._id),r.dragSort&&this._checkOverlapDebounce("finish"),this._unbindScrollListeners(),s._containerDiffX=this._containerDiffX,s._containerDiffY=this._containerDiffY,this._reset(),bt(i,r.itemDraggingClass),n._emit("dragEnd",e,t),this._isMigrating?this._finishMigration():s.start()):this.stop()}}]),e}(r.Component);function Et(t){t.preventDefault&&t.preventDefault()}function Dt(t,e){return t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top?0:(Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left))*(Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top))/(Math.min(t.width,e.width)*Math.min(t.height,e.height))*100}function kt(t,e){var i=e||[],n=t.parentNode;if(wt){if("fixed"===N(t,"position"))return i;for(;n&&n!==document&&n!==document.documentElement;)Rt(n)&&i.push(n),n="fixed"===N(n,"position")?null:n.parentNode;return null!==n&&i.push(window),i}for(;n&&n!==document;)"fixed"!==N(t,"position")||et(n)?(Rt(n)&&i.push(n),t=n,n=n.parentNode):n=n.parentNode;return i[i.length-1]===document.documentElement?i[i.length-1]=window:i.push(window),i}function Rt(t){var e=N(t,"overflow");return"auto"===e||"scroll"===e||("auto"===(e=N(t,"overflow-x"))||"scroll"===e||("auto"===(e=N(t,"overflow-y"))||"scroll"===e))}function Tt(){if(!O)return!0;if(!document.body)return null;var t=[0,1].map((function(t,e){return(t=document.createElement("div")).style.position=e?"fixed":"absolute",t.style.display="block",t.style.visibility="hidden",t.style.left=e?"0px":"1px",t.style[P]="none",t})),e=document.body.appendChild(t[0]),i=e.appendChild(t[1]),n=i.getBoundingClientRect().left;e.style[P]="scale(1)";var r=n===i.getBoundingClientRect().left;return document.body.removeChild(e),r}St.defaultStartPredicate=function(t,e,i){var n=t._drag,r=n._startPredicateData||n._setupStartPredicate(i);if(!e.isFinal)return!(!r.handleElement&&(r.handleElement=n._getStartPredicateHandle(e),!r.handleElement))&&(r.delay&&(r.event=e,r.delayTimer||(r.delayTimer=window.setTimeout((function(){r.delay=0,n._resolveStartPredicate(r.event)&&(n._forceResolveStartPredicate(r.event),n._resetStartPredicate())}),r.delay))),n._resolveStartPredicate(e));n._finishStartPredicate(e)},St.defaultSortPredicate=(mt={},vt={},gt={},yt=[],function(t,e){var i=t._drag,n=i._getGrid(),r=e&&"number"==typeof e.threshold?e.threshold:50,s=e&&"swap"===e.action?"swap":"move";mt.width=t._width,mt.height=t._height,mt.left=i._elementClientX,mt.top=i._elementClientY;var o=function(t,e,i){var n=null,r=e._settings.dragSort,s=-1,o=void 0,a=void 0,h=void 0,l=void 0;if(!0===r?(yt[0]=e,a=yt):a=r.call(e,t),!Array.isArray(a))return n;for(l=0;l<a.length;l++)(h=a[l])._isDestroyed||(h._updateBoundingRect(),vt.width=h._width,vt.height=h._height,vt.left=h._left,vt.top=h._top,(o=Dt(mt,vt))>i&&o>s&&(s=o,n=h));return yt.length=0,n}(t,n,r);if(!o)return!1;var a=0,h=0,l=-1,c=void 0,u=void 0,d=void 0,f=void 0,p=void 0;for(o===n?(mt.left=i._gridX+t._marginLeft,mt.top=i._gridY+t._marginTop):(o._updateBorders(1,0,1,0),a=o._left+o._borderLeft,h=o._top+o._borderTop),p=0;p<o._items.length;p++)(d=o._items[p])._isActive&&d!==t&&(u=!0,vt.width=d._width,vt.height=d._height,vt.left=d._left+d._marginLeft+a,vt.top=d._top+d._marginTop+h,(f=Dt(mt,vt))>l&&(c=p,l=f));return l<r&&t.getGrid()!==o&&(c=u?-1:0,l=1/0),l>=r&&(gt.grid=o,gt.index=c,gt.action=s,gt)});var Ct=function(t){function e(){R(this,e);var t=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._queue=[],t._isDestroyed=!1,t}return C(e,t),T(e,[{key:"add",value:function(t){return this._isDestroyed||this._queue.push(t),this}},{key:"flush",value:function(t,e){if(this._isDestroyed)return this;var i=this._queue,n=i.length,r=void 0;if(!n)return this;var s=1===n,o=s?i[0]:i.slice(0);if(i.length=0,s)return o(t,e),this;for(r=0;r<n&&(o[r](t,e),!this._isDestroyed);r++);return this}},{key:"destroy",value:function(){return this._isDestroyed||(this._isDestroyed=!0,this._queue.length=0),this}}]),e}(r.Component),It=function(t){function e(t){R(this,e);var i=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._item=t,i._isActive=!1,i._isDestroyed=!1,i._isInterrupted=!1,i._currentStyles={},i._targetStyles={},i._currentLeft=0,i._currentTop=0,i._offsetLeft=0,i._offsetTop=0,i._skipNextAnimation=!1,i._animateOptions={onFinish:i._finish.bind(i)},i._queue=new Ct,i._setupAnimation=i._setupAnimation.bind(i),i._startAnimation=i._startAnimation.bind(i),i}return C(e,t),T(e,[{key:"start",value:function(t,e){if(!this._isDestroyed){var i,n,r,s=this._item,o=s._element,a=s._release,h=s.getGrid()._settings,l=this._isActive,c=a._isActive&&!1===a._isPositioningStarted,u=c?h.dragReleaseDuration:h.layoutDuration,d=c?h.dragReleaseEasing:h.layoutEasing,f=!t&&!this._skipNextAnimation&&u>0,p=void 0;return l&&this._queue.flush(!0,s),c&&(a._isPositioningStarted=!0),"function"==typeof e&&this._queue.add(e),f?(this._isActive=!0,this._animateOptions.easing=d,this._animateOptions.duration=u,this._isInterrupted=l,i=s._id,n=this._setupAnimation,r=this._startAnimation,z.add(i+"layout",n,r),this):(this._updateOffsets(),this._updateTargetStyles(),l&&q(s._id),p=s._animate.isAnimating(),this.stop(!1,this._targetStyles),!p&&G(o,this._targetStyles),this._skipNextAnimation=!1,this._finish())}}},{key:"stop",value:function(t,e){if(this._isDestroyed||!this._isActive)return this;var i=this._item;return q(i._id),i._animate.stop(e),bt(i._element,i.getGrid()._settings.itemPositioningClass),this._isActive=!1,t&&this._queue.flush(!0,i),this}},{key:"destroy",value:function(){return this._isDestroyed||(this.stop(!0,{}),this._queue.destroy(),this._item=this._currentStyles=this._targetStyles=this._animateOptions=null,this._isDestroyed=!0),this}},{key:"_updateOffsets",value:function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._release;this._offsetLeft=i._isActive?i._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=i._isActive?i._containerDiffY:e._isActive?e._containerDiffY:0}}},{key:"_updateTargetStyles",value:function(){if(!this._isDestroyed){var t=this._item;this._targetStyles.transform=ut(t._left+this._offsetLeft,t._top+this._offsetTop)}}},{key:"_finish",value:function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,i=t._release;this._isActive&&(this._isActive=!1,bt(t._element,t.getGrid()._settings.itemPositioningClass)),i._isActive&&i.stop(),e._isActive&&e.stop(),this._queue.flush(!1,t)}}},{key:"_setupAnimation",value:function(){var t=ct(this._item._element);this._currentLeft=t.x,this._currentTop=t.y}},{key:"_startAnimation",value:function(){var t=this._item,e=t._element,i=t.getGrid()._settings;if(this._updateOffsets(),this._updateTargetStyles(),t._left===this._currentLeft-this._offsetLeft&&t._top===this._currentTop-this._offsetTop)return this._isInterrupted&&this.stop(!1,this._targetStyles),this._isActive=!1,void this._finish();!this._isInterrupted&&K(e,i.itemPositioningClass),this._currentStyles.transform=ut(this._currentLeft,this._currentTop),t._animate.start(this._currentStyles,this._targetStyles,this._animateOptions)}}]),e}(r.Component),At={},Ot=function(t){function e(t){R(this,e);var i=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._item=t,i._isActive=!1,i._isDestroyed=!1,i._container=!1,i._containerDiffX=0,i._containerDiffY=0,i}return C(e,t),T(e,[{key:"start",value:function(t,e,i){if(this._isDestroyed)return this;var n,r,s=this._item,o=s._element,a=s.isVisible(),h=s.getGrid(),l=h._settings,c=t._settings,u=t._element,d=t._items,f=h._items.indexOf(s),p=i||document.body,_=void 0,m=void 0,v=void 0,g=void 0,y=void 0,b=void 0;if("number"==typeof e)_=Z(d,e,!0);else{if(!(m=t._getItem(e)))return this;_=d.indexOf(m)}return(s.isPositioning()||this._isActive||s.isReleasing())&&(y=(g=ct(o)).x,b=g.y),s.isPositioning()&&s._layout.stop(!0,{transform:ut(y,b)}),this._isActive&&(y-=this._containerDiffX,b-=this._containerDiffY,this.stop(!0,{transform:ut(y,b)})),s.isReleasing()&&(y-=s._release._containerDiffX,b-=s._release._containerDiffY,s._release.stop(!0,{transform:ut(y,b)})),s._visibility._stopAnimation(),s._drag&&s._drag.destroy(),s._visibility._queue.flush(!0,s),h._hasListeners("beforeSend")&&h._emit("beforeSend",{item:s,fromGrid:h,fromIndex:f,toGrid:t,toIndex:_}),t._hasListeners("beforeReceive")&&t._emit("beforeReceive",{item:s,fromGrid:h,fromIndex:f,toGrid:t,toIndex:_}),bt(o,l.itemClass),bt(o,l.itemVisibleClass),bt(o,l.itemHiddenClass),K(o,c.itemClass),K(o,a?c.itemVisibleClass:c.itemHiddenClass),h._items.splice(f,1),ft(d,s,_),s._gridId=t._id,p!==(n=o.parentNode)&&(p.appendChild(o),v=ht(p,n,!0),g||(y=(g=ct(o)).x,b=g.y),o.style[P]=ut(y+v.left,b+v.top)),s._child.removeAttribute("style"),G(s._child,a?c.visibleStyles:c.hiddenStyles),o.style.display=a?"block":"hidden",r=ht(p,u,!0),s._refreshDimensions(),s._refreshSortData(),s._drag=c.dragEnabled?new St(s):null,this._isActive=!0,this._container=p,this._containerDiffX=r.left,this._containerDiffY=r.top,h._hasListeners("send")&&h._emit("send",{item:s,fromGrid:h,fromIndex:f,toGrid:t,toIndex:_}),t._hasListeners("receive")&&t._emit("receive",{item:s,fromGrid:h,fromIndex:f,toGrid:t,toIndex:_}),this}},{key:"stop",value:function(t,e){if(this._isDestroyed||!this._isActive)return this;var i=this._item,n=i._element,r=i.getGrid()._element,s=void 0;return this._container!==r&&(e||(t?(s=ct(n),At.transform=ut(s.x-this._containerDiffX,s.y-this._containerDiffY)):At.transform=ut(i._left,i._top),e=At),r.appendChild(n),G(n,e)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0,this}},{key:"destroy",value:function(){return this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0),this}}]),e}(r.Component),xt={},Pt=function(t){function e(t){R(this,e);var i=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i._item=t,i._isActive=!1,i._isDestroyed=!1,i._isPositioningStarted=!1,i._containerDiffX=0,i._containerDiffY=0,i}return C(e,t),T(e,[{key:"start",value:function(){if(this._isDestroyed||this._isActive)return this;var t=this._item,e=t.getGrid();return this._isActive=!0,K(t._element,e._settings.itemReleasingClass),e._emit("dragReleaseStart",t),t._layout.start(!1),this}},{key:"stop",value:function(t,e){if(this._isDestroyed||!this._isActive)return this;var i=this._item,n=i._element,r=i.getGrid(),s=r._element,o=void 0;return this._reset(),n.parentNode!==s&&(e||(t?(o=ct(n),xt.transform=ut(o.x-this._containerDiffX,o.y-this._containerDiffY)):xt.transform=ut(i._left,i._top),e=xt),s.appendChild(n),G(n,e)),t||r._emit("dragReleaseEnd",i),this}},{key:"destroy",value:function(){return this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0),this}},{key:"_reset",value:function(){if(!this._isDestroyed){var t=this._item;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,bt(t._element,t.getGrid()._settings.itemReleasingClass)}}}]),e}(r.Component);var Mt=function(t){function e(t){R(this,e);var i=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),n=t._isActive,r=t._element,s=t.getGrid()._settings;return i._item=t,i._isDestroyed=!1,i._isHidden=!n,i._isHiding=!1,i._isShowing=!1,i._queue=new Ct,i._finishShow=i._finishShow.bind(i),i._finishHide=i._finishHide.bind(i),r.style.display=n?"block":"none",K(r,n?s.itemVisibleClass:s.itemHiddenClass),G(t._child,n?s.visibleStyles:s.hiddenStyles),i}return C(e,t),T(e,[{key:"show",value:function(t,e){if(this._isDestroyed)return this;var i=this._item,n=i._element,r=this._queue,s="function"==typeof e?e:null,o=i.getGrid()._settings;return this._isShowing||this._isHidden?this._isShowing&&!t?(s&&r.add(s),this):(this._isShowing||(r.flush(!0,i),bt(n,o.itemHiddenClass),K(n,o.itemVisibleClass),this._isHiding||(n.style.display="block")),s&&r.add(s),i._isActive=this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,t,this._finishShow),this):(s&&s(!1,i),this)}},{key:"hide",value:function(t,e){if(this._isDestroyed)return this;var i=this._item,n=i._element,r=this._queue,s="function"==typeof e?e:null,o=i.getGrid()._settings;return!this._isHiding&&this._isHidden?(s&&s(!1,i),this):this._isHiding&&!t?(s&&r.add(s),this):(this._isHiding||(r.flush(!0,i),K(n,o.itemHiddenClass),bt(n,o.itemVisibleClass)),s&&r.add(s),this._isHidden=this._isHiding=!0,i._isActive=this._isShowing=!1,this._startAnimation(!1,t,this._finishHide),this)}},{key:"destroy",value:function(){if(this._isDestroyed)return this;var t=this._item,e=t._element,i=t.getGrid(),n=this._queue,r=i._settings;return this._stopAnimation({}),n.flush(!0,t).destroy(),bt(e,r.itemVisibleClass),bt(e,r.itemHiddenClass),this._item=null,this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0,this}},{key:"_startAnimation",value:function(t,e,i){if(!this._isDestroyed){var n=this._item,r=n.getGrid()._settings,s=t?r.visibleStyles:r.hiddenStyles,o=parseInt(t?r.showDuration:r.hideDuration)||0,a=(t?r.showEasing:r.hideEasing)||"ease",h=e||o<=0,l=void 0;if(s){if(j(n._id),h)return n._animateChild.isAnimating()?n._animateChild.stop(s):G(n._child,s),void(i&&i());var c,u,d;c=n._id,u=function(){l=function(t,e){var i={};for(var n in e)i[n]=N(t,H(n));return i}(n._child,s)},d=function(){n._animateChild.start(l,s,{duration:o,easing:a,onFinish:i})},z.add(c+"visibility",u,d)}else i&&i()}}},{key:"_stopAnimation",value:function(t){if(!this._isDestroyed){var e=this._item;j(e._id),e._animateChild.stop(t)}}},{key:"_finishShow",value:function(){this._isHidden||(this._isShowing=!1,this._queue.flush(!1,this._item))}},{key:"_finishHide",value:function(){if(this._isHidden){var t=this._item;this._isHiding=!1,Nt.transform=ut(0,0),t._layout.stop(!0,Nt),t._element.style.display="none",this._queue.flush(!1,t)}}}]),e}(r.Component),Nt={},Lt=0;function Ht(){return++Lt}var Gt,Yt,Ft,Xt,zt=function(){function t(e,i,n){R(this,t);var r=e._settings;this._id=Ht(),this._gridId=e._id,this._isDestroyed=!1,this._left=0,this._top=0,this._element=i,this._child=i.children[0],i.parentNode!==e._element&&e._element.appendChild(i),K(i,r.itemClass),"boolean"!=typeof n&&(n="none"!==N(i,"display")),this._isActive=n,i.style.left="0",i.style.top="0",i.style[P]=ut(0,0),this._animate=new Y(i),this._animateChild=new Y(this._child),this._visibility=new Mt(this),this._layout=new It(this),this._migrate=new Ot(this),this._release=new Pt(this),this._drag=r.dragEnabled?new St(this):null,this._refreshDimensions(),this._refreshSortData()}return T(t,[{key:"getGrid",value:function(){return D[this._gridId]}},{key:"getElement",value:function(){return this._element}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"getMargin",value:function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}}},{key:"getPosition",value:function(){return{left:this._left,top:this._top}}},{key:"isActive",value:function(){return this._isActive}},{key:"isVisible",value:function(){return!!this._visibility&&!this._visibility._isHidden}},{key:"isShowing",value:function(){return!(!this._visibility||!this._visibility._isShowing)}},{key:"isHiding",value:function(){return!(!this._visibility||!this._visibility._isHiding)}},{key:"isPositioning",value:function(){return!(!this._layout||!this._layout._isActive)}},{key:"isDragging",value:function(){return!(!this._drag||!this._drag._isActive)}},{key:"isReleasing",value:function(){return!(!this._release||!this._release._isActive)}},{key:"isDestroyed",value:function(){return this._isDestroyed}},{key:"_refreshDimensions",value:function(){if(!this._isDestroyed&&!this._visibility._isHidden){var t=this._element,e=t.getBoundingClientRect();this._width=e.width,this._height=e.height,this._marginLeft=Math.max(0,nt(t,"margin-left")),this._marginRight=Math.max(0,nt(t,"margin-right")),this._marginTop=Math.max(0,nt(t,"margin-top")),this._marginBottom=Math.max(0,nt(t,"margin-bottom"))}}},{key:"_refreshSortData",value:function(){if(!this._isDestroyed){var t=this._sortData={},e=this.getGrid()._settings.sortData,i=void 0;for(i in e)t[i]=e[i](this,this._element)}}},{key:"_destroy",value:function(t){if(!this._isDestroyed){var e=this._element,i=this.getGrid(),n=i._settings,r=i._items.indexOf(this);this._release.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._animate.destroy(),this._animateChild.destroy(),this._drag&&this._drag.destroy(),e.removeAttribute("style"),this._child.removeAttribute("style"),bt(e,n.itemClass),r>-1&&i._items.splice(r,1),t&&e.parentNode.removeChild(e),this._isActive=!1,this._isDestroyed=!0}}}]),t}(),qt=function(t){function e(){R(this,e);var t=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._slots=[],t._slotSizes=[],t._freeSlots=[],t._newSlots=[],t._rectItem={},t._rectStore=[],t._rectId=0,t._layout={slots:null,setWidth:!1,setHeight:!1,width:!1,height:!1},t._sortRectsLeftTop=t._sortRectsLeftTop.bind(t),t._sortRectsTopLeft=t._sortRectsTopLeft.bind(t),t}return C(e,t),T(e,[{key:"getLayout",value:function(t,e,i,n,r){var s=this._layout,o=!(!r||!r.fillGaps),a=!(!r||!r.horizontal),h=!(!r||!r.alignRight),l=!(!r||!r.alignBottom),c=!(!r||!r.rounding),u=this._slotSizes,d=void 0;if(s.slots=n||this._slots,s.width=a?0:c?Math.round(e):e,s.height=a?c?Math.round(i):i:0,s.setWidth=a,s.setHeight=!a,s.slots.length=0,u.length=0,!t.length)return s;for(d=0;d<t.length;d++)this._addSlot(t[d],a,o,c,h||l);if(h)for(d=0;d<s.slots.length;d+=2)s.slots[d]=s.width-(s.slots[d]+u[d]);if(l)for(d=1;d<s.slots.length;d+=2)s.slots[d]=s.height-(s.slots[d]+u[d]);return u.length=0,this._freeSlots.length=0,this._newSlots.length=0,this._rectId=0,s}},{key:"_addRect",value:function(t,e,i,n){var r=++this._rectId,s=this._rectStore;return s[r]=t||0,s[++this._rectId]=e||0,s[++this._rectId]=i||0,s[++this._rectId]=n||0,r}},{key:"_getRect",value:function(t,e){var i=e||this._rectItem,n=this._rectStore;return i.left=n[t]||0,i.top=n[++t]||0,i.width=n[++t]||0,i.height=n[++t]||0,i}},{key:"_doRectsOverlap",value:function(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}},{key:"_isRectWithinRect",value:function(t,e){return t.left>=e.left&&t.top>=e.top&&t.left+t.width<=e.left+e.width&&t.top+t.height<=e.top+e.height}}]),e}(r.Component);qt.prototype._addSlot=(Gt={},function(t,e,i,n,r){var s=this._layout,o=this._freeSlots,a=this._newSlots,h=void 0,l=void 0,c=void 0,u=void 0,d=void 0,f=void 0;for(a.length=0,Gt.left=null,Gt.top=null,Gt.width=t._width+t._marginLeft+t._marginRight,Gt.height=t._height+t._marginTop+t._marginBottom,n&&(Gt.width=Math.round(Gt.width),Gt.height=Math.round(Gt.height)),d=0;d<o.length;d++)if((l=o[d])&&(h=this._getRect(l),Gt.width<=h.width+.001&&Gt.height<=h.height+.001)){Gt.left=h.left,Gt.top=h.top;break}for(null===Gt.left&&(Gt.left=e?s.width:0,Gt.top=e?0:s.height,i||(u=!0)),!e&&Gt.top+Gt.height>s.height&&(Gt.left>0&&a.push(this._addRect(0,s.height,Gt.left,1/0)),Gt.left+Gt.width<s.width&&a.push(this._addRect(Gt.left+Gt.width,s.height,s.width-Gt.left-Gt.width,1/0)),s.height=Gt.top+Gt.height),e&&Gt.left+Gt.width>s.width&&(Gt.top>0&&a.push(this._addRect(s.width,0,1/0,Gt.top)),Gt.top+Gt.height<s.height&&a.push(this._addRect(s.width,Gt.top+Gt.height,1/0,s.height-Gt.top-Gt.height)),s.width=Gt.left+Gt.width),d=i?0:u?o.length:d;d<o.length;d++)if(l=o[d])for(h=this._getRect(l),c=this._splitRect(h,Gt),f=0;f<c.length;f++)l=c[f],(h=this._getRect(l)).width>.49&&h.height>.49&&(!e&&h.top<s.height||e&&h.left<s.width)&&a.push(l);a.length&&this._purgeRects(a).sort(e?this._sortRectsLeftTop:this._sortRectsTopLeft),e?s.width=Math.max(s.width,Gt.left+Gt.width):s.height=Math.max(s.height,Gt.top+Gt.height),s.slots.push(Gt.left,Gt.top),r&&this._slotSizes.push(Gt.width,Gt.height),this._freeSlots=a,this._newSlots=o}),qt.prototype._splitRect=(Yt=[],function(t,e){return Yt.length=0,this._doRectsOverlap(t,e)?(t.left<e.left&&Yt.push(this._addRect(t.left,t.top,e.left-t.left,t.height)),t.left+t.width>e.left+e.width&&Yt.push(this._addRect(e.left+e.width,t.top,t.left+t.width-(e.left+e.width),t.height)),t.top<e.top&&Yt.push(this._addRect(t.left,t.top,t.width,e.top-t.top)),t.top+t.height>e.top+e.height&&Yt.push(this._addRect(t.left,e.top+e.height,t.width,t.top+t.height-(e.top+e.height))),Yt):(Yt.push(this._addRect(t.left,t.top,t.width,t.height)),Yt)}),qt.prototype._purgeRects=(Ft={},Xt={},function(t){for(var e=t.length,i=void 0;e--;)if(i=t.length,t[e])for(this._getRect(t[e],Ft);i--;)if(t[i]&&e!==i&&this._isRectWithinRect(Ft,this._getRect(t[i],Xt))){t[e]=0;break}return t}),qt.prototype._sortRectsTopLeft=function(){var t={},e={};return function(i,n){return this._getRect(i,t),this._getRect(n,e),t.top<e.top?-1:t.top>e.top?1:t.left<e.left?-1:t.left>e.left?1:0}}(),qt.prototype._sortRectsLeftTop=function(){var t={},e={};return function(i,n){return this._getRect(i,t),this._getRect(n,e),t.left<e.left?-1:t.left>e.left?1:t.top<e.top?-1:t.top>e.top?1:0}}();function jt(t){var e=Object.prototype.toString.call(t);return"[object HTMLCollection]"===e||"[object NodeList]"===e}function Bt(t){return jt(t)?Array.prototype.slice.call(t):Array.prototype.concat(t)}var Wt=new qt;function Vt(){}var Ut=function(t){function e(t,i){R(this,e);var n,r=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i)),s=r,o=void 0,a=void 0;if(t=r._element="string"==typeof t?document.querySelector(t):t,!document.body.contains(t))throw new Error("Container element must be an existing DOM element");return"function"!=typeof(o=r._settings=function(t,e){var i=Jt({},t);e&&(i=Jt(i,e));return i.visibleStyles=(e||0).visibleStyles||(t||0).visibleStyles,i.hiddenStyles=(e||0).hiddenStyles||(t||0).hiddenStyles,i}(e.defaultOptions,i)).dragSort&&(o.dragSort=!!o.dragSort),r._id=Ht(),D[r._id]=s,r._isDestroyed=!1,r._layout={id:0,items:[],slots:[],setWidth:!1,setHeight:!1,width:0,height:0},r._emitter=new A,K(t,o.containerClass),r._items=[],"string"==typeof(n=o.items)?Bt(t.children).forEach((function(t){("*"===n||J(t,n))&&s._items.push(new zt(s,t))})):(Array.isArray(n)||jt(n))&&(r._items=Bt(n).map((function(t){return new zt(s,t)}))),"number"!=typeof(a=o.layoutOnResize)&&(a=!0===a?0:-1),a>=0&&window.addEventListener("resize",s._resizeHandler=tt((function(){s.refreshItems().layout()}),a)),o.layoutOnInit&&r.layout(!0),r}return C(e,t),T(e,[{key:"on",value:function(t,e){return this._emitter.on(t,e),this}},{key:"once",value:function(t,e){return this._emitter.once(t,e),this}},{key:"off",value:function(t,e){return this._emitter.off(t,e),this}},{key:"getElement",value:function(){return this._element}},{key:"getItems",value:function(t){if(this._isDestroyed||!t&&0!==t)return this._items.slice(0);var e=[],i=Bt(t),n=void 0,r=void 0;for(r=0;r<i.length;r++)(n=this._getItem(i[r]))&&e.push(n);return e}},{key:"refreshItems",value:function(t){if(this._isDestroyed)return this;var e=this.getItems(t),i=void 0;for(i=0;i<e.length;i++)e[i]._refreshDimensions();return this}},{key:"refreshSortData",value:function(t){if(this._isDestroyed)return this;var e=this.getItems(t),i=void 0;for(i=0;i<e.length;i++)e[i]._refreshSortData();return this}},{key:"synchronize",value:function(){if(this._isDestroyed)return this;var t=this._element,e=this._items,i=void 0,n=void 0,r=void 0;if(e.length){for(r=0;r<e.length;r++)(n=e[r]._element).parentNode===t&&(i=i||document.createDocumentFragment()).appendChild(n);i&&t.appendChild(i)}return this._emit("synchronize"),this}},{key:"layout",value:function(t,e){if(this._isDestroyed)return this;var i=this,n=this._element,r=this._updateLayout(),s=r.id,o=r.items.length,a=o,h="function"==typeof t?t:e,l="function"==typeof h,c=l?r.items.slice(0):null,u=void 0,d=void 0,f=void 0;function p(){if(!(--a>0)){var t=i._layout.id!==s;l&&h(t,c),!t&&i._hasListeners("layoutEnd")&&i._emit("layoutEnd",r.items.slice(0))}}if((r.setHeight&&"number"==typeof r.height||r.setWidth&&"number"==typeof r.width)&&(u="border-box"===N(n,"box-sizing")),r.setHeight&&("number"==typeof r.height?n.style.height=(u?r.height+this._borderTop+this._borderBottom:r.height)+"px":n.style.height=r.height),r.setWidth&&("number"==typeof r.width?n.style.width=(u?r.width+this._borderLeft+this._borderRight:r.width)+"px":n.style.width=r.width),this._hasListeners("layoutStart")&&this._emit("layoutStart",r.items.slice(0)),!o)return p(),this;for(f=0;f<o;f++)(d=r.items[f])&&(d._left=r.slots[2*f],d._top=r.slots[2*f+1],d.isDragging()?p():d._layout.start(!0===t,p));return this}},{key:"add",value:function(t,e){if(this._isDestroyed||!t)return[];var i=Bt(t);if(!i.length)return i;var n=e||0,r=n.layout?n.layout:void 0===n.layout,s=this._items,o=!1,a=void 0,h=void 0;for(h=0;h<i.length;h++)a=new zt(this,i[h],n.isActive),i[h]=a,a._isActive&&(o=!0,a._layout._skipNextAnimation=!0);return ft(s,i,n.index),this._hasListeners("add")&&this._emit("add",i.slice(0)),o&&r&&this.layout("instant"===r,"function"==typeof r?r:void 0),i}},{key:"remove",value:function(t,e){if(this._isDestroyed)return this;var i=e||0,n=i.layout?i.layout:void 0===i.layout,r=!1,s=this.getItems(),o=this.getItems(t),a=[],h=void 0,l=void 0;for(l=0;l<o.length;l++)h=o[l],a.push(s.indexOf(h)),h._isActive&&(r=!0),h._destroy(i.removeElements);return this._hasListeners("remove")&&this._emit("remove",o.slice(0),a),r&&n&&this.layout("instant"===n,"function"==typeof n?n:void 0),o}},{key:"show",value:function(t,e){return this._isDestroyed||this._setItemsVisibility(t,!0,e),this}},{key:"hide",value:function(t,e){return this._isDestroyed||this._setItemsVisibility(t,!1,e),this}},{key:"filter",value:function(t,e){if(this._isDestroyed||!this._items.length)return this;var i=[],n=[],r="string"==typeof t,s="function"==typeof t,o=e||0,a=!0===o.instant,h=o.layout?o.layout:void 0===o.layout,l="function"==typeof o.onFinish?o.onFinish:null,c=-1,u=Vt,d=void 0,f=void 0;if(l&&(u=function(){++c&&l(i.slice(0),n.slice(0))}),s||r)for(f=0;f<this._items.length;f++)d=this._items[f],(s?t(d):J(d._element,t))?i.push(d):n.push(d);return i.length?this.show(i,{instant:a,onFinish:u,layout:!1}):u(),n.length?this.hide(n,{instant:a,onFinish:u,layout:!1}):u(),(i.length||n.length)&&(this._hasListeners("filter")&&this._emit("filter",i.slice(0),n.slice(0)),h&&this.layout("instant"===h,"function"==typeof h?h:void 0)),this}},{key:"move",value:function(t,e,i){if(this._isDestroyed||this._items.length<2)return this;var n=this._items,r=i||0,s=r.layout?r.layout:void 0===r.layout,o="swap"===r.action,a=o?"swap":"move",h=this._getItem(t),l=this._getItem(e),c=void 0,u=void 0;return h&&l&&h!==l&&(c=n.indexOf(h),u=n.indexOf(l),o?$(n,c,u):Q(n,c,u),this._hasListeners("move")&&this._emit("move",{item:h,fromIndex:c,toIndex:u,action:a}),s&&this.layout("instant"===s,"function"==typeof s?s:void 0)),this}},{key:"send",value:function(t,e,i,n){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(!(t=this._getItem(t)))return this;var r=n||0,s=r.appendTo||document.body,o=r.layoutSender?r.layoutSender:void 0===r.layoutSender,a=r.layoutReceiver?r.layoutReceiver:void 0===r.layoutReceiver;return t._migrate.start(e,i,s),t._migrate._isActive&&t._isActive&&(o&&this.layout("instant"===o,"function"==typeof o?o:void 0),a&&e.layout("instant"===a,"function"==typeof a?a:void 0)),this}},{key:"destroy",value:function(t){if(this._isDestroyed)return this;var e=this._element,i=this._items.slice(0),n=void 0;for(this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler),n=0;n<i.length;n++)i[n]._destroy(t);return bt(e,this._settings.containerClass),e.style.height="",e.style.width="",this._emit("destroy"),this._emitter.destroy(),D[this._id]=void 0,this._isDestroyed=!0,this}},{key:"_getItem",value:function(t){if(this._isDestroyed||!t&&0!==t)return null;if("number"==typeof t)return this._items[t>-1?t:this._items.length+t]||null;if(t instanceof zt)return t._gridId===this._id?t:null;for(var e=0;e<this._items.length;e++)if(this._items[e]._element===t)return this._items[e];return null}},{key:"_updateLayout",value:function(){var t,e,i=this._layout,n=this._settings.layout,r=void 0,s=void 0;for(++i.id,i.items.length=0,s=0;s<this._items.length;s++)this._items[s]._isActive&&i.items.push(this._items[s]);return this._refreshDimensions(),t=this._width-this._borderLeft-this._borderRight,e=this._height-this._borderTop-this._borderBottom,r="function"==typeof n?n(i.items,t,e):Wt.getLayout(i.items,t,e,i.slots,n),i.slots=r.slots,i.setWidth=Boolean(r.setWidth),i.setHeight=Boolean(r.setHeight),i.width=r.width,i.height=r.height,i}},{key:"_emit",value:function(){var t;this._isDestroyed||(t=this._emitter).emit.apply(t,arguments)}},{key:"_hasListeners",value:function(t){var e=this._emitter._events[t];return!(!e||!e.length)}},{key:"_updateBoundingRect",value:function(){var t=this._element.getBoundingClientRect();this._width=t.width,this._height=t.height,this._left=t.left,this._top=t.top}},{key:"_updateBorders",value:function(t,e,i,n){var r=this._element;t&&(this._borderLeft=nt(r,"border-left-width")),e&&(this._borderRight=nt(r,"border-right-width")),i&&(this._borderTop=nt(r,"border-top-width")),n&&(this._borderBottom=nt(r,"border-bottom-width"))}},{key:"_refreshDimensions",value:function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1)}},{key:"_setItemsVisibility",value:function(t,e,i){var n=this,r=this.getItems(t),s=i||0,o=!0===s.instant,a=s.onFinish,h=s.layout?s.layout:void 0===s.layout,l=r.length,c=e?"showStart":"hideStart",u=e?"showEnd":"hideEnd",d=e?"show":"hide",f=!1,p=[],_=[],m=void 0,v=void 0;if(l){for(this._hasListeners(c)&&this._emit(c,r.slice(0)),v=0;v<r.length;v++)m=r[v],(e&&!m._isActive||!e&&m._isActive)&&(f=!0),e&&!m._isActive&&(m._layout._skipNextAnimation=!0),e&&m._visibility._isHidden&&_.push(m),m._visibility[d](o,(function(t,e){t||p.push(e),--l<1&&("function"==typeof a&&a(p.slice(0)),n._hasListeners(u)&&n._emit(u,p.slice(0)))}));_.length&&this.refreshItems(_),f&&h&&this.layout("instant"===h,"function"==typeof h?h:void 0)}else"function"==typeof a&&a(r)}}]),e}(r.Component);function Jt(t,e){var i=Object.keys(e),n=i.length,r=void 0,s=void 0,o=void 0;for(o=0;o<n;o++)r=_t(e[s=i[o]]),_t(t[s])&&r?t[s]=Jt(Jt({},t[s]),e[s]):r?t[s]=Jt({},e[s]):Array.isArray(e[s])?t[s]=e[s].slice(0):t[s]=e[s];return t}Ut.Item=zt,Ut.ItemLayout=It,Ut.ItemVisibility=Mt,Ut.ItemRelease=Pt,Ut.ItemMigrate=Ot,Ut.ItemAnimate=Y,Ut.ItemDrag=St,Ut.Emitter=A,Ut.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!0},layoutOnResize:100,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragStartPredicate:{distance:0,delay:0,handle:!1},dragAxis:null,dragSort:!0,dragSortInterval:100,dragSortPredicate:{threshold:50,action:"move"},dragReleaseDuration:300,dragReleaseEasing:"ease",dragHammerSettings:{touchAction:"none"},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing"},Ut.prototype.sort=function(){var t=void 0,e=void 0,i=void 0,n=void 0;function r(t){for(var e={},i=0;i<t.length;i++)e[t[i]._id]=i;return e}function s(t,i){var r=n[t._id],s=n[i._id];return e?s-r:r-s}function o(o,a){for(var h=0,l=void 0,c=void 0,u=void 0,d=void 0,f=0;f<t.length;f++)if(l=t[f][0],c=t[f][1],u=(o._sortData?o:o._refreshSortData())._sortData[l],d=(a._sortData?a:a._refreshSortData())._sortData[l],h="desc"===c||!c&&e?d<u?-1:d>u?1:0:u<d?-1:u>d?1:0)return h;return h||(n||(n=r(i)),h=s(o,a)),h}function a(o,a){var h=t(o,a);return e&&h&&(h=-h),h||(n||(n=r(i)),s(o,a))}return function(r,s){if(this._isDestroyed||this._items.length<2)return this;var h=this._items,l=s||0,c=l.layout?l.layout:void 0===l.layout,u=void 0;if(t=r,e=!!l.descending,i=h.slice(0),n=null,"function"==typeof t)h.sort(a);else if("string"==typeof t)t=r.trim().split(" ").map((function(t){return t.split(":")})),h.sort(o);else{if(!Array.isArray(t))return this;if(t.length!==h.length)throw new Error("[Muuri] sort reference items do not match with grid items.");for(u=0;u<h.length;u++){if(!t.includes(h[u]))throw new Error("[Muuri] sort reference items do not match with grid items.");h[u]=t[u]}e&&h.reverse()}return this._hasListeners("sort")&&this._emit("sort",h.slice(0),i),c&&this.layout("instant"===c,"function"==typeof c?c:void 0),this}}();var Kt=function(t){function e(t){R(this,e);var i=I(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.grid=new Ut(t.node,t.defaultOptions),i.getMethod=i.getMethod.bind(i),i.getEvent=i.getEvent.bind(i),i.getItemMethod=i.getItemMethod.bind(i),i}return C(e,t),T(e,[{key:"getMethod",value:function(t,e,i,n,r){try{var s=void 0;switch(t){case"getElement":s=this.grid.getElement();break;case"getItems":s=this.grid.getItems(e);break;case"refreshItems":s=this.grid.refreshItems(e);break;case"refreshSortData":s=this.grid.refreshSortData(e);break;case"synchronize":s=this.grid.synchronize();break;case"layout":s=this.grid.layout(e,i);break;case"add":s=this.grid.add(e,i);break;case"remove":s=this.grid.remove(e,i);break;case"show":s=this.grid.show(e,i);break;case"hide":s=this.grid.hide(e,i);break;case"filter":s=this.grid.filter(e,i);break;case"sort":s=this.grid.sort(e,i);break;case"move":s=this.grid.move(e,i,n);break;case"send":s=this.grid.send(e,i,n,r);break;case"on":s=this.grid.on(e,i);break;case"once":s=this.grid.once(e,i);break;case"off":s=this.grid.off(e,i);break;case"destroy":s=this.grid.destroy(e);break;default:s=null,console.error("Invalid 'Method' provided: "+t),console.error("Check the Muuri documentation for a list of valid methods.")}return s}catch(t){console.error("The following error occured in 'getMethod()': "+t)}}},{key:"getEvent",value:function(t,e,i,n){var r=this;if(null==t||-1===["synchronize","layoutStart","layoutEnd","add","remove","showStart","showEnd","hideStart","hideEnd","filter","sort","move","send","beforeSend","receive","beforeReceive","dragInit","dragStart","dragMove","dragScroll","dragEnd","dragReleaseStart","dragReleaseEnd","destroy"].indexOf(t))console.error("Invalid event provided to 'getEvent()': "+t);else try{this.grid.on(t,(function(t,e){n&&n(t,e),r.grid.synchronize()}))}catch(t){console.error("The following error occured in 'getEvent()': "+t)}}},{key:"getItemMethod",value:function(t,e){try{var i=void 0;switch(t){case"getGrid":i=e.getGrid();break;case"getElement":i=e.getElement();break;case"getWidth":i=e.getWidth();break;case"getHeight":i=e.getHeight();break;case"getMargin":i=e.getMargin();break;case"getPosition":i=e.getPosition();break;case"isActive":i=e.isActive();break;case"isVisible":i=e.isVisible();break;case"isShowing":i=e.isShowing();break;case"isHiding":i=e.isHiding();break;case"isPositioning":i=e.isPositioning();break;case"isDragging":i=e.isDragging();break;case"isReleasing":i=e.isReleasing();break;case"isDestroyed":i=e.isDestroyed();break;default:i=null,console.error("Invalid 'Item Event' provided: "+t),console.error("Check the Muuri documentation for a list of valid item events.")}return i}catch(t){console.error("The following error occured in 'getItemMethod()': "+t)}}}]),e}(r.Component);Kt.propTypes={node:E.a.node.isRequired,defaultOptions:E.a.object};var Zt=Kt,Qt=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),$t=function(t){function e(e){var i=t.call(this,e)||this;return i.addToGrid=i.addToGrid.bind(i),i.removeFromGrid=i.removeFromGrid.bind(i),i.onResize=i.onResize.bind(i),i.cancelNew=i.cancelNew.bind(i),i.addRecipe=i.addRecipe.bind(i),i.selectRecipe=i.selectRecipe.bind(i),i.state={addingRecipe:!1,queryMode:!1,selectedItems:{}},f.refreshRecipeGrid=i.refreshGrid.bind(i),f.setQueryMode=i.setQueryMode.bind(i),f.setSelectCB=function(t){return i.setState({selectCB:t})},i}return Qt(e,t),e.prototype.componentDidMount=function(){this.grid=new Zt({node:this.gridElement,defaultOptions:{dragEnabled:!0,dragStartPredicate:function(t,e,i){return"cardTitle"===e.target.className&&function(t,e,i){var n=t._drag,r=n._startPredicateData||n._setupStartPredicate(i);if(!e.isFinal)return!(!r.handleElement&&(r.handleElement=n._getStartPredicateHandle(e),!r.handleElement))&&(r.delay&&(r.event=e,r.delayTimer||(r.delayTimer=window.setTimeout((function(){r.delay=0,n._resolveStartPredicate(r.event)&&(n._forceResolveStartPredicate(r.event),n._resetStartPredicate())}),r.delay))),n._resolveStartPredicate(e));n._finishStartPredicate(e)}(t,e,i)}}})},e.prototype.componentWillUnmount=function(){this.grid.getMethod("destroy")},e.prototype.render=function(){var t=this;return s.a.createElement("div",null,s.a.createElement("h1",null,"Your Recipes"),s.a.createElement("div",{ref:function(e){return t.gridElement=e}},this.props.recipes.map((function(e){return t.renderCard(e)})),this.state.addingRecipe&&this.renderNewCard()),this.state.addingRecipe||this.state.queryMode||s.a.createElement("button",{onClick:function(e){return t.setState({addingRecipe:!0})}},"Add Recipe"))},e.prototype.renderCard=function(t){return s.a.createElement(w,{key:t.name,recipeData:t,onMount:this.addToGrid,onUnMount:this.removeFromGrid,editRecipe:this.props.editRecipe,onResize:this.onResize,queryMode:this.state.queryMode,newRecipe:!1,selected:this.state.selectedItems[t.name],selectRecipe:this.selectRecipe,onDelete:this.props.deleteRecipeFromSvr})},e.prototype.renderNewCard=function(){return s.a.createElement(w,{key:"THE_NEW_RECIPE",recipeData:{name:"",text:""},onMount:this.addToGrid,onUnMount:this.removeFromGrid,editRecipe:this.props.editRecipe,addRecipe:this.addRecipe,queryMode:!1,onResize:this.onResize,newRecipe:!0,selected:!1,cancelNew:this.cancelNew,onDelete:this.props.deleteRecipeFromSvr})},e.prototype.cancelNew=function(){this.setState({addingRecipe:!1})},e.prototype.addRecipe=function(t){this.setState({addingRecipe:!1}),this.props.addRecipe(t)},e.prototype.selectRecipe=function(t){var e=this.state.selectedItems;e[t]=!0,this.setState({selectedItems:e}),this.state.selectCB&&this.state.selectCB(t)},e.prototype.addToGrid=function(t){this.grid.getMethod("add",[t],{isActive:!0})},e.prototype.removeFromGrid=function(t){this.grid.getMethod("remove",[t],{removeElements:!1})},e.prototype.onResize=function(t){this.grid.getMethod("refreshItems",[t]),this.grid.getMethod("layout")},e.prototype.refreshGrid=function(){this.grid.getMethod("refreshItems"),this.grid.getMethod("layout"),this.props.fetchRecipes()},e.prototype.setQueryMode=function(t){this.setState({queryMode:t,selectedItems:{}})},e}(r.Component),te=function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ee=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)n[r]=s[o];return n},ie=function(t){function e(e){var i=t.call(this,e)||this;return i.updateRecipes=i.updateRecipes.bind(i),i.reportError=i.reportError.bind(i),i.deleteRecipe=i.deleteRecipe.bind(i),i.editRecipe=i.editRecipe.bind(i),i.addRecipe=i.addRecipe.bind(i),i.fetchRecipes=i.fetchRecipes.bind(i),i.service=c?new l:new _,i.state={recipes:[],error:""},i}return te(e,t),e.prototype.componentDidMount=function(){this.fetchRecipes()},e.prototype.render=function(){var t;return t=s.a.createElement($t,{recipes:this.state.recipes,deleteRecipeFromSvr:this.deleteRecipe,editRecipe:this.editRecipe,addRecipe:this.addRecipe,fetchRecipes:this.fetchRecipes}),s.a.createElement("div",null,t,s.a.createElement("div",null,this.state.error))},e.prototype.updateRecipes=function(t){this.setState({recipes:t,error:""})},e.prototype.reportError=function(t){this.setState({error:t.message})},e.prototype.deleteRecipe=function(t){var e=this.state.recipes.filter((function(e){return e.name!==t}));e.length!==this.state.recipes.length&&(this.service.deleteRecipe(t).then(this.updateRecipes).catch(this.reportError),this.setState({recipes:e}))},e.prototype.editRecipe=function(t){for(var e=ee(this.state.recipes),i=0;i<e.length;i++)if(e[i].name===t.name){e[i]=t;break}this.service.editRecipe(t.name,t).then(this.updateRecipes).catch(this.reportError),this.setState({recipes:e})},e.prototype.addRecipe=function(t){var e=ee(this.state.recipes);e.push(t),this.service.addRecipe(t.name,t).then(this.updateRecipes).catch(this.reportError),this.setState({recipes:e})},e.prototype.fetchRecipes=function(){this.service.getRecipes().then(this.updateRecipes).catch(this.reportError)},e}(r.Component);Object(o.render)(s.a.createElement(ie,null),document.getElementById("recipeRoot"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdERPTVwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01vY2tEYXRhU2VydmljZS50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0RhdGFTZXJ2aWNlLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvQVBJQ29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy9EYXRhU2VydmljZUltcGwudHN4Iiwid2VicGFjazovLy8uL3NyYy9EZWxldGVXaWRnZXQudHN4Iiwid2VicGFjazovLy8uL3NyYy9SZWNpcGVDYXJkLnRzeCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbXV1cmkvZGlzdC9pbmRleC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvUmVjaXBlR3JpZC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50c3giXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJSZWFjdCIsIlJlYWN0RE9NIiwiUmVhY3RQcm9wVHlwZXNTZWNyZXQiLCJlbXB0eUZ1bmN0aW9uIiwiZW1wdHlGdW5jdGlvbldpdGhSZXNldCIsInJlc2V0V2FybmluZ0NhY2hlIiwic2hpbSIsInByb3BzIiwicHJvcE5hbWUiLCJjb21wb25lbnROYW1lIiwibG9jYXRpb24iLCJwcm9wRnVsbE5hbWUiLCJzZWNyZXQiLCJlcnIiLCJFcnJvciIsImdldFNoaW0iLCJpc1JlcXVpcmVkIiwiUmVhY3RQcm9wVHlwZXMiLCJhcnJheSIsImJvb2wiLCJmdW5jIiwibnVtYmVyIiwic3RyaW5nIiwic3ltYm9sIiwiYW55IiwiYXJyYXlPZiIsImVsZW1lbnQiLCJlbGVtZW50VHlwZSIsImluc3RhbmNlT2YiLCJub2RlIiwib2JqZWN0T2YiLCJvbmVPZiIsIm9uZU9mVHlwZSIsInNoYXBlIiwiZXhhY3QiLCJjaGVja1Byb3BUeXBlcyIsIlByb3BUeXBlcyIsImV4dGVuZFN0YXRpY3MiLCJEYXRhU2VydmljZSIsIl9fZXh0ZW5kcyIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJNb2NrRGF0YVNlcnZpY2UiLCJfc3VwZXIiLCJfdGhpcyIsInJlY2lwZUJvb2siLCJNYXAiLCJ0ZXh0Iiwia2V5SW5ncmVkaWVudHMiLCJjb21tb25JbmdyZWRpZW50cyIsImdldFJlY2lwZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZyb20iLCJ2YWx1ZXMiLCJyZWNpcGVzTm93IiwiZGVsZXRlUmVjaXBlIiwiZGVsZXRlIiwiZWRpdFJlY2lwZSIsInJlY2lwZURhdGEiLCJzZXQiLCJhZGRSZWNpcGUiLCJjb25zdHMiLCJ3aW5kb3ciLCJDQUxMQkFDS19SRUdJU1RSWSIsImUiLCJFWFRfQ0FMTEJBQ0tfUkVHSVNUUlkiLCJEYXRhU2VydmljZUltcGwiLCJoYW5kbGVFcnJvcnMiLCJhcGlTZXJ2ZXIiLCJwcm90b2NvbCIsImhvc3RuYW1lIiwiZmV0Y2giLCJtZXRob2QiLCJjcmVkZW50aWFscyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWN0aW9uIiwidGhlbiIsInJlcyIsInBhcnNlUmVzcG9uc2UiLCJyZXEiLCJyZWNpcGUiLCJyZXNwb25zZSIsImpzb24iLCJpc0xvZ2dlZEluIiwiZXJyb3IiLCJyZWNpcGVzIiwib2siLCJzdGF0dXNUZXh0IiwiRGVsZXRlV2lkZ2V0Iiwic3RhdGUiLCJjb25maXJtaW5nIiwiY29uZmlybURlbGV0ZSIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwiY29uZmlybVllcyIsImNvbmZpcm1ObyIsInNldFN0YXRlIiwib25EZWxldGUiLCJDb21wb25lbnQiLCJfX2Fzc2lnbiIsImFzc2lnbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImFwcGx5IiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImsiLCJhIiwiaiIsImpsIiwiUmVjaXBlQ2FyZCIsImVsZW1lbnRUb0ZvY3VzIiwibmVlZFJlc2l6ZSIsImVkaXRpbmciLCJuZXdSZWNpcGUiLCJkb0VkaXQiLCJkb1NlbGVjdCIsImNhbmNlbEVkaXQiLCJjb25maXJtRWRpdCIsImhhbmRsZUNoYW5nZUZpZWxkIiwiaGFuZGxlQ2hhbmdlTGlzdCIsIm9uS2V5ZG93biIsInJlbmRlckVkaXQiLCJyZW5kZXJSZWFkT25seSIsInJlZiIsImVsIiwiZG9tRWxlbWVudCIsInF1ZXJ5TW9kZSIsInJlbmRlclNlbGVjdEJ0biIsInJlbmRlckVkaXRCdG4iLCJtYXAiLCJpbmciLCJrZXlJIiwiY29tbW9uSSIsInRpdGxlIiwidHlwZSIsIm9uQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJvbktleURvd24iLCJ0ZXh0QXJlYUVsZW1lbnQiLCJ0b1N0cmluZyIsInNyYyIsImFsdCIsInNlbGVjdGVkIiwiY29tcG9uZW50RGlkTW91bnQiLCJvbk1vdW50IiwiZm9jdXNJZlJlcXVpcmVkIiwic3BsaXQiLCJjb3VudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJmb2N1cyIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNldEVkaXREZXNjaXB0aW9uSGVpZ2h0Iiwib25SZXNpemUiLCJ0YSIsInN0eWxlIiwiaGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJvblVuTW91bnQiLCJzZWxlY3RSZWNpcGUiLCJjYW5jZWxOZXciLCJldnQiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImV2ZW50IiwiZGF0YSIsInRhcmdldCIsIml0ZW1OYW1lIiwiaW5ncmVkaWVudHMiLCJpbmRleCIsInN0YXJ0c1dpdGgiLCJwYXJzZUludCIsInN1YnN0cmluZyIsInRyaW0iLCJzcGxpY2UiLCJwdXNoIiwiZ3JpZEluc3RhbmNlcyIsIl90eXBlb2YiLCJpdGVyYXRvciIsIm9iaiIsImNsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsImNyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsImluaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJSZWZlcmVuY2VFcnJvciIsIkVtaXR0ZXIiLCJfQ29tcG9uZW50IiwiZ2V0UHJvdG90eXBlT2YiLCJfZXZlbnRzIiwiX3F1ZXVlIiwiX2NvdW50ZXIiLCJfaXNEZXN0cm95ZWQiLCJsaXN0ZW5lciIsImxpc3RlbmVycyIsImNhbGxiYWNrIiwib2ZmIiwidW5kZWZpbmVkIiwib24iLCJhcmcxIiwiYXJnMiIsImFyZzMiLCJxdWV1ZSIsInFMZW5ndGgiLCJhTGVuZ3RoIiwiZXZlbnRzIiwiaXNUcmFuc2Zvcm1TdXBwb3J0ZWQiLCJ0cmFuc2Zvcm1TdHlsZSIsInRyYW5zZm9ybVByb3AiLCJmb3JFYWNoIiwicHJlZml4IiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJ0b0xvd2VyQ2FzZSIsInN0eWxlc0NhY2hlIiwiV2Vha01hcCIsImdldFN0eWxlIiwic3R5bGVzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJzdHlsZU5hbWVSZWdFeCIsImdldFN0eWxlTmFtZSIsInJlcGxhY2UiLCJzZXRTdHlsZXMiLCJwcm9wIiwiSXRlbUFuaW1hdGUiLCJfZWxlbWVudCIsIl9hbmltYXRpb24iLCJfY2FsbGJhY2siLCJfcHJvcHMiLCJfdmFsdWVzIiwiX2tleWZyYW1lcyIsIl9vcHRpb25zIiwiX29uRmluaXNoIiwicHJvcHNGcm9tIiwicHJvcHNUbyIsIm9wdGlvbnMiLCJhbmltYXRpb24iLCJjdXJyZW50UHJvcHMiLCJjdXJyZW50VmFsdWVzIiwib3B0cyIsImNhbmNlbEFuaW1hdGlvbiIsInByb3BDb3VudCIsInByb3BJbmRleCIsImluZGV4T2YiLCJjYW5jZWwiLCJvbkZpbmlzaCIsIl9wcm9wTmFtZSIsImFuaW1LZXlmcmFtZXMiLCJhbmltT3B0aW9ucyIsImR1cmF0aW9uIiwiZWFzaW5nIiwiYW5pbWF0ZSIsIm9uZmluaXNoIiwicHJvcFZhbHVlIiwic3RvcCIsImhhbW1lciIsImZuIiwiY3JlYXRlQ29tbW9uanNNb2R1bGUiLCJleHBvcnROYW1lIiwiVkVORE9SX1BSRUZJWEVTIiwiVEVTVF9FTEVNRU5UIiwicm91bmQiLCJNYXRoIiwiYWJzIiwibm93IiwiRGF0ZSIsInNldFRpbWVvdXRDb250ZXh0IiwidGltZW91dCIsImNvbnRleHQiLCJzZXRUaW1lb3V0IiwiYmluZEZuIiwiaW52b2tlQXJyYXlBcmciLCJhcmciLCJpc0FycmF5IiwiZWFjaCIsImRlcHJlY2F0ZSIsIm1lc3NhZ2UiLCJkZXByZWNhdGlvbk1lc3NhZ2UiLCJzdGFjayIsImxvZyIsImNvbnNvbGUiLCJ3YXJuIiwib3V0cHV0Iiwic291cmNlIiwibmV4dEtleSIsImV4dGVuZCIsImRlc3QiLCJtZXJnZSIsImtleXMiLCJpbmhlcml0IiwiY2hpbGQiLCJiYXNlIiwicHJvcGVydGllcyIsImNoaWxkUCIsImJhc2VQIiwiYm9vbE9yRm4iLCJ2YWwiLCJhcmdzIiwiaWZVbmRlZmluZWQiLCJ2YWwxIiwidmFsMiIsImFkZEV2ZW50TGlzdGVuZXJzIiwidHlwZXMiLCJoYW5kbGVyIiwic3BsaXRTdHIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFzUGFyZW50IiwicGFyZW50IiwicGFyZW50Tm9kZSIsImluU3RyIiwic3RyIiwiZmluZCIsImluQXJyYXkiLCJmaW5kQnlLZXkiLCJ0b0FycmF5Iiwic2xpY2UiLCJ1bmlxdWVBcnJheSIsInNvcnQiLCJyZXN1bHRzIiwicHJlZml4ZWQiLCJjYW1lbFByb3AiLCJ0b1VwcGVyQ2FzZSIsIl91bmlxdWVJZCIsImdldFdpbmRvd0ZvckVsZW1lbnQiLCJkb2MiLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJwYXJlbnRXaW5kb3ciLCJTVVBQT1JUX1RPVUNIIiwiU1VQUE9SVF9QT0lOVEVSX0VWRU5UUyIsIlNVUFBPUlRfT05MWV9UT1VDSCIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJQUk9QU19YWSIsIlBST1BTX0NMSUVOVF9YWSIsIklucHV0IiwibWFuYWdlciIsImlucHV0VGFyZ2V0IiwiZG9tSGFuZGxlciIsImV2IiwiZW5hYmxlIiwiaW5pdCIsImlucHV0SGFuZGxlciIsImV2ZW50VHlwZSIsImlucHV0IiwicG9pbnRlcnNMZW4iLCJwb2ludGVycyIsImNoYW5nZWRQb2ludGVyc0xlbiIsImNoYW5nZWRQb2ludGVycyIsImlzRmlyc3QiLCJpc0ZpbmFsIiwic2Vzc2lvbiIsInBvaW50ZXJzTGVuZ3RoIiwiZmlyc3RJbnB1dCIsInNpbXBsZUNsb25lSW5wdXREYXRhIiwiZmlyc3RNdWx0aXBsZSIsIm9mZnNldENlbnRlciIsImNlbnRlciIsImdldENlbnRlciIsInRpbWVTdGFtcCIsImRlbHRhVGltZSIsImFuZ2xlIiwiZ2V0QW5nbGUiLCJkaXN0YW5jZSIsImdldERpc3RhbmNlIiwib2Zmc2V0Iiwib2Zmc2V0RGVsdGEiLCJwcmV2RGVsdGEiLCJwcmV2SW5wdXQiLCJ4IiwiZGVsdGFYIiwieSIsImRlbHRhWSIsImNvbXB1dGVEZWx0YVhZIiwib2Zmc2V0RGlyZWN0aW9uIiwiZ2V0RGlyZWN0aW9uIiwib3ZlcmFsbFZlbG9jaXR5IiwiZ2V0VmVsb2NpdHkiLCJvdmVyYWxsVmVsb2NpdHlYIiwib3ZlcmFsbFZlbG9jaXR5WSIsInNjYWxlIiwic3RhcnQiLCJlbmQiLCJyb3RhdGlvbiIsImdldFJvdGF0aW9uIiwibWF4UG9pbnRlcnMiLCJ2ZWxvY2l0eSIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsImRpcmVjdGlvbiIsImxhc3QiLCJsYXN0SW50ZXJ2YWwiLCJ2IiwiY29tcHV0ZUludGVydmFsSW5wdXREYXRhIiwic3JjRXZlbnQiLCJjb21wdXRlSW5wdXREYXRhIiwiZW1pdCIsInJlY29nbml6ZSIsImNsaWVudFgiLCJjbGllbnRZIiwicDEiLCJwMiIsInNxcnQiLCJhdGFuMiIsIlBJIiwiZXZFbCIsImV2VGFyZ2V0IiwiZXZXaW4iLCJkZXN0cm95IiwiTU9VU0VfSU5QVVRfTUFQIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2V1cCIsIk1vdXNlSW5wdXQiLCJwcmVzc2VkIiwiYnV0dG9uIiwid2hpY2giLCJwb2ludGVyVHlwZSIsIlBPSU5URVJfSU5QVVRfTUFQIiwicG9pbnRlcmRvd24iLCJwb2ludGVybW92ZSIsInBvaW50ZXJ1cCIsInBvaW50ZXJjYW5jZWwiLCJwb2ludGVyb3V0IiwiSUUxMF9QT0lOVEVSX1RZUEVfRU5VTSIsIjIiLCIzIiwiNCIsIjUiLCJQT0lOVEVSX0VMRU1FTlRfRVZFTlRTIiwiUE9JTlRFUl9XSU5ET1dfRVZFTlRTIiwiUG9pbnRlckV2ZW50SW5wdXQiLCJzdG9yZSIsInBvaW50ZXJFdmVudHMiLCJNU1BvaW50ZXJFdmVudCIsIlBvaW50ZXJFdmVudCIsInJlbW92ZVBvaW50ZXIiLCJldmVudFR5cGVOb3JtYWxpemVkIiwiaXNUb3VjaCIsInN0b3JlSW5kZXgiLCJwb2ludGVySWQiLCJTSU5HTEVfVE9VQ0hfSU5QVVRfTUFQIiwidG91Y2hzdGFydCIsInRvdWNobW92ZSIsInRvdWNoZW5kIiwidG91Y2hjYW5jZWwiLCJTaW5nbGVUb3VjaElucHV0Iiwic3RhcnRlZCIsIm5vcm1hbGl6ZVNpbmdsZVRvdWNoZXMiLCJhbGwiLCJ0b3VjaGVzIiwiY2hhbmdlZCIsImNoYW5nZWRUb3VjaGVzIiwiY29uY2F0IiwiVE9VQ0hfSU5QVVRfTUFQIiwiVG91Y2hJbnB1dCIsInRhcmdldElkcyIsImdldFRvdWNoZXMiLCJhbGxUb3VjaGVzIiwiaWRlbnRpZmllciIsInRhcmdldFRvdWNoZXMiLCJjaGFuZ2VkVGFyZ2V0VG91Y2hlcyIsImZpbHRlciIsInRvdWNoIiwiVG91Y2hNb3VzZUlucHV0IiwibW91c2UiLCJwcmltYXJ5VG91Y2giLCJsYXN0VG91Y2hlcyIsInJlY29yZFRvdWNoZXMiLCJldmVudERhdGEiLCJzZXRMYXN0VG91Y2giLCJsYXN0VG91Y2giLCJsdHMiLCJpc1N5bnRoZXRpY0V2ZW50IiwiZHgiLCJkeSIsImlucHV0RXZlbnQiLCJpbnB1dERhdGEiLCJpc01vdXNlIiwic291cmNlQ2FwYWJpbGl0aWVzIiwiZmlyZXNUb3VjaEV2ZW50cyIsIlBSRUZJWEVEX1RPVUNIX0FDVElPTiIsIk5BVElWRV9UT1VDSF9BQ1RJT04iLCJUT1VDSF9BQ1RJT05fTUFQIiwidG91Y2hNYXAiLCJjc3NTdXBwb3J0cyIsIkNTUyIsInN1cHBvcnRzIiwiZ2V0VG91Y2hBY3Rpb25Qcm9wcyIsIlRvdWNoQWN0aW9uIiwiY29tcHV0ZSIsImFjdGlvbnMiLCJ1cGRhdGUiLCJ0b3VjaEFjdGlvbiIsInJlY29nbml6ZXJzIiwicmVjb2duaXplciIsImdldFRvdWNoQWN0aW9uIiwiaGFzUGFuWCIsImhhc1BhblkiLCJjbGVhblRvdWNoQWN0aW9ucyIsImpvaW4iLCJwcmV2ZW50RGVmYXVsdHMiLCJwcmV2ZW50ZWQiLCJoYXNOb25lIiwiaXNUYXBQb2ludGVyIiwiaXNUYXBNb3ZlbWVudCIsImlzVGFwVG91Y2hUaW1lIiwiRElSRUNUSU9OX0xFRlQiLCJESVJFQ1RJT05fVVAiLCJwcmV2ZW50U3JjIiwiUmVjb2duaXplciIsImRlZmF1bHRzIiwiaWQiLCJzaW11bHRhbmVvdXMiLCJyZXF1aXJlRmFpbCIsInN0YXRlU3RyIiwiZGlyZWN0aW9uU3RyIiwiZ2V0UmVjb2duaXplckJ5TmFtZUlmTWFuYWdlciIsIm90aGVyUmVjb2duaXplciIsIkF0dHJSZWNvZ25pemVyIiwiUGFuUmVjb2duaXplciIsInBYIiwicFkiLCJQaW5jaFJlY29nbml6ZXIiLCJQcmVzc1JlY29nbml6ZXIiLCJfdGltZXIiLCJfaW5wdXQiLCJSb3RhdGVSZWNvZ25pemVyIiwiU3dpcGVSZWNvZ25pemVyIiwiVGFwUmVjb2duaXplciIsInBUaW1lIiwicENlbnRlciIsIkhhbW1lciIsInByZXNldCIsIk1hbmFnZXIiLCJyZWNvZ25pemVXaXRoIiwiZHJvcFJlY29nbml6ZVdpdGgiLCJyZXF1aXJlRmFpbHVyZSIsImRyb3BSZXF1aXJlRmFpbHVyZSIsImhhc1JlcXVpcmVGYWlsdXJlcyIsImNhblJlY29nbml6ZVdpdGgiLCJhZGRpdGlvbmFsRXZlbnQiLCJ0cnlFbWl0IiwiY2FuRW1pdCIsImlucHV0RGF0YUNsb25lIiwicmVzZXQiLCJwcm9jZXNzIiwiYXR0clRlc3QiLCJvcHRpb25Qb2ludGVycyIsImlzUmVjb2duaXplZCIsImlzVmFsaWQiLCJ0aHJlc2hvbGQiLCJESVJFQ1RJT05fSE9SSVpPTlRBTCIsImRpcmVjdGlvblRlc3QiLCJoYXNNb3ZlZCIsImluT3V0IiwidGltZSIsInZhbGlkUG9pbnRlcnMiLCJ2YWxpZE1vdmVtZW50IiwidmFsaWRUaW1lIiwiY2xlYXJUaW1lb3V0IiwidGFwcyIsImludGVydmFsIiwicG9zVGhyZXNob2xkIiwidmFsaWRUb3VjaFRpbWUiLCJmYWlsVGltZW91dCIsInZhbGlkSW50ZXJ2YWwiLCJ2YWxpZE11bHRpVGFwIiwidGFwQ291bnQiLCJWRVJTSU9OIiwiZG9tRXZlbnRzIiwiaW5wdXRDbGFzcyIsImNzc1Byb3BzIiwidXNlclNlbGVjdCIsInRvdWNoU2VsZWN0IiwidG91Y2hDYWxsb3V0IiwiY29udGVudFpvb21pbmciLCJ1c2VyRHJhZyIsInRhcEhpZ2hsaWdodENvbG9yIiwiaGFuZGxlcnMiLCJvbGRDc3NQcm9wcyIsInRvZ2dsZUNzc1Byb3BzIiwiaXRlbSIsImFkZCIsImZvcmNlIiwic3RvcHBlZCIsImN1clJlY29nbml6ZXIiLCJleGlzdGluZyIsInJlbW92ZSIsImdlc3R1cmVFdmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZ2VzdHVyZSIsImRpc3BhdGNoRXZlbnQiLCJ0cmlnZ2VyRG9tRXZlbnQiLCJJTlBVVF9TVEFSVCIsIklOUFVUX01PVkUiLCJJTlBVVF9FTkQiLCJJTlBVVF9DQU5DRUwiLCJTVEFURV9QT1NTSUJMRSIsIlNUQVRFX0JFR0FOIiwiU1RBVEVfQ0hBTkdFRCIsIlNUQVRFX0VOREVEIiwiU1RBVEVfUkVDT0dOSVpFRCIsIlNUQVRFX0NBTkNFTExFRCIsIlNUQVRFX0ZBSUxFRCIsIkRJUkVDVElPTl9OT05FIiwiRElSRUNUSU9OX1JJR0hUIiwiRElSRUNUSU9OX0RPV04iLCJESVJFQ1RJT05fVkVSVElDQUwiLCJESVJFQ1RJT05fQUxMIiwiVGFwIiwiUGFuIiwiU3dpcGUiLCJQaW5jaCIsIlJvdGF0ZSIsIlByZXNzIiwicmFmIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYiIsInRpY2tlciIsIlRpY2tlciIsIl9uZXh0VGljayIsIl9yZWFkcyIsIl93cml0ZXMiLCJfYmF0Y2giLCJfYmF0Y2hSZWFkcyIsIl9iYXRjaFdyaXRlcyIsIl9mbHVzaCIsInJlYWRDYWxsYmFjayIsIndyaXRlQ2FsbGJhY2siLCJpc0ltcG9ydGFudCIsImN1cnJlbnRJbmRleCIsInVuc2hpZnQiLCJyZWFkcyIsIndyaXRlcyIsImJhdGNoIiwiYmF0Y2hSZWFkcyIsImJhdGNoV3JpdGVzIiwiY2FuY2VsTGF5b3V0VGljayIsIml0ZW1JZCIsImNhbmNlbFZpc2liaWxpdHlUaWNrIiwiY2FuY2VsTW92ZVRpY2siLCJjYW5jZWxTY3JvbGxUaWNrIiwicHJvdG8iLCJFbGVtZW50IiwibWF0Y2hlcyIsIm1hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsIm1vek1hdGNoZXNTZWxlY3RvciIsIm1zTWF0Y2hlc1NlbGVjdG9yIiwib01hdGNoZXNTZWxlY3RvciIsImVsZW1lbnRNYXRjaGVzIiwic2VsZWN0b3IiLCJhZGRDbGFzcyIsImNsYXNzTGlzdCIsIm5vcm1hbGl6ZUFycmF5SW5kZXgiLCJpc01pZ3JhdGlvbiIsIm1heEluZGV4IiwibWF4IiwiYXJyYXlNb3ZlIiwiZnJvbUluZGV4IiwidG9JbmRleCIsInRvIiwiYXJyYXlTd2FwIiwid2l0aEluZGV4IiwiaW5kZXhBIiwiaW5kZXhCIiwidGVtcCIsImRlYm91bmNlIiwid2FpdCIsImlzVHJhbnNmb3JtZWQiLCJ0cmFuc2Zvcm0iLCJkaXNwbGF5IiwiZ2V0Q29udGFpbmluZ0Jsb2NrIiwiaW5jbHVkZVNlbGYiLCJyZXQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0U3R5bGVBc0Zsb2F0IiwicGFyc2VGbG9hdCIsIm9mZnNldEEiLCJvZmZzZXRCIiwib2Zmc2V0RGlmZiIsImdldE9mZnNldCIsIm9mZnNldERhdGEiLCJyZWN0IiwibGVmdCIsInRvcCIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJnZXRPZmZzZXREaWZmIiwiZWxlbUEiLCJlbGVtQiIsImNvbXBhcmVDb250YWluaW5nQmxvY2tzIiwidHJhbnNsYXRlRGF0YSIsImdldFRyYW5zbGF0ZSIsIm1hdHJpeERhdGEiLCJnZXRUcmFuc2xhdGVTdHJpbmciLCJ0ZW1wQXJyYXkiLCJhcnJheUluc2VydCIsIml0ZW1zIiwic3RhcnRJbmRleCIsImFyciIsImFycjIiLCJ0b0NvbnN1bWFibGVBcnJheSIsImlzUGxhaW5PYmplY3QiLCJpdGVtUmVjdCIsInRhcmdldFJlY3QiLCJyZXR1cm5EYXRhIiwicm9vdEdyaWRBcnJheSIsInJlbW92ZUNsYXNzIiwiaGFzVHJhbnNmb3JtTGVhayIsImNoZWNrVHJhbnNmb3JtTGVhayIsIkl0ZW1EcmFnIiwiZHJhZyIsImdyaWQiLCJnZXRHcmlkIiwic2V0dGluZ3MiLCJfc2V0dGluZ3MiLCJoYW1tZXIkJDEiLCJzdGFydFByZWRpY2F0ZSIsImRyYWdTdGFydFByZWRpY2F0ZSIsImRlZmF1bHRTdGFydFByZWRpY2F0ZSIsInN0YXJ0UHJlZGljYXRlU3RhdGUiLCJzdGFydFByZWRpY2F0ZVJlc3VsdCIsIl9pdGVtIiwiX2dyaWRJZCIsIl9pZCIsIl9oYW1tZXIiLCJfaXNNaWdyYXRpbmciLCJfcmVzZXQiLCJfb25TY3JvbGwiLCJfcHJlcGFyZU1vdmUiLCJfYXBwbHlNb3ZlIiwiX3ByZXBhcmVTY3JvbGwiLCJfYXBwbHlTY3JvbGwiLCJfY2hlY2tPdmVybGFwIiwiX2ZvcmNlUmVzb2x2ZVN0YXJ0UHJlZGljYXRlIiwiX29uU3RhcnQiLCJfY2hlY2tPdmVybGFwRGVib3VuY2UiLCJkcmFnU29ydEludGVydmFsIiwiZHJhZ0hhbW1lclNldHRpbmdzIiwiX2lzQWN0aXZlIiwiX29uTW92ZSIsImlzUmVzb2x2ZWQiLCJfb25FbmQiLCJfZ2V0R3JpZCIsIl9maW5pc2hNaWdyYXRpb24iLCJfdW5iaW5kU2Nyb2xsTGlzdGVuZXJzIiwiYXBwZW5kQ2hpbGQiLCJfZ3JpZFgiLCJfZ3JpZFkiLCJpdGVtRHJhZ2dpbmdDbGFzcyIsIl9jb250YWluZXIiLCJfY29udGFpbmluZ0Jsb2NrIiwiX2xhc3RFdmVudCIsIl9sYXN0U2Nyb2xsRXZlbnQiLCJfc2Nyb2xsZXJzIiwiX2xlZnQiLCJfdG9wIiwiX2VsZW1lbnRDbGllbnRYIiwiX2VsZW1lbnRDbGllbnRZIiwiX2NvbnRhaW5lckRpZmZYIiwiX2NvbnRhaW5lckRpZmZZIiwiZ3JpZENvbnRhaW5lciIsImRyYWdDb250YWluZXIiLCJzY3JvbGxlcnMiLCJjb250YWluZXJTY3JvbGxlcnMiLCJnZXRTY3JvbGxQYXJlbnRzIiwiaW5jbHVkZXMiLCJjb25maWciLCJfc3RhcnRQcmVkaWNhdGVEYXRhIiwiZGVsYXkiLCJoYW5kbGUiLCJwcmVkaWNhdGUiLCJoYW5kbGVFbGVtZW50IiwiaGFuZGxlUmVjdCIsImhhbmRsZUxlZnQiLCJoYW5kbGVUb3AiLCJoYW5kbGVXaWR0aCIsImhhbmRsZUhlaWdodCIsInBvaW50ZXIiLCJwYWdlWCIsInBhZ2VZIiwid2lkdGgiLCJfcmVzZXRTdGFydFByZWRpY2F0ZSIsImlzQ2xpY2siLCJ0YWdOYW1lIiwiaHJlZiIsImdldEF0dHJpYnV0ZSIsIm9wZW4iLCJvcGVuQW5jaG9ySHJlZiIsImRlbGF5VGltZXIiLCJ0YXJnZXRJbmRleCIsInNvcnRBY3Rpb24iLCJyZXN1bHQiLCJjdXJyZW50R3JpZCIsInRhcmdldEdyaWQiLCJkcmFnU29ydFByZWRpY2F0ZSIsImRlZmF1bHRTb3J0UHJlZGljYXRlIiwiX2l0ZW1zIiwiX2hhc0xpc3RlbmVycyIsIl9lbWl0IiwiZnJvbUdyaWQiLCJ0b0dyaWQiLCJfc29ydERhdGEiLCJsYXlvdXQiLCJyZWxlYXNlIiwiX3JlbGVhc2UiLCJpc0FjdGl2ZSIsInRhcmdldEdyaWRFbGVtZW50IiwidGFyZ2V0U2V0dGluZ3MiLCJ0YXJnZXRDb250YWluZXIiLCJjdXJyZW50U2V0dGluZ3MiLCJjdXJyZW50Q29udGFpbmVyIiwidHJhbnNsYXRlIiwiaXRlbUNsYXNzIiwiaXRlbVZpc2libGVDbGFzcyIsIml0ZW1IaWRkZW5DbGFzcyIsIl9yZWZyZXNoRGltZW5zaW9ucyIsIl9yZWZyZXNoU29ydERhdGEiLCJfZHJhZyIsImRyYWdFbmFibGVkIiwiX2NoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwidmlzaWJsZVN0eWxlcyIsImhpZGRlblN0eWxlcyIsIm1pZ3JhdGUiLCJfbWlncmF0ZSIsImNvbnRhaW5pbmdCbG9jayIsImN1cnJlbnRMZWZ0IiwiY3VycmVudFRvcCIsImVsZW1lbnRSZWN0IiwiaGFzRHJhZ0NvbnRhaW5lciIsImlzUG9zaXRpb25pbmciLCJfbGF5b3V0IiwiaXNSZWxlYXNpbmciLCJfYmluZFNjcm9sbExpc3RlbmVycyIsImF4aXMiLCJkcmFnQXhpcyIsInhEaWZmIiwieURpZmYiLCJkcmFnU29ydCIsImdldFJlY3RPdmVybGFwU2NvcmUiLCJtaW4iLCJpc1Njcm9sbGFibGUiLCJvdmVyZmxvdyIsImVsZW1zIiwiZWxlbSIsImlzSW5uZXIiLCJwb3NpdGlvbiIsInZpc2liaWxpdHkiLCJvdXRlciIsImlubmVyIiwicmVtb3ZlQ2hpbGQiLCJfc2V0dXBTdGFydFByZWRpY2F0ZSIsIl9nZXRTdGFydFByZWRpY2F0ZUhhbmRsZSIsIl9yZXNvbHZlU3RhcnRQcmVkaWNhdGUiLCJfZmluaXNoU3RhcnRQcmVkaWNhdGUiLCJyb290R3JpZCIsInNvcnRUaHJlc2hvbGQiLCJfd2lkdGgiLCJfaGVpZ2h0IiwiYmVzdFNjb3JlIiwiZ3JpZFNjb3JlIiwiZ3JpZHMiLCJfdXBkYXRlQm91bmRpbmdSZWN0IiwiZ2V0VGFyZ2V0R3JpZCIsImdyaWRPZmZzZXRMZWZ0IiwiZ3JpZE9mZnNldFRvcCIsIm1hdGNoU2NvcmUiLCJtYXRjaEluZGV4IiwiaGFzVmFsaWRUYXJnZXRzIiwic2NvcmUiLCJfbWFyZ2luTGVmdCIsIl9tYXJnaW5Ub3AiLCJfdXBkYXRlQm9yZGVycyIsIl9ib3JkZXJMZWZ0IiwiX2JvcmRlclRvcCIsIkluZmluaXR5IiwiUXVldWUiLCJzaW5nbGVDYWxsYmFjayIsInNuYXBzaG90IiwiSXRlbUxheW91dCIsIl9pc0ludGVycnVwdGVkIiwiX2N1cnJlbnRTdHlsZXMiLCJfdGFyZ2V0U3R5bGVzIiwiX2N1cnJlbnRMZWZ0IiwiX2N1cnJlbnRUb3AiLCJfb2Zmc2V0TGVmdCIsIl9vZmZzZXRUb3AiLCJfc2tpcE5leHRBbmltYXRpb24iLCJfYW5pbWF0ZU9wdGlvbnMiLCJfZmluaXNoIiwiX3NldHVwQW5pbWF0aW9uIiwiX3N0YXJ0QW5pbWF0aW9uIiwiaW5zdGFudCIsImdyaWRTZXR0aW5ncyIsImlzSnVzdFJlbGVhc2VkIiwiX2lzUG9zaXRpb25pbmdTdGFydGVkIiwiYW5pbUR1cmF0aW9uIiwiZHJhZ1JlbGVhc2VEdXJhdGlvbiIsImxheW91dER1cmF0aW9uIiwiYW5pbUVhc2luZyIsImRyYWdSZWxlYXNlRWFzaW5nIiwibGF5b3V0RWFzaW5nIiwiYW5pbUVuYWJsZWQiLCJpc0FuaW1hdGluZyIsImZsdXNoIiwiX3VwZGF0ZU9mZnNldHMiLCJfdXBkYXRlVGFyZ2V0U3R5bGVzIiwiX2FuaW1hdGUiLCJwcm9jZXNzQ2FsbGJhY2tRdWV1ZSIsInRhcmdldFN0eWxlcyIsIml0ZW1Qb3NpdGlvbmluZ0NsYXNzIiwidGVtcFN0eWxlcyIsIkl0ZW1NaWdyYXRlIiwiY29udGFpbmVyIiwiY29udGFpbmVyRGlmZiIsImlzVmlzaWJsZSIsInRhcmdldEVsZW1lbnQiLCJ0YXJnZXRJdGVtcyIsInRhcmdldEl0ZW0iLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsIl9nZXRJdGVtIiwiX3Zpc2liaWxpdHkiLCJfc3RvcEFuaW1hdGlvbiIsImFib3J0IiwiY3VycmVudFN0eWxlcyIsImdyaWRFbGVtZW50IiwidGVtcFN0eWxlcyQxIiwiSXRlbVJlbGVhc2UiLCJpdGVtUmVsZWFzaW5nQ2xhc3MiLCJJdGVtVmlzaWJpbGl0eSIsIl9pc0hpZGRlbiIsIl9pc0hpZGluZyIsIl9pc1Nob3dpbmciLCJfZmluaXNoU2hvdyIsIl9maW5pc2hIaWRlIiwidG9WaXNpYmxlIiwic2hvd0R1cmF0aW9uIiwiaGlkZUR1cmF0aW9uIiwic2hvd0Vhc2luZyIsImhpZGVFYXNpbmciLCJpc0luc3RhbnQiLCJfYW5pbWF0ZUNoaWxkIiwiY3VycmVudCIsImdldEN1cnJlbnRTdHlsZXMiLCJmaW5pc2hTdHlsZXMiLCJjcmVhdGVVaWQiLCJpdGVtU2xvdCIsInJlY3RBIiwicmVjdEIiLCJJdGVtIiwiY2hpbGRyZW4iLCJyaWdodCIsIl9tYXJnaW5SaWdodCIsImJvdHRvbSIsIl9tYXJnaW5Cb3R0b20iLCJnZXR0ZXJzIiwic29ydERhdGEiLCJyZW1vdmVFbGVtZW50IiwiUGFja2VyIiwiX3Nsb3RzIiwiX3Nsb3RTaXplcyIsIl9mcmVlU2xvdHMiLCJfbmV3U2xvdHMiLCJfcmVjdEl0ZW0iLCJfcmVjdFN0b3JlIiwiX3JlY3RJZCIsInNsb3RzIiwic2V0V2lkdGgiLCJzZXRIZWlnaHQiLCJfc29ydFJlY3RzTGVmdFRvcCIsIl9zb3J0UmVjdHNUb3BMZWZ0IiwiZmlsbEdhcHMiLCJpc0hvcml6b250YWwiLCJob3Jpem9udGFsIiwiYWxpZ25SaWdodCIsImFsaWduQm90dG9tIiwicm91bmRpbmciLCJzbG90U2l6ZXMiLCJfYWRkU2xvdCIsInJlY3RJZCIsInJlY3RTdG9yZSIsInJlY3RJdGVtIiwidHJhY2tTaXplIiwiZnJlZVNsb3RzIiwibmV3U2xvdHMiLCJwb3RlbnRpYWxTbG90cyIsImlnbm9yZUN1cnJlbnRTbG90cyIsImlpIiwiX2dldFJlY3QiLCJfYWRkUmVjdCIsIl9zcGxpdFJlY3QiLCJfcHVyZ2VSZWN0cyIsImhvbGUiLCJfZG9SZWN0c092ZXJsYXAiLCJyZWN0SWRzIiwiX2lzUmVjdFdpdGhpblJlY3QiLCJhSWQiLCJiSWQiLCJpc05vZGVMaXN0IiwidG9BcnJheSQxIiwicGFja2VyIiwibm9vcCIsIkdyaWQiLCJpbnN0IiwibGF5b3V0T25SZXNpemUiLCJxdWVyeVNlbGVjdG9yIiwiY29udGFpbnMiLCJkZWZhdWx0U2V0dGluZ3MiLCJ1c2VyU2V0dGluZ3MiLCJtZXJnZU9iamVjdHMiLCJtZXJnZVNldHRpbmdzIiwiZGVmYXVsdE9wdGlvbnMiLCJfZW1pdHRlciIsImNvbnRhaW5lckNsYXNzIiwiaXRlbUVsZW1lbnQiLCJfcmVzaXplSGFuZGxlciIsInJlZnJlc2hJdGVtcyIsImxheW91dE9uSW5pdCIsIm9uY2UiLCJ0YXJnZXRzIiwiZ2V0SXRlbXMiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJfdXBkYXRlTGF5b3V0IiwibGF5b3V0SWQiLCJpdGVtc0xlbmd0aCIsImNvdW50ZXIiLCJpc0NhbGxiYWNrRnVuY3Rpb24iLCJjYWxsYmFja0l0ZW1zIiwiaXNCb3JkZXJCb3giLCJ0cnlGaW5pc2giLCJoYXNMYXlvdXRDaGFuZ2VkIiwiX2JvcmRlckJvdHRvbSIsIl9ib3JkZXJSaWdodCIsImlzRHJhZ2dpbmciLCJlbGVtZW50cyIsIm5ld0l0ZW1zIiwibmVlZHNMYXlvdXQiLCJhbGxJdGVtcyIsImluZGljZXMiLCJfZGVzdHJveSIsInJlbW92ZUVsZW1lbnRzIiwiX3NldEl0ZW1zVmlzaWJpbGl0eSIsIml0ZW1zVG9TaG93IiwiaXRlbXNUb0hpZGUiLCJpc1ByZWRpY2F0ZVN0cmluZyIsImlzUHJlZGljYXRlRm4iLCJ0cnlGaW5pc2hDb3VudGVyIiwic2hvdyIsImhpZGUiLCJpc1N3YXAiLCJmcm9tSXRlbSIsInRvSXRlbSIsImFwcGVuZFRvIiwibGF5b3V0U2VuZGVyIiwibGF5b3V0UmVjZWl2ZXIiLCJuZXdMYXlvdXQiLCJnZXRMYXlvdXQiLCJCb29sZWFuIiwic3RhcnRFdmVudCIsImVuZEV2ZW50IiwiY29tcGxldGVkSXRlbXMiLCJoaWRkZW5JdGVtcyIsImludGVycnVwdGVkIiwic291cmNlS2V5cyIsImlzU291cmNlT2JqZWN0Iiwib3BhY2l0eSIsInNvcnRDb21wYXJlciIsImlzRGVzY2VuZGluZyIsIm9yaWdJdGVtcyIsImluZGV4TWFwIiwiZ2V0SW5kZXhNYXAiLCJjb21wYXJlSW5kaWNlcyIsIml0ZW1BIiwiaXRlbUIiLCJkZWZhdWx0Q29tcGFyZXIiLCJjcml0ZXJpYU5hbWUiLCJjcml0ZXJpYU9yZGVyIiwidmFsQSIsInZhbEIiLCJjdXN0b21Db21wYXJlciIsImNvbXBhcmVyIiwiZGVzY2VuZGluZyIsInJldmVyc2UiLCJNdXVyaUdyaWQiLCJnZXRNZXRob2QiLCJnZXRFdmVudCIsImdldEl0ZW1NZXRob2QiLCJwYXJhbTEiLCJwYXJhbTIiLCJwYXJhbTMiLCJwYXJhbTQiLCJnZXRFbGVtZW50IiwicmVmcmVzaFNvcnREYXRhIiwic3luY2hyb25pemUiLCJtb3ZlIiwic2VuZCIsIl90aGlzMiIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0IiwiZ2V0TWFyZ2luIiwiZ2V0UG9zaXRpb24iLCJpc1Nob3dpbmciLCJpc0hpZGluZyIsImlzRGVzdHJveWVkIiwicHJvcFR5cGVzIiwiUmVjaXBlR3JpZCIsImFkZFRvR3JpZCIsInJlbW92ZUZyb21HcmlkIiwiYWRkaW5nUmVjaXBlIiwic2VsZWN0ZWRJdGVtcyIsInJlZnJlc2hHcmlkIiwic2V0UXVlcnlNb2RlIiwic2VsZWN0Q0IiLCJyZW5kZXJDYXJkIiwicmVuZGVyTmV3Q2FyZCIsImRlbGV0ZVJlY2lwZUZyb21TdnIiLCJyZWNpcGVOYW1lIiwib2xkU3RhdGUiLCJjb21wb25lbnQiLCJmZXRjaFJlY2lwZXMiLCJBcHAiLCJ1cGRhdGVSZWNpcGVzIiwicmVwb3J0RXJyb3IiLCJzZXJ2aWNlIiwiY29tcCIsImNhdGNoIiwiZ2V0RWxlbWVudEJ5SWQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1Is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bEMsZUFBZUksTUFBTTdsQyxLQUFLMGxDLGFBQ3pDMWxDLEtBQUs4RCxTQUFTLENBQUViLFFBQVNtRixLQUU3Qm85QixFQUFJem9DLFVBQVV3b0MsYUFBZSxXQUN6QnZsQyxLQUFLMmxDLFFBQVFqbEMsYUFBYThCLEtBQUt4QyxLQUFLeWxDLGVBQWVJLE1BQU03bEMsS0FBSzBsQyxjQUUzREYsRUFwRWEsQ0FxRXRCLGFBQ0YsaUJBQU8sSUFBTS9oQyxjQUFjLEdBQUssTUFBT29JLFNBQVNpNkIsZUFBZSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0OyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIFJlYWN0SXMgPSByZXF1aXJlKCdyZWFjdC1pcycpO1xuXG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IGRldmVsb3BtZW50IGJlaGF2aW9yLlxuICAvLyBodHRwOi8vZmIubWUvcHJvcC10eXBlcy1pbi1wcm9kXG4gIHZhciB0aHJvd09uRGlyZWN0QWNjZXNzID0gdHJ1ZTtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzJykoUmVhY3RJcy5pc0VsZW1lbnQsIHRocm93T25EaXJlY3RBY2Nlc3MpO1xufSBlbHNlIHtcbiAgLy8gQnkgZXhwbGljaXRseSB1c2luZyBgcHJvcC10eXBlc2AgeW91IGFyZSBvcHRpbmcgaW50byBuZXcgcHJvZHVjdGlvbiBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZmFjdG9yeVdpdGhUaHJvd2luZ1NoaW1zJykoKTtcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3RET007IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdFByb3BUeXBlc1NlY3JldCA9IHJlcXVpcmUoJy4vbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0Jyk7XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb24oKSB7fVxuZnVuY3Rpb24gZW1wdHlGdW5jdGlvbldpdGhSZXNldCgpIHt9XG5lbXB0eUZ1bmN0aW9uV2l0aFJlc2V0LnJlc2V0V2FybmluZ0NhY2hlID0gZW1wdHlGdW5jdGlvbjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gc2hpbShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgIGlmIChzZWNyZXQgPT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAvLyBJdCBpcyBzdGlsbCBzYWZlIHdoZW4gY2FsbGVkIGZyb20gUmVhY3QuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAnVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gJyArXG4gICAgICAnUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlcydcbiAgICApO1xuICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgIHRocm93IGVycjtcbiAgfTtcbiAgc2hpbS5pc1JlcXVpcmVkID0gc2hpbTtcbiAgZnVuY3Rpb24gZ2V0U2hpbSgpIHtcbiAgICByZXR1cm4gc2hpbTtcbiAgfTtcbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzYC5cbiAgdmFyIFJlYWN0UHJvcFR5cGVzID0ge1xuICAgIGFycmF5OiBzaGltLFxuICAgIGJvb2w6IHNoaW0sXG4gICAgZnVuYzogc2hpbSxcbiAgICBudW1iZXI6IHNoaW0sXG4gICAgb2JqZWN0OiBzaGltLFxuICAgIHN0cmluZzogc2hpbSxcbiAgICBzeW1ib2w6IHNoaW0sXG5cbiAgICBhbnk6IHNoaW0sXG4gICAgYXJyYXlPZjogZ2V0U2hpbSxcbiAgICBlbGVtZW50OiBzaGltLFxuICAgIGVsZW1lbnRUeXBlOiBzaGltLFxuICAgIGluc3RhbmNlT2Y6IGdldFNoaW0sXG4gICAgbm9kZTogc2hpbSxcbiAgICBvYmplY3RPZjogZ2V0U2hpbSxcbiAgICBvbmVPZjogZ2V0U2hpbSxcbiAgICBvbmVPZlR5cGU6IGdldFNoaW0sXG4gICAgc2hhcGU6IGdldFNoaW0sXG4gICAgZXhhY3Q6IGdldFNoaW0sXG5cbiAgICBjaGVja1Byb3BUeXBlczogZW1wdHlGdW5jdGlvbldpdGhSZXNldCxcbiAgICByZXNldFdhcm5pbmdDYWNoZTogZW1wdHlGdW5jdGlvblxuICB9O1xuXG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IHsgRGF0YVNlcnZpY2UgfSBmcm9tICcuL0RhdGFTZXJ2aWNlJztcbnZhciBNb2NrRGF0YVNlcnZpY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1vY2tEYXRhU2VydmljZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNb2NrRGF0YVNlcnZpY2UoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnJlY2lwZUJvb2sgPVxuICAgICAgICAgICAgbmV3IE1hcChbXG4gICAgICAgICAgICAgICAgWydHb29kIFJlY2lwZScsIHsgbmFtZTogJ0dvb2QgUmVjaXBlJywgdGV4dDogJ1RoaXMgaXMgYSByZWNpcGUnIH1dLFxuICAgICAgICAgICAgICAgIFsnQmV0dGVyIFJlY2lwZScsIHsgbmFtZTogJ0JldHRlciBSZWNpcGUnLCB0ZXh0OiAnVGhpcyBpcyBhIGJldHRlciByZWNpcGUuIEl0IGNvbnRhaW5zIGFsbCB0aGUgZ29vZCB0aGluZ3MgeW91IGxvdmUgdG8gZWF0IGFuZCBpcyBmdWxsIG9mIHN1Z2FyLicsIGtleUluZ3JlZGllbnRzOiBbJ1N1Z2FyJywgJ0hvbmV5JywgJ1BlYW51dCBCdXR0ZXIgQ3VwcyddIH1dLFxuICAgICAgICAgICAgICAgIFsnQXdlc29tZXNhdWNlIFJlY2lwZScsIHsgbmFtZTogJ0F3ZXNvbWVzYXVjZSBSZWNpcGUnLCB0ZXh0OiAnVGhpcyBpcyB0aGUgYmVzdCByZWNpcGUgb2YgYWxsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleUluZ3JlZGllbnRzOiBbJ0JhY29uJywgJ01vcmUgQmFjb24nXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vbkluZ3JlZGllbnRzOiBbJ0Zsb3VyJywgJ09uaW9ucycsICdDaGVlc3kgYml0cyddIH1dLFxuICAgICAgICAgICAgICAgIFsnQmFkIFJlY2lwZScsIHsgbmFtZTogJ0JhZCBSZWNpcGUnLCB0ZXh0OiAnVGhpcyByZWNpcGUgaXMgbWFkZSBvZiBmYWlsIGFuZCBzYWRuZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleUluZ3JlZGllbnRzOiBbJ0ZhaWwnLCAnU2FkbmVzcyddLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbW9uSW5ncmVkaWVudHM6IFsnRmxvdXInLCAnV2F0ZXInLCAnU3BpbmFjaCddIH1dLFxuICAgICAgICAgICAgICAgIFsnSmVya2VkIEplcmt5JywgeyBuYW1lOiAnSmVya2VkIEplcmt5JywgdGV4dDogJ0plcmsgaXQgZ29vZCcsIGtleUluZ3JlZGllbnRzOiBbJ0plcmt5J10sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tb25JbmdyZWRpZW50czogWydTYXVjZScsICdPbmlvbnMnXSB9XVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTW9ja0RhdGFTZXJ2aWNlLnByb3RvdHlwZS5nZXRSZWNpcGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgcmVzb2x2ZShBcnJheS5mcm9tKHRoaXMucmVjaXBlQm9vay52YWx1ZXMoKSkpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH07XG4gICAgTW9ja0RhdGFTZXJ2aWNlLnByb3RvdHlwZS5yZWNpcGVzTm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlY2lwZUJvb2sudmFsdWVzKCkpO1xuICAgIH07XG4gICAgTW9ja0RhdGFTZXJ2aWNlLnByb3RvdHlwZS5kZWxldGVSZWNpcGUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB0aGlzLnJlY2lwZUJvb2suZGVsZXRlKG5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWNpcGVzKCk7XG4gICAgfTtcbiAgICBNb2NrRGF0YVNlcnZpY2UucHJvdG90eXBlLmVkaXRSZWNpcGUgPSBmdW5jdGlvbiAobmFtZSwgcmVjaXBlRGF0YSkge1xuICAgICAgICB0aGlzLnJlY2lwZUJvb2suc2V0KG5hbWUsIHJlY2lwZURhdGEpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWNpcGVzKCk7XG4gICAgfTtcbiAgICBNb2NrRGF0YVNlcnZpY2UucHJvdG90eXBlLmFkZFJlY2lwZSA9IGZ1bmN0aW9uIChuYW1lLCByZWNpcGVEYXRhKSB7XG4gICAgICAgIHRoaXMucmVjaXBlQm9vay5zZXQobmFtZSwgcmVjaXBlRGF0YSk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFJlY2lwZXMoKTtcbiAgICB9O1xuICAgIHJldHVybiBNb2NrRGF0YVNlcnZpY2U7XG59KERhdGFTZXJ2aWNlKSk7XG5leHBvcnQgeyBNb2NrRGF0YVNlcnZpY2UgfTtcbiIsInZhciBEYXRhU2VydmljZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEYXRhU2VydmljZSgpIHtcbiAgICB9XG4gICAgcmV0dXJuIERhdGFTZXJ2aWNlO1xufSgpKTtcbmV4cG9ydCB7IERhdGFTZXJ2aWNlIH07XG4iLCJcbmV4cG9ydCB2YXIgY29uc3RzID0ge1xuICBpc01vY2s6IFJFQUNUX0FQUF9NT0NLLFxuICBhcGlQb3J0OiBSRUFDVF9BUFBfUE9SVCxcbiAgYXBpU2VydmVyOiBSRUFDVF9BUFBfQVBJX1NFUlZFUlxufTtcblxuaWYgKHR5cGVvZiB3aW5kb3cuQ0FMTEJBQ0tfUkVHSVNUUlkgPT0gJ3VuZGVmaW5lZCcpXG57XG4gIHdpbmRvdy5DQUxMQkFDS19SRUdJU1RSWSA9IHsncmVmcmVzaFJlY2lwZUdyaWQnOiAoZSA9PiBlKX07XG59XG5cbmV4cG9ydCB2YXIgRVhUX0NBTExCQUNLX1JFR0lTVFJZID0gd2luZG93LkNBTExCQUNLX1JFR0lTVFJZO1xuXG4iLCJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCB7IERhdGFTZXJ2aWNlIH0gZnJvbSAnLi9EYXRhU2VydmljZSc7XG5pbXBvcnQgKiBhcyBBUElDb25zdGFudHMgZnJvbSAnLi9BUElDb25zdGFudHMuanMnO1xudmFyIERhdGFTZXJ2aWNlSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRGF0YVNlcnZpY2VJbXBsLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERhdGFTZXJ2aWNlSW1wbCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaGFuZGxlRXJyb3JzID0gX3RoaXMuaGFuZGxlRXJyb3JzLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5hcGlTZXJ2ZXIgPSAnJztcbiAgICAgICAgaWYgKEFQSUNvbnN0YW50cy5jb25zdHMuYXBpU2VydmVyKSB7XG4gICAgICAgICAgICBfdGhpcy5hcGlTZXJ2ZXIgPSBBUElDb25zdGFudHMuY29uc3RzLmFwaVNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBUElDb25zdGFudHMuY29uc3RzLmFwaVBvcnQpIHtcbiAgICAgICAgICAgIF90aGlzLmFwaVNlcnZlciA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgKyAnOicgKyBBUElDb25zdGFudHMuY29uc3RzLmFwaVBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEYXRhU2VydmljZUltcGwucHJvdG90eXBlLmdldFJlY2lwZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByZXEgPSB7IGFjdGlvbjogJ2dldFJlY2lwZXMnIH07XG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLmFwaVNlcnZlciArICcvc2VydmljZS8nLCB7IG1ldGhvZDogJ3Bvc3QnLCBjcmVkZW50aWFsczogJ2luY2x1ZGUnLCBib2R5OiBKU09OLnN0cmluZ2lmeShyZXEpIH0pXG4gICAgICAgICAgICAudGhlbih0aGlzLmhhbmRsZUVycm9ycylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIF90aGlzLnBhcnNlUmVzcG9uc2UocmVzKTsgfSk7XG4gICAgfTtcbiAgICBEYXRhU2VydmljZUltcGwucHJvdG90eXBlLmRlbGV0ZVJlY2lwZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByZXEgPSB7IGFjdGlvbjogJ2RlbGV0ZVJlY2lwZScsIHJlY2lwZTogbmFtZSB9O1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5hcGlTZXJ2ZXIgKyAnL3NlcnZpY2UvJywgeyBtZXRob2Q6ICdwb3N0JywgY3JlZGVudGlhbHM6ICdpbmNsdWRlJywgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKSB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5oYW5kbGVFcnJvcnMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiBfdGhpcy5wYXJzZVJlc3BvbnNlKHJlcyk7IH0pO1xuICAgIH07XG4gICAgRGF0YVNlcnZpY2VJbXBsLnByb3RvdHlwZS5lZGl0UmVjaXBlID0gZnVuY3Rpb24gKG5hbWUsIHJlY2lwZURhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJlcSA9IHsgYWN0aW9uOiAnZWRpdFJlY2lwZScsIHJlY2lwZTogcmVjaXBlRGF0YSB9O1xuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5hcGlTZXJ2ZXIgKyAnL3NlcnZpY2UvJywgeyBtZXRob2Q6ICdwb3N0JywgY3JlZGVudGlhbHM6ICdpbmNsdWRlJywgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKSB9KVxuICAgICAgICAgICAgLnRoZW4odGhpcy5oYW5kbGVFcnJvcnMpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7IHJldHVybiBfdGhpcy5wYXJzZVJlc3BvbnNlKHJlcyk7IH0pO1xuICAgIH07XG4gICAgRGF0YVNlcnZpY2VJbXBsLnByb3RvdHlwZS5hZGRSZWNpcGUgPSBmdW5jdGlvbiAobmFtZSwgcmVjaXBlRGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgcmVxID0geyBhY3Rpb246ICdhZGRSZWNpcGUnLCByZWNpcGU6IHJlY2lwZURhdGEgfTtcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuYXBpU2VydmVyICsgJy9zZXJ2aWNlLycsIHsgbWV0aG9kOiAncG9zdCcsIGNyZWRlbnRpYWxzOiAnaW5jbHVkZScsIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcSkgfSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMuaGFuZGxlRXJyb3JzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgeyByZXR1cm4gX3RoaXMucGFyc2VSZXNwb25zZShyZXMpOyB9KTtcbiAgICB9O1xuICAgIERhdGFTZXJ2aWNlSW1wbC5wcm90b3R5cGUucGFyc2VSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpLnRoZW4oZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIGlmICghci5pc0xvZ2dlZEluKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJQbGVhc2UgbG9nIGluIGFnYWluLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3Ioci5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gci5yZWNpcGVzO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERhdGFTZXJ2aWNlSW1wbC5wcm90b3R5cGUuaGFuZGxlRXJyb3JzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9O1xuICAgIHJldHVybiBEYXRhU2VydmljZUltcGw7XG59KERhdGFTZXJ2aWNlKSk7XG5leHBvcnQgeyBEYXRhU2VydmljZUltcGwgfTtcbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbnZhciBEZWxldGVXaWRnZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKERlbGV0ZVdpZGdldCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBEZWxldGVXaWRnZXQocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0geyBjb25maXJtaW5nOiBmYWxzZSB9O1xuICAgICAgICBfdGhpcy5jb25maXJtRGVsZXRlID0gX3RoaXMuY29uZmlybURlbGV0ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBEZWxldGVXaWRnZXQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY29uZmlybWluZykge1xuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiZGVsZXRlV2lkZ2V0XCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJsYWJlbFwiIH0sIFwiQXJlIHlvdSBzdXJlP1wiKSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJidXR0b24geWVzXCIsIG9uQ2xpY2s6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmNvbmZpcm1ZZXMoKTsgfSB9LCBcIlkgXCIpLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImJ1dHRvbiBub1wiLCBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5jb25maXJtTm8oKTsgfSB9LCBcIiBOIFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJkZWxldGVXaWRnZXRcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImJ1dHRvbiBkZWxldGVcIiwgb25DbGljazogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuY29uZmlybURlbGV0ZSgpOyB9IH0sIFwiIFggXCIpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVsZXRlV2lkZ2V0LnByb3RvdHlwZS5jb25maXJtRGVsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY29uZmlybWluZzogdHJ1ZSB9KTtcbiAgICB9O1xuICAgIERlbGV0ZVdpZGdldC5wcm90b3R5cGUuY29uZmlybVllcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbmZpcm1pbmc6IGZhbHNlIH0pO1xuICAgICAgICB0aGlzLnByb3BzLm9uRGVsZXRlKCk7XG4gICAgfTtcbiAgICBEZWxldGVXaWRnZXQucHJvdG90eXBlLmNvbmZpcm1ObyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGNvbmZpcm1pbmc6IGZhbHNlIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIERlbGV0ZVdpZGdldDtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5leHBvcnQgeyBEZWxldGVXaWRnZXQgfTtcbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX3NwcmVhZEFycmF5cyA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheXMpIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgICAgcltrXSA9IGFbal07XG4gICAgcmV0dXJuIHI7XG59O1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IERlbGV0ZVdpZGdldCB9IGZyb20gJy4vRGVsZXRlV2lkZ2V0JztcbnZhciBSZWNpcGVDYXJkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZWNpcGVDYXJkLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlY2lwZUNhcmQocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmVsZW1lbnRUb0ZvY3VzID0gJyc7XG4gICAgICAgIF90aGlzLm5lZWRSZXNpemUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVkaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHByb3BzLm5ld1JlY2lwZSkge1xuICAgICAgICAgICAgZWRpdGluZyA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5lbGVtZW50VG9Gb2N1cyA9IFwibmFtZTowXCI7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7IGVkaXRpbmc6IGVkaXRpbmcsIHJlY2lwZURhdGE6IHByb3BzLnJlY2lwZURhdGEgfTtcbiAgICAgICAgX3RoaXMuZG9FZGl0ID0gX3RoaXMuZG9FZGl0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5kb1NlbGVjdCA9IF90aGlzLmRvU2VsZWN0LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5jYW5jZWxFZGl0ID0gX3RoaXMuY2FuY2VsRWRpdC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuY29uZmlybUVkaXQgPSBfdGhpcy5jb25maXJtRWRpdC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlRmllbGQgPSBfdGhpcy5oYW5kbGVDaGFuZ2VGaWVsZC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuaGFuZGxlQ2hhbmdlTGlzdCA9IF90aGlzLmhhbmRsZUNoYW5nZUxpc3QuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLm9uS2V5ZG93biA9IF90aGlzLm9uS2V5ZG93bi5iaW5kKF90aGlzKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZWNpcGVDYXJkLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmVkaXRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckVkaXQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlclJlYWRPbmx5KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY2lwZUNhcmQucHJvdG90eXBlLnJlbmRlclJlYWRPbmx5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiaXRlbVwiLCByZWY6IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gX3RoaXMuZG9tRWxlbWVudCA9IGVsOyB9IH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIml0ZW0tY29udGVudFwiIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJyZWNpcGVDYXJkXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkSGVhZGVyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNhcmRUaXRsZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yZWNpcGVEYXRhLm5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgICAgICAgIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkQm9keVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnF1ZXJ5TW9kZSB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KERlbGV0ZVdpZGdldCwgeyBuYW1lOiB0aGlzLnByb3BzLnJlY2lwZURhdGEubmFtZSwgb25EZWxldGU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmRlbGV0ZSgpOyB9IH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5xdWVyeU1vZGUgPyB0aGlzLnJlbmRlclNlbGVjdEJ0bigpIDogdGhpcy5yZW5kZXJFZGl0QnRuKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlY2lwZURhdGEudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVjaXBlRGF0YS5rZXlJbmdyZWRpZW50cyAmJiB0aGlzLnByb3BzLnJlY2lwZURhdGEua2V5SW5ncmVkaWVudHMubWFwKGZ1bmN0aW9uIChpbmcpIHsgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IGtleTogaW5nLCBjbGFzc05hbWU6IFwia2V5SW5ncmVkaWVudFwiIH0sIGluZyk7IH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucmVjaXBlRGF0YS5jb21tb25JbmdyZWRpZW50cyAmJiB0aGlzLnByb3BzLnJlY2lwZURhdGEuY29tbW9uSW5ncmVkaWVudHMubWFwKGZ1bmN0aW9uIChpbmcpIHsgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IGtleTogaW5nLCBjbGFzc05hbWU6IFwiY29tbW9uSW5ncmVkaWVudFwiIH0sIGluZyk7IH0pKSkpKSkpO1xuICAgIH07XG4gICAgUmVjaXBlQ2FyZC5wcm90b3R5cGUucmVuZGVyRWRpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGtleUkgPSAwO1xuICAgICAgICB2YXIgY29tbW9uSSA9IDA7XG4gICAgICAgIHZhciB0aXRsZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIHRoaXMuc3RhdGUucmVjaXBlRGF0YS5uYW1lKTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubmV3UmVjaXBlKSB7XG4gICAgICAgICAgICB0aXRsZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHR5cGU6IFwidGV4dFwiLCBjbGFzc05hbWU6IFwibmFtZVwiLCBuYW1lOiBcIm5hbWVcIiwgdmFsdWU6IHRoaXMuc3RhdGUucmVjaXBlRGF0YS5uYW1lLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VGaWVsZCwgcGxhY2Vob2xkZXI6IFwiRW50ZXIgYSBuZXcgcmVjaXBlIG5hbWUuXCIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIml0ZW1cIiwgcmVmOiBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIF90aGlzLmRvbUVsZW1lbnQgPSBlbDsgfSB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJpdGVtLWNvbnRlbnRcIiB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwicmVjaXBlQ2FyZCBlZGl0aW5nXCIsIG9uS2V5RG93bjogdGhpcy5vbktleWRvd24gfSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkSGVhZGVyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNhcmRUaXRsZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgICAgICAgIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjYXJkQm9keVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiwgeyBjbGFzc05hbWU6IFwiZGVzY3JpcHRpb25cIiwgbmFtZTogXCJ0ZXh0XCIsIHZhbHVlOiB0aGlzLnN0YXRlLnJlY2lwZURhdGEudGV4dCwgcmVmOiBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuIF90aGlzLnRleHRBcmVhRWxlbWVudCA9IGVsOyB9LCBvbkNoYW5nZTogdGhpcy5oYW5kbGVDaGFuZ2VGaWVsZCwgcGxhY2Vob2xkZXI6IFwiRW50ZXIgYSByZWNpcGUgZGVzY3JpcHRpb24uXCIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidWxcIiwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnJlY2lwZURhdGEua2V5SW5ncmVkaWVudHMgJiYgdGhpcy5zdGF0ZS5yZWNpcGVEYXRhLmtleUluZ3JlZGllbnRzLm1hcChmdW5jdGlvbiAoaW5nKSB7IHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBrZXk6IFwia2V5XCIgKyAoa2V5SSkudG9TdHJpbmcoKSwgY2xhc3NOYW1lOiBcImtleUluZ3JlZGllbnRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyB0eXBlOiBcInRleHRcIiwgY2xhc3NOYW1lOiBcImtleUluZ3JlZGllbnRzXCIsIHZhbHVlOiBpbmcsIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVDaGFuZ2VMaXN0LCBuYW1lOiBcImtleVwiICsgKGtleUkrKykudG9TdHJpbmcoKSB9KSk7IH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IGtleTogXCJrZXlcIiArIChrZXlJKS50b1N0cmluZygpLCBjbGFzc05hbWU6IFwia2V5SW5ncmVkaWVudFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHR5cGU6IFwidGV4dFwiLCBjbGFzc05hbWU6IFwia2V5SW5ncmVkaWVudHNcIiwgdmFsdWU6IFwiXCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZUxpc3QsIG5hbWU6IFwia2V5XCIgKyAoa2V5SSsrKS50b1N0cmluZygpLCBwbGFjZWhvbGRlcjogXCJOZXcgaW5ncmVkaWVudFwiIH0pKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLnJlY2lwZURhdGEuY29tbW9uSW5ncmVkaWVudHMgJiYgdGhpcy5zdGF0ZS5yZWNpcGVEYXRhLmNvbW1vbkluZ3JlZGllbnRzLm1hcChmdW5jdGlvbiAoaW5nKSB7IHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwibGlcIiwgeyBrZXk6IFwiY29tbW9uXCIgKyAoY29tbW9uSSkudG9TdHJpbmcoKSwgY2xhc3NOYW1lOiBcImNvbW1vbkluZ3JlZGllbnRcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgeyB0eXBlOiBcInRleHRcIiwgY2xhc3NOYW1lOiBcImNvbW1vbkluZ3JlZGllbnRzXCIsIHZhbHVlOiBpbmcsIG9uQ2hhbmdlOiBfdGhpcy5oYW5kbGVDaGFuZ2VMaXN0LCBuYW1lOiBcImNvbW1vblwiICsgKGNvbW1vbkkrKykudG9TdHJpbmcoKSB9KSk7IH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJsaVwiLCB7IGtleTogXCJjb21tb25cIiArIChjb21tb25JKS50b1N0cmluZygpLCBjbGFzc05hbWU6IFwiY29tbW9uSW5ncmVkaWVudFwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7IHR5cGU6IFwidGV4dFwiLCBjbGFzc05hbWU6IFwiY29tbW9uSW5ncmVkaWVudHNcIiwgdmFsdWU6IFwiXCIsIG9uQ2hhbmdlOiB0aGlzLmhhbmRsZUNoYW5nZUxpc3QsIG5hbWU6IFwiY29tbW9uXCIgKyAoY29tbW9uSSsrKS50b1N0cmluZygpLCBwbGFjZWhvbGRlcjogXCJOZXcgaW5ncmVkaWVudFwiIH0pKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7IHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IHRoaXMuY2FuY2VsRWRpdCB9LCBcIkNhbmNlbFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIsIHsgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogdGhpcy5jb25maXJtRWRpdCB9LCBcIlNhdmVcIikpKSkpKSk7XG4gICAgfTtcbiAgICBSZWNpcGVDYXJkLnByb3RvdHlwZS5yZW5kZXJFZGl0QnRuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJlZGl0QnRuXCIgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgeyBzcmM6ICdzbF9pY29ucy9wZW5jaWwucG5nJywgYWx0OiBcImVkaXRcIiwgb25DbGljazogdGhpcy5kb0VkaXQgfSkpO1xuICAgIH07XG4gICAgUmVjaXBlQ2FyZC5wcm90b3R5cGUucmVuZGVyU2VsZWN0QnRuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzZWxlY3RCdG5cIiB9LFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7IHNyYzogJ3NsX2ljb25zLycgKyAodGhpcy5wcm9wcy5zZWxlY3RlZCA/IFwiY2hlY2sucG5nXCIgOiBcImNoZWNrT2ZmLnBuZ1wiKSwgYWx0OiBcImVkaXRcIiwgb25DbGljazogdGhpcy5kb1NlbGVjdCB9KSk7XG4gICAgfTtcbiAgICBSZWNpcGVDYXJkLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbk1vdW50KHRoaXMuZG9tRWxlbWVudCk7XG4gICAgICAgIHRoaXMuZm9jdXNJZlJlcXVpcmVkKCk7XG4gICAgfTtcbiAgICBSZWNpcGVDYXJkLnByb3RvdHlwZS5mb2N1c0lmUmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRUb0ZvY3VzKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5lbGVtZW50VG9Gb2N1cy5zcGxpdCgnOicpWzBdO1xuICAgICAgICAgICAgdmFyIGNvdW50ID0gdGhpcy5lbGVtZW50VG9Gb2N1cy5zcGxpdCgnOicpWzFdO1xuICAgICAgICAgICAgdmFyIGVsID0gdGhpcy5kb21FbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoY2xhc3NOYW1lKVtjb3VudF07XG4gICAgICAgICAgICBlbC5mb2N1cygpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50VG9Gb2N1cyA9ICcnO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZWNpcGVDYXJkLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2V0RWRpdERlc2NpcHRpb25IZWlnaHQoKTtcbiAgICAgICAgdGhpcy5mb2N1c0lmUmVxdWlyZWQoKTtcbiAgICAgICAgaWYgKHRoaXMubmVlZFJlc2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5uZWVkUmVzaXplID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uUmVzaXplKHRoaXMuZG9tRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY2lwZUNhcmQucHJvdG90eXBlLnNldEVkaXREZXNjaXB0aW9uSGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGEgPSB0aGlzLnRleHRBcmVhRWxlbWVudDtcbiAgICAgICAgaWYgKHRhKSB7XG4gICAgICAgICAgICBpZiAoIXRhLnN0eWxlLmhlaWdodCB8fCB0YS5zdHlsZS5oZWlnaHQgIT09IHRhLnNjcm9sbEhlaWdodCArICdweCcpIHtcbiAgICAgICAgICAgICAgICB0YS5zdHlsZS5oZWlnaHQgPSAnMXB4JztcbiAgICAgICAgICAgICAgICB0YS5zdHlsZS5oZWlnaHQgPSB0YS5zY3JvbGxIZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMub25SZXNpemUodGhpcy5kb21FbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVjaXBlQ2FyZC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25Vbk1vdW50KHRoaXMuZG9tRWxlbWVudCk7XG4gICAgfTtcbiAgICBSZWNpcGVDYXJkLnByb3RvdHlwZS5kb0VkaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudFRvRm9jdXMgPSBcImRlc2NyaXB0aW9uOjBcIjtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBlZGl0aW5nOiB0cnVlLFxuICAgICAgICAgICAgcmVjaXBlRGF0YTogT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcy5yZWNpcGVEYXRhKVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlY2lwZUNhcmQucHJvdG90eXBlLmRvU2VsZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RSZWNpcGUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2VsZWN0UmVjaXBlKHRoaXMucHJvcHMucmVjaXBlRGF0YS5uYW1lKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVjaXBlQ2FyZC5wcm90b3R5cGUuY2FuY2VsRWRpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMubmV3UmVjaXBlICYmIHRoaXMucHJvcHMuY2FuY2VsTmV3KSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbmNlbE5ldygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiBmYWxzZSB9KTtcbiAgICB9O1xuICAgIFJlY2lwZUNhcmQucHJvdG90eXBlLm9uS2V5ZG93biA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxFZGl0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY2lwZUNhcmQucHJvdG90eXBlLmNvbmZpcm1FZGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5uZXdSZWNpcGUgJiYgdGhpcy5wcm9wcy5hZGRSZWNpcGUpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZS5yZWNpcGVEYXRhLm5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5hZGRSZWNpcGUodGhpcy5zdGF0ZS5yZWNpcGVEYXRhKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBlZGl0aW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgICAgICB0aGlzLnByb3BzLmVkaXRSZWNpcGUodGhpcy5zdGF0ZS5yZWNpcGVEYXRhKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGVkaXRpbmc6IGZhbHNlIH0pO1xuICAgIH07XG4gICAgUmVjaXBlQ2FyZC5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlRmllbGQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBfX2Fzc2lnbih7fSwgdGhpcy5zdGF0ZS5yZWNpcGVEYXRhKTtcbiAgICAgICAgdmFyIGZpZWxkTmFtZSA9IGV2ZW50LnRhcmdldC5uYW1lO1xuICAgICAgICBkYXRhW2ZpZWxkTmFtZV0gPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZWNpcGVEYXRhOiBkYXRhIH0pO1xuICAgIH07XG4gICAgUmVjaXBlQ2FyZC5wcm90b3R5cGUuaGFuZGxlQ2hhbmdlTGlzdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgZGF0YSA9IF9fYXNzaWduKHt9LCB0aGlzLnN0YXRlLnJlY2lwZURhdGEpO1xuICAgICAgICB2YXIgaXRlbU5hbWUgPSBldmVudC50YXJnZXQubmFtZTtcbiAgICAgICAgdmFyIHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICB2YXIgaW5ncmVkaWVudHMgPSBbXTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgaWYgKGl0ZW1OYW1lLnN0YXJ0c1dpdGgoXCJrZXlcIikpIHtcbiAgICAgICAgICAgIGluZ3JlZGllbnRzID0gZGF0YS5rZXlJbmdyZWRpZW50cztcbiAgICAgICAgICAgIGluZGV4ID0gcGFyc2VJbnQoaXRlbU5hbWUuc3Vic3RyaW5nKDMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGluZ3JlZGllbnRzID0gZGF0YS5jb21tb25JbmdyZWRpZW50cztcbiAgICAgICAgICAgIGluZGV4ID0gcGFyc2VJbnQoaXRlbU5hbWUuc3Vic3RyaW5nKDYpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5ncmVkaWVudHMpIHtcbiAgICAgICAgICAgIGluZ3JlZGllbnRzID0gX19zcHJlYWRBcnJheXMoaW5ncmVkaWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5ncmVkaWVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IGluZ3JlZGllbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIExhc3QgZWxlbWVudCBpcyB6ZXJvPyB3aG8gY2FyZXNcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmdyZWRpZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IGluZ3JlZGllbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGluZ3JlZGllbnRzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudFRvRm9jdXMgPSBldmVudC50YXJnZXQuY2xhc3NOYW1lICsgXCI6XCIgKyBpbmRleC50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5ncmVkaWVudHNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW1OYW1lLnN0YXJ0c1dpdGgoXCJrZXlcIikpIHtcbiAgICAgICAgICAgIGRhdGEua2V5SW5ncmVkaWVudHMgPSBpbmdyZWRpZW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEuY29tbW9uSW5ncmVkaWVudHMgPSBpbmdyZWRpZW50cztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVjaXBlRGF0YTogZGF0YSB9KTtcbiAgICB9O1xuICAgIFJlY2lwZUNhcmQucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkRlbGV0ZSh0aGlzLnByb3BzLnJlY2lwZURhdGEubmFtZSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmVjaXBlQ2FyZDtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5leHBvcnQgeyBSZWNpcGVDYXJkIH07XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxudmFyIG5hbWVzcGFjZSA9ICdNdXVyaSc7XG52YXIgZ3JpZEluc3RhbmNlcyA9IHt9O1xuXG52YXIgZXZlbnRTeW5jaHJvbml6ZSA9ICdzeW5jaHJvbml6ZSc7XG52YXIgZXZlbnRMYXlvdXRTdGFydCA9ICdsYXlvdXRTdGFydCc7XG52YXIgZXZlbnRMYXlvdXRFbmQgPSAnbGF5b3V0RW5kJztcbnZhciBldmVudEFkZCA9ICdhZGQnO1xudmFyIGV2ZW50UmVtb3ZlID0gJ3JlbW92ZSc7XG52YXIgZXZlbnRTaG93U3RhcnQgPSAnc2hvd1N0YXJ0JztcbnZhciBldmVudFNob3dFbmQgPSAnc2hvd0VuZCc7XG52YXIgZXZlbnRIaWRlU3RhcnQgPSAnaGlkZVN0YXJ0JztcbnZhciBldmVudEhpZGVFbmQgPSAnaGlkZUVuZCc7XG52YXIgZXZlbnRGaWx0ZXIgPSAnZmlsdGVyJztcbnZhciBldmVudFNvcnQgPSAnc29ydCc7XG52YXIgZXZlbnRNb3ZlID0gJ21vdmUnO1xudmFyIGV2ZW50U2VuZCA9ICdzZW5kJztcbnZhciBldmVudEJlZm9yZVNlbmQgPSAnYmVmb3JlU2VuZCc7XG52YXIgZXZlbnRSZWNlaXZlID0gJ3JlY2VpdmUnO1xudmFyIGV2ZW50QmVmb3JlUmVjZWl2ZSA9ICdiZWZvcmVSZWNlaXZlJztcbnZhciBldmVudERyYWdJbml0ID0gJ2RyYWdJbml0JztcbnZhciBldmVudERyYWdTdGFydCA9ICdkcmFnU3RhcnQnO1xudmFyIGV2ZW50RHJhZ01vdmUgPSAnZHJhZ01vdmUnO1xudmFyIGV2ZW50RHJhZ1Njcm9sbCA9ICdkcmFnU2Nyb2xsJztcbnZhciBldmVudERyYWdFbmQgPSAnZHJhZ0VuZCc7XG52YXIgZXZlbnREcmFnUmVsZWFzZVN0YXJ0ID0gJ2RyYWdSZWxlYXNlU3RhcnQnO1xudmFyIGV2ZW50RHJhZ1JlbGVhc2VFbmQgPSAnZHJhZ1JlbGVhc2VFbmQnO1xudmFyIGV2ZW50RGVzdHJveSA9ICdkZXN0cm95JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmo7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajtcbn07XG5cbnZhciBjbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG52YXIgY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07XG4gICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KCk7XG5cbnZhciBpbmhlcml0cyA9IGZ1bmN0aW9uIChzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7XG4gIH1cblxuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IHN1YkNsYXNzLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn07XG5cbnZhciBwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24gKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7XG59O1xuXG52YXIgdG9Db25zdW1hYmxlQXJyYXkgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBhcnIyW2ldID0gYXJyW2ldO1xuXG4gICAgcmV0dXJuIGFycjI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oYXJyKTtcbiAgfVxufTtcblxuLyoqXHJcbiAqIE11dXJpIEVtaXR0ZXJcclxuICogQ29weXJpZ2h0IChjKSAyMDE4LXByZXNlbnQsIE5pa2xhcyBSw6Rtw7YgPGlucmFtb0BnbWFpbC5jb20+XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvc3JjL0VtaXR0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuLyoqXHJcbiAqIEV2ZW50IGVtaXR0ZXIgY29uc3RydWN0b3IuXHJcbiAqXHJcbiAqIEBjbGFzc1xyXG4gKi9cblxudmFyIEVtaXR0ZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIGluaGVyaXRzKEVtaXR0ZXIsIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gRW1pdHRlcigpIHtcbiAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgRW1pdHRlcik7XG5cbiAgICAgICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRW1pdHRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEVtaXR0ZXIpKS5jYWxsKHRoaXMpKTtcblxuICAgICAgICBfdGhpcy5fZXZlbnRzID0ge307XG4gICAgICAgIF90aGlzLl9xdWV1ZSA9IFtdO1xuICAgICAgICBfdGhpcy5fY291bnRlciA9IDA7XG4gICAgICAgIF90aGlzLl9pc0Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBQdWJsaWMgcHJvdG90eXBlIG1ldGhvZHNcclxuICAgICAqICoqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICovXG5cbiAgICAvKipcclxuICAgICAqIEJpbmQgYW4gZXZlbnQgbGlzdGVuZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEVtaXR0ZXIucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyXHJcbiAgICAgKiBAcmV0dXJucyB7RW1pdHRlcn1cclxuICAgICAqL1xuXG5cbiAgICBjcmVhdGVDbGFzcyhFbWl0dGVyLCBbe1xuICAgICAgICBrZXk6ICdvbicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgICAgIC8vIEdldCBsaXN0ZW5lcnMgcXVldWUgYW5kIGNyZWF0ZSBpdCBpZiBpdCBkb2VzIG5vdCBleGlzdC5cbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZlbnRdO1xuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcnMpIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldmVudF0gPSBbXTtcblxuICAgICAgICAgICAgLy8gQWRkIHRoZSBsaXN0ZW5lciB0byB0aGUgcXVldWUuXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQmluZCBhbiBldmVudCBsaXN0ZW5lciB0aGF0IGlzIHRyaWdnZXJlZCBvbmx5IG9uY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQG1lbWJlcm9mIEVtaXR0ZXIucHJvdG90eXBlXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXJcclxuICAgICAgICAgKiBAcmV0dXJucyB7RW1pdHRlcn1cclxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnb25jZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2ZmKGV2ZW50LCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuYXBwbHkodW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vbihldmVudCwgY2FsbGJhY2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVW5iaW5kIGFsbCBldmVudCBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGUgcHJvdmlkZWQgbGlzdGVuZXIgZnVuY3Rpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQG1lbWJlcm9mIEVtaXR0ZXIucHJvdG90eXBlXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2xpc3RlbmVyXVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtFbWl0dGVyfVxyXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdvZmYnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgLy8gR2V0IGxpc3RlbmVycyBhbmQgcmV0dXJuIGltbWVkaWF0ZWx5IGlmIG5vbmUgaXMgZm91bmQuXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2ZW50XTtcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXJzIHx8ICFsaXN0ZW5lcnMubGVuZ3RoKSByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgLy8gSWYgbm8gc3BlY2lmaWMgbGlzdGVuZXIgaXMgcHJvdmlkZWQgcmVtb3ZlIGFsbCBsaXN0ZW5lcnMuXG4gICAgICAgICAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbGwgbWF0Y2hpbmcgbGlzdGVuZXJzLlxuICAgICAgICAgICAgdmFyIGkgPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gbGlzdGVuZXJzW2ldKSBsaXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEVtaXQgYWxsIGxpc3RlbmVycyBpbiBhIHNwZWNpZmllZCBldmVudCB3aXRoIHRoZSBwcm92aWRlZCBhcmd1bWVudHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQG1lbWJlcm9mIEVtaXR0ZXIucHJvdG90eXBlXHJcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XHJcbiAgICAgICAgICogQHBhcmFtIHsqfSBbYXJnMV1cclxuICAgICAgICAgKiBAcGFyYW0geyp9IFthcmcyXVxyXG4gICAgICAgICAqIEBwYXJhbSB7Kn0gW2FyZzNdXHJcbiAgICAgICAgICogQHJldHVybnMge0VtaXR0ZXJ9XHJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2VtaXQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZW1pdChldmVudCwgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgLy8gR2V0IGV2ZW50IGxpc3RlbmVycyBhbmQgcXVpdCBlYXJseSBpZiB0aGVyZSdzIG5vIGxpc3RlbmVycy5cbiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZlbnRdO1xuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcnMgfHwgIWxpc3RlbmVycy5sZW5ndGgpIHJldHVybiB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgcXVldWUgPSB0aGlzLl9xdWV1ZTtcbiAgICAgICAgICAgIHZhciBxTGVuZ3RoID0gcXVldWUubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGFMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHZhciBpID0gdm9pZCAwO1xuXG4gICAgICAgICAgICAvLyBBZGQgdGhlIGN1cnJlbnQgbGlzdGVuZXJzIHRvIHRoZSBjYWxsYmFjayBxdWV1ZSBiZWZvcmUgd2UgcHJvY2VzcyB0aGVtLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgdG8gZ3VhcmFudGVlIHRoYXQgYWxsIG9mIHRoZSBsaXN0ZW5lcnMgYXJlIGNhbGxlZCBpblxuICAgICAgICAgICAgLy8gY29ycmVjdCBvcmRlciBldmVuIGlmIG5ldyBldmVudCBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQvYWRkZWQgZHVyaW5nXG4gICAgICAgICAgICAvLyBwcm9jZXNzaW5nIGFuZC9vciBldmVudHMgYXJlIGVtaXR0ZWQgZHVyaW5nIHByb2Nlc3NpbmcuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbmNyZW1lbnQgcXVldWUgY291bnRlci4gVGhpcyBpcyBuZWVkZWQgZm9yIHRoZSBzY2VuYXJpb3Mgd2hlcmUgZW1pdCBpc1xuICAgICAgICAgICAgLy8gdHJpZ2dlcmVkIHdoaWxlIHRoZSBxdWV1ZSBpcyBhbHJlYWR5IHByb2Nlc3NpbmcuIFdlIG5lZWQgdG8ga2VlcCB0cmFjayBvZlxuICAgICAgICAgICAgLy8gaG93IG1hbnkgXCJxdWV1ZSBwcm9jZXNzb3JzXCIgdGhlcmUgYXJlIGFjdGl2ZSBzbyB0aGF0IHdlIGNhbiBzYWZlbHkgcmVzZXRcbiAgICAgICAgICAgIC8vIHRoZSBxdWV1ZSBpbiB0aGUgZW5kIHdoZW4gdGhlIGxhc3QgcXVldWUgcHJvY2Vzc29yIGlzIGZpbmlzaGVkLlxuICAgICAgICAgICAgKyt0aGlzLl9jb3VudGVyO1xuXG4gICAgICAgICAgICAvLyBQcm9jZXNzIHRoZSBxdWV1ZSAodGhlIHNwZWNpZmljIHBhcnQgb2YgaXQgZm9yIHRoaXMgZW1pdCkuXG4gICAgICAgICAgICBmb3IgKGkgPSBxTGVuZ3RoLCBxTGVuZ3RoID0gcXVldWUubGVuZ3RoOyBpIDwgcUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICAgICAgYUxlbmd0aCA9PT0gMCA/IHF1ZXVlW2ldKCkgOiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgYUxlbmd0aCA9PT0gMSA/IHF1ZXVlW2ldKGFyZzEpIDogLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgIGFMZW5ndGggPT09IDIgPyBxdWV1ZVtpXShhcmcxLCBhcmcyKSA6IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICBxdWV1ZVtpXShhcmcxLCBhcmcyLCBhcmczKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgICAgICAgICAgICAgLy8gU3RvcCBwcm9jZXNzaW5nIGlmIHRoZSBlbWl0dGVyIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBEZWNyZW1lbnQgcXVldWUgcHJvY2VzcyBjb3VudGVyLlxuICAgICAgICAgICAgLS10aGlzLl9jb3VudGVyO1xuXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgcXVldWUgaWYgdGhlcmUgYXJlIG5vIG1vcmUgcXVldWUgcHJvY2Vzc2VzIHJ1bm5pbmcuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2NvdW50ZXIpIHF1ZXVlLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGVzdHJveSBlbWl0dGVyIGluc3RhbmNlLiBCYXNpY2FsbHkganVzdCByZW1vdmVzIGFsbCBib3VuZCBsaXN0ZW5lcnMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQG1lbWJlcm9mIEVtaXR0ZXIucHJvdG90eXBlXHJcbiAgICAgICAgICogQHJldHVybnMge0VtaXR0ZXJ9XHJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSB2b2lkIDA7XG5cbiAgICAgICAgICAgIC8vIEZsYWcgYXMgZGVzdHJveWVkLlxuICAgICAgICAgICAgdGhpcy5faXNEZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBSZXNldCBxdWV1ZSAoaWYgcXVldWUgaXMgY3VycmVudGx5IHByb2Nlc3NpbmcgdGhpcyB3aWxsIGFsc28gc3RvcCB0aGF0KS5cbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLmxlbmd0aCA9IHRoaXMuX2NvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgYWxsIGxpc3RlbmVycy5cbiAgICAgICAgICAgIGZvciAoZXZlbnQgaW4gZXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50c1tldmVudF0pIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzW2V2ZW50XS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICBldmVudHNbZXZlbnRdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIEVtaXR0ZXI7XG59KENvbXBvbmVudCk7XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgSGFsdHUgT3lcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oYWx0dS9tdXVyaS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcbiAqL1xuXG4vLyBTZXQgdXAgdGhlIGRlZmF1bHQgZXhwb3J0IHZhbHVlcy5cbnZhciBpc1RyYW5zZm9ybVN1cHBvcnRlZCA9IGZhbHNlO1xudmFyIHRyYW5zZm9ybVN0eWxlID0gJ3RyYW5zZm9ybSc7XG52YXIgdHJhbnNmb3JtUHJvcCA9ICd0cmFuc2Zvcm0nO1xuXG4vLyBGaW5kIHRoZSBzdXBwb3J0ZWQgdHJhbnNmb3JtIHByb3AgYW5kIHN0eWxlIG5hbWVzLlxudmFyIHN0eWxlID0gJ3RyYW5zZm9ybSc7XG52YXIgc3R5bGVDYXAgPSAnVHJhbnNmb3JtJztcblsnJywgJ1dlYmtpdCcsICdNb3onLCAnTycsICdtcyddLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuICBpZiAoaXNUcmFuc2Zvcm1TdXBwb3J0ZWQpIHJldHVybjtcbiAgdmFyIHByb3BOYW1lID0gcHJlZml4ID8gcHJlZml4ICsgc3R5bGVDYXAgOiBzdHlsZTtcbiAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZVtwcm9wTmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgIHByZWZpeCA9IHByZWZpeC50b0xvd2VyQ2FzZSgpO1xuICAgIHRyYW5zZm9ybVN0eWxlID0gcHJlZml4ID8gJy0nICsgcHJlZml4ICsgJy0nICsgc3R5bGUgOiBzdHlsZTtcbiAgICB0cmFuc2Zvcm1Qcm9wID0gcHJvcE5hbWU7XG4gICAgaXNUcmFuc2Zvcm1TdXBwb3J0ZWQgPSB0cnVlO1xuICB9XG59KTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbnZhciBzdHlsZXNDYWNoZSA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gbmV3IFdlYWtNYXAoKSA6IG51bGw7XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBjb21wdXRlZCB2YWx1ZSBvZiBhbiBlbGVtZW50J3Mgc3R5bGUgcHJvcGVydHkgYXMgYSBzdHJpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0eWxlXHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGUoZWxlbWVudCwgc3R5bGUpIHtcbiAgdmFyIHN0eWxlcyA9IHN0eWxlc0NhY2hlICYmIHN0eWxlc0NhY2hlLmdldChlbGVtZW50KTtcbiAgaWYgKCFzdHlsZXMpIHtcbiAgICBzdHlsZXMgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgICBzdHlsZXNDYWNoZSAmJiBzdHlsZXNDYWNoZS5zZXQoZWxlbWVudCwgc3R5bGVzKTtcbiAgfVxuICByZXR1cm4gc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoc3R5bGUgPT09ICd0cmFuc2Zvcm0nID8gdHJhbnNmb3JtU3R5bGUgOiBzdHlsZSk7XG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgSGFsdHUgT3lcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oYWx0dS9tdXVyaS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcbiAqL1xuXG52YXIgc3R5bGVOYW1lUmVnRXggPSAvKFtBLVpdKS9nO1xuXG4vKipcclxuICogVHJhbnNmb3JtcyBhIGNhbWVsIGNhc2Ugc3R5bGUgcHJvcGVydHkgdG8ga2ViYWIgY2FzZSBzdHlsZSBwcm9wZXJ0eS5cclxuICpcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxyXG4gKi9cbmZ1bmN0aW9uIGdldFN0eWxlTmFtZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHN0eWxlTmFtZVJlZ0V4LCAnLSQxJykudG9Mb3dlckNhc2UoKTtcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbi8qKlxyXG4gKiBTZXQgaW5saW5lIHN0eWxlcyB0byBhbiBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZXNcclxuICovXG5mdW5jdGlvbiBzZXRTdHlsZXMoZWxlbWVudCwgc3R5bGVzKSB7XG4gIGZvciAodmFyIHByb3AgaW4gc3R5bGVzKSB7XG4gICAgZWxlbWVudC5zdHlsZVtwcm9wID09PSAndHJhbnNmb3JtJyA/IHRyYW5zZm9ybVByb3AgOiBwcm9wXSA9IHN0eWxlc1twcm9wXTtcbiAgfVxufVxuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuLyoqXHJcbiAqIEl0ZW0gYW5pbWF0aW9uIGhhbmRsZXIgcG93ZXJlZCBieSBXZWIgQW5pbWF0aW9ucyBBUEkuXHJcbiAqXHJcbiAqIEBjbGFzc1xyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XHJcbiAqL1xuXG52YXIgSXRlbUFuaW1hdGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhJdGVtQW5pbWF0ZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSXRlbUFuaW1hdGUoZWxlbWVudCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEl0ZW1BbmltYXRlKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEl0ZW1BbmltYXRlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSXRlbUFuaW1hdGUpKS5jYWxsKHRoaXMsIGVsZW1lbnQpKTtcblxuICAgIF90aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICBfdGhpcy5fYW5pbWF0aW9uID0gbnVsbDtcbiAgICBfdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgIF90aGlzLl9wcm9wcyA9IFtdO1xuICAgIF90aGlzLl92YWx1ZXMgPSBbXTtcbiAgICBfdGhpcy5fa2V5ZnJhbWVzID0gW107XG4gICAgX3RoaXMuX29wdGlvbnMgPSB7fTtcbiAgICBfdGhpcy5faXNEZXN0cm95ZWQgPSBmYWxzZTtcbiAgICBfdGhpcy5fb25GaW5pc2ggPSBfdGhpcy5fb25GaW5pc2guYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXHJcbiAgICogUHVibGljIHByb3RvdHlwZSBtZXRob2RzXHJcbiAgICogKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICovXG5cbiAgLyoqXHJcbiAgICogU3RhcnQgaW5zdGFuY2UncyBhbmltYXRpb24uIEF1dG9tYXRpY2FsbHkgc3RvcHMgY3VycmVudCBhbmltYXRpb24gaWYgaXQgaXNcclxuICAgKiBydW5uaW5nLlxyXG4gICAqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBtZW1iZXJvZiBJdGVtQW5pbWF0ZS5wcm90b3R5cGVcclxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHNGcm9tXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzVG9cclxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmR1cmF0aW9uPTMwMF1cclxuICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuZWFzaW5nPSdlYXNlJ11cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5vbkZpbmlzaF1cclxuICAgKi9cblxuXG4gIGNyZWF0ZUNsYXNzKEl0ZW1BbmltYXRlLCBbe1xuICAgIGtleTogJ3N0YXJ0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQocHJvcHNGcm9tLCBwcm9wc1RvLCBvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgdmFyIGFuaW1hdGlvbiA9IHRoaXMuX2FuaW1hdGlvbjtcbiAgICAgIHZhciBjdXJyZW50UHJvcHMgPSB0aGlzLl9wcm9wcztcbiAgICAgIHZhciBjdXJyZW50VmFsdWVzID0gdGhpcy5fdmFsdWVzO1xuICAgICAgdmFyIG9wdHMgPSBvcHRpb25zIHx8IDA7XG4gICAgICB2YXIgY2FuY2VsQW5pbWF0aW9uID0gZmFsc2U7XG5cbiAgICAgIC8vIElmIHdlIGhhdmUgYW4gZXhpc3RpbmcgYW5pbWF0aW9uIHJ1bm5pbmcsIGxldCdzIGNoZWNrIGlmIGl0IG5lZWRzIHRvIGJlXG4gICAgICAvLyBjYW5jZWxsZWQgb3IgaWYgaXQgY2FuIGNvbnRpbnVlIHJ1bm5pbmcuXG4gICAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgIHZhciBwcm9wQ291bnQgPSAwO1xuICAgICAgICB2YXIgcHJvcEluZGV4ID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSByZXF1ZXN0ZWQgYW5pbWF0aW9uIHRhcmdldCBwcm9wcyBhbmQgdmFsdWVzIG1hdGNoIHdpdGggdGhlXG4gICAgICAgIC8vIGN1cnJlbnQgcHJvcHMgYW5kIHZhbHVlcy5cbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gcHJvcHNUbykge1xuICAgICAgICAgICsrcHJvcENvdW50O1xuICAgICAgICAgIHByb3BJbmRleCA9IGN1cnJlbnRQcm9wcy5pbmRleE9mKHByb3BOYW1lKTtcbiAgICAgICAgICBpZiAocHJvcEluZGV4ID09PSAtMSB8fCBwcm9wc1RvW3Byb3BOYW1lXSAhPT0gY3VycmVudFZhbHVlc1twcm9wSW5kZXhdKSB7XG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRhcmdldCBwcm9wcyBjb3VudCBtYXRjaGVzIGN1cnJlbnQgcHJvcHMgY291bnQuIFRoaXMgaXNcbiAgICAgICAgLy8gbmVlZGVkIGZvciB0aGUgZWRnZSBjYXNlIHNjZW5hcmlvIHdoZXJlIHRhcmdldCBwcm9wcyBjb250YWluIHRoZSBzYW1lXG4gICAgICAgIC8vIHN0eWxlcyBhcyBjdXJyZW50IHByb3BzLCBidXQgdGhlIGN1cnJlbnQgcHJvcHMgaGF2ZSBzb21lIGFkZGl0aW9uYWxcbiAgICAgICAgLy8gcHJvcHMuXG4gICAgICAgIGlmICghY2FuY2VsQW5pbWF0aW9uICYmIHByb3BDb3VudCAhPT0gY3VycmVudFByb3BzLmxlbmd0aCkge1xuICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQ2FuY2VsIGFuaW1hdGlvbiAoaWYgcmVxdWlyZWQpLlxuICAgICAgaWYgKGNhbmNlbEFuaW1hdGlvbikgYW5pbWF0aW9uLmNhbmNlbCgpO1xuXG4gICAgICAvLyBTdG9yZSBhbmltYXRpb24gY2FsbGJhY2suXG4gICAgICB0aGlzLl9jYWxsYmFjayA9IHR5cGVvZiBvcHRzLm9uRmluaXNoID09PSAnZnVuY3Rpb24nID8gb3B0cy5vbkZpbmlzaCA6IG51bGw7XG5cbiAgICAgIC8vIElmIHdlIGhhdmUgYSBydW5uaW5nIGFuaW1hdGlvbiB0aGF0IGRvZXMgbm90IG5lZWQgdG8gYmUgY2FuY2VsbGVkLCBsZXQnc1xuICAgICAgLy8gY2FsbCBpdCBhIGRheSBoZXJlIGFuZCBsZXQgaXQgcnVuLlxuICAgICAgaWYgKGFuaW1hdGlvbiAmJiAhY2FuY2VsQW5pbWF0aW9uKSByZXR1cm47XG5cbiAgICAgIC8vIFN0b3JlIHRhcmdldCBwcm9wcyBhbmQgdmFsdWVzIHRvIGluc3RhbmNlLlxuICAgICAgY3VycmVudFByb3BzLmxlbmd0aCA9IGN1cnJlbnRWYWx1ZXMubGVuZ3RoID0gMDtcbiAgICAgIGZvciAodmFyIF9wcm9wTmFtZSBpbiBwcm9wc1RvKSB7XG4gICAgICAgIGN1cnJlbnRQcm9wcy5wdXNoKF9wcm9wTmFtZSk7XG4gICAgICAgIGN1cnJlbnRWYWx1ZXMucHVzaChwcm9wc1RvW19wcm9wTmFtZV0pO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdXAga2V5ZnJhbWVzLlxuICAgICAgdmFyIGFuaW1LZXlmcmFtZXMgPSB0aGlzLl9rZXlmcmFtZXM7XG4gICAgICBhbmltS2V5ZnJhbWVzWzBdID0gcHJvcHNGcm9tO1xuICAgICAgYW5pbUtleWZyYW1lc1sxXSA9IHByb3BzVG87XG5cbiAgICAgIC8vIFNldCB1cCBvcHRpb25zLlxuICAgICAgdmFyIGFuaW1PcHRpb25zID0gdGhpcy5fb3B0aW9ucztcbiAgICAgIGFuaW1PcHRpb25zLmR1cmF0aW9uID0gb3B0cy5kdXJhdGlvbiB8fCAzMDA7XG4gICAgICBhbmltT3B0aW9ucy5lYXNpbmcgPSBvcHRzLmVhc2luZyB8fCAnZWFzZSc7XG5cbiAgICAgIC8vIFN0YXJ0IHRoZSBhbmltYXRpb25cbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5fZWxlbWVudDtcbiAgICAgIGFuaW1hdGlvbiA9IGVsZW1lbnQuYW5pbWF0ZShhbmltS2V5ZnJhbWVzLCBhbmltT3B0aW9ucyk7XG4gICAgICBhbmltYXRpb24ub25maW5pc2ggPSB0aGlzLl9vbkZpbmlzaDtcbiAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IGFuaW1hdGlvbjtcblxuICAgICAgLy8gU2V0IHRoZSBlbmQgc3R5bGVzLiBUaGlzIG1ha2VzIHN1cmUgdGhhdCB0aGUgZWxlbWVudCBzdGF5cyBhdCB0aGUgZW5kXG4gICAgICAvLyB2YWx1ZXMgYWZ0ZXIgYW5pbWF0aW9uIGlzIGZpbmlzaGVkLlxuICAgICAgc2V0U3R5bGVzKGVsZW1lbnQsIHByb3BzVG8pO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogU3RvcCBpbnN0YW5jZSdzIGN1cnJlbnQgYW5pbWF0aW9uIGlmIHJ1bm5pbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1BbmltYXRlLnByb3RvdHlwZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdHlsZXNdXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3RvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3Aoc3R5bGVzKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQgfHwgIXRoaXMuX2FuaW1hdGlvbikgcmV0dXJuO1xuXG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG4gICAgICB2YXIgY3VycmVudFByb3BzID0gdGhpcy5fcHJvcHM7XG4gICAgICB2YXIgY3VycmVudFZhbHVlcyA9IHRoaXMuX3ZhbHVlcztcbiAgICAgIHZhciBwcm9wTmFtZSA9IHZvaWQgMDtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSB2b2lkIDA7XG4gICAgICB2YXIgaSA9IHZvaWQgMDtcblxuICAgICAgLy8gQ2FsY3VsYXRlIChpZiBub3QgcHJvdmlkZWQpIGFuZCBzZXQgc3R5bGVzLlxuICAgICAgaWYgKCFzdHlsZXMpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGN1cnJlbnRQcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHByb3BOYW1lID0gY3VycmVudFByb3BzW2ldO1xuICAgICAgICAgIHByb3BWYWx1ZSA9IGdldFN0eWxlKGVsZW1lbnQsIGdldFN0eWxlTmFtZShwcm9wTmFtZSkpO1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcE5hbWUgPT09ICd0cmFuc2Zvcm0nID8gdHJhbnNmb3JtUHJvcCA6IHByb3BOYW1lXSA9IHByb3BWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U3R5bGVzKGVsZW1lbnQsIHN0eWxlcyk7XG4gICAgICB9XG5cbiAgICAgIC8vICBDYW5jZWwgYW5pbWF0aW9uLlxuICAgICAgdGhpcy5fYW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgICAgdGhpcy5fYW5pbWF0aW9uID0gdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuXG4gICAgICAvLyBSZXNldCBjdXJyZW50IHByb3BzIGFuZCB2YWx1ZXMuXG4gICAgICBjdXJyZW50UHJvcHMubGVuZ3RoID0gY3VycmVudFZhbHVlcy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgdGhlIGl0ZW0gaXMgYmVpbmcgYW5pbWF0ZWQgY3VycmVudGx5LlxyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtQW5pbWF0ZS5wcm90b3R5cGVcclxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaXNBbmltYXRpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0FuaW1hdGluZygpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX2FuaW1hdGlvbjtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgdGhlIGluc3RhbmNlIGFuZCBzdG9wIGN1cnJlbnQgYW5pbWF0aW9uIGlmIGl0IGlzIHJ1bm5pbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1BbmltYXRlLnByb3RvdHlwZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm47XG4gICAgICB0aGlzLnN0b3AoKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9vcHRpb25zID0gdGhpcy5fa2V5ZnJhbWVzID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzRGVzdHJveWVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFByaXZhdGUgcHJvdG90eXBlIG1ldGhvZHNcclxuICAgICAqICoqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICAqL1xuXG4gICAgLyoqXHJcbiAgICAgKiBBbmltYXRpb24gZW5kIGhhbmRsZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtQW5pbWF0ZS5wcm90b3R5cGVcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfb25GaW5pc2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25GaW5pc2goKSB7XG4gICAgICB2YXIgY2FsbGJhY2sgPSB0aGlzLl9jYWxsYmFjaztcbiAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IHRoaXMuX2NhbGxiYWNrID0gbnVsbDtcbiAgICAgIHRoaXMuX3Byb3BzLmxlbmd0aCA9IHRoaXMuX3ZhbHVlcy5sZW5ndGggPSAwO1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEl0ZW1BbmltYXRlO1xufShDb21wb25lbnQpO1xuXG5mdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG5cdHJldHVybiBtb2R1bGUgPSB7IGV4cG9ydHM6IHt9IH0sIGZuKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMpLCBtb2R1bGUuZXhwb3J0cztcbn1cblxudmFyIGhhbW1lciA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUpIHtcbi8qISBIYW1tZXIuSlMgLSB2Mi4wLjcgLSAyMDE2LTA0LTIyXG4gKiBodHRwOi8vaGFtbWVyanMuZ2l0aHViLmlvL1xuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNiBKb3JpayBUYW5nZWxkZXI7XG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgKi9cbihmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCBleHBvcnROYW1lLCB1bmRlZmluZWQpIHtcblxudmFyIFZFTkRPUl9QUkVGSVhFUyA9IFsnJywgJ3dlYmtpdCcsICdNb3onLCAnTVMnLCAnbXMnLCAnbyddO1xudmFyIFRFU1RfRUxFTUVOVCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG52YXIgVFlQRV9GVU5DVElPTiA9ICdmdW5jdGlvbic7XG5cbnZhciByb3VuZCA9IE1hdGgucm91bmQ7XG52YXIgYWJzID0gTWF0aC5hYnM7XG52YXIgbm93ID0gRGF0ZS5ub3c7XG5cbi8qKlxuICogc2V0IGEgdGltZW91dCB3aXRoIGEgZ2l2ZW4gc2NvcGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZW91dFxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHNldFRpbWVvdXRDb250ZXh0KGZuLCB0aW1lb3V0LCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoYmluZEZuKGZuLCBjb250ZXh0KSwgdGltZW91dCk7XG59XG5cbi8qKlxuICogaWYgdGhlIGFyZ3VtZW50IGlzIGFuIGFycmF5LCB3ZSB3YW50IHRvIGV4ZWN1dGUgdGhlIGZuIG9uIGVhY2ggZW50cnlcbiAqIGlmIGl0IGFpbnQgYW4gYXJyYXkgd2UgZG9uJ3Qgd2FudCB0byBkbyBhIHRoaW5nLlxuICogdGhpcyBpcyB1c2VkIGJ5IGFsbCB0aGUgbWV0aG9kcyB0aGF0IGFjY2VwdCBhIHNpbmdsZSBhbmQgYXJyYXkgYXJndW1lbnQuXG4gKiBAcGFyYW0geyp8QXJyYXl9IGFyZ1xuICogQHBhcmFtIHtTdHJpbmd9IGZuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbnRleHRdXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaW52b2tlQXJyYXlBcmcoYXJnLCBmbiwgY29udGV4dCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgZWFjaChhcmcsIGNvbnRleHRbZm5dLCBjb250ZXh0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiB3YWxrIG9iamVjdHMgYW5kIGFycmF5c1xuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3JcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKi9cbmZ1bmN0aW9uIGVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIHZhciBpO1xuXG4gICAgaWYgKCFvYmopIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvYmouZm9yRWFjaCkge1xuICAgICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgb2JqLmxlbmd0aCkge1xuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGkgaW4gb2JqKSB7XG4gICAgICAgICAgICBvYmouaGFzT3duUHJvcGVydHkoaSkgJiYgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogd3JhcCBhIG1ldGhvZCB3aXRoIGEgZGVwcmVjYXRpb24gd2FybmluZyBhbmQgc3RhY2sgdHJhY2VcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG1ldGhvZFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHdyYXBwaW5nIHRoZSBzdXBwbGllZCBtZXRob2QuXG4gKi9cbmZ1bmN0aW9uIGRlcHJlY2F0ZShtZXRob2QsIG5hbWUsIG1lc3NhZ2UpIHtcbiAgICB2YXIgZGVwcmVjYXRpb25NZXNzYWdlID0gJ0RFUFJFQ0FURUQgTUVUSE9EOiAnICsgbmFtZSArICdcXG4nICsgbWVzc2FnZSArICcgQVQgXFxuJztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlID0gbmV3IEVycm9yKCdnZXQtc3RhY2stdHJhY2UnKTtcbiAgICAgICAgdmFyIHN0YWNrID0gZSAmJiBlLnN0YWNrID8gZS5zdGFjay5yZXBsYWNlKC9eW15cXChdKz9bXFxuJF0vZ20sICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL15cXHMrYXRcXHMrL2dtLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eT2JqZWN0Ljxhbm9ueW1vdXM+XFxzKlxcKC9nbSwgJ3thbm9ueW1vdXN9KClAJykgOiAnVW5rbm93biBTdGFjayBUcmFjZSc7XG5cbiAgICAgICAgdmFyIGxvZyA9IHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS53YXJuIHx8IHdpbmRvdy5jb25zb2xlLmxvZyk7XG4gICAgICAgIGlmIChsb2cpIHtcbiAgICAgICAgICAgIGxvZy5jYWxsKHdpbmRvdy5jb25zb2xlLCBkZXByZWNhdGlvbk1lc3NhZ2UsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBleHRlbmQgb2JqZWN0LlxuICogbWVhbnMgdGhhdCBwcm9wZXJ0aWVzIGluIGRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgb25lcyBpbiBzcmMuXG4gKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0gey4uLk9iamVjdH0gb2JqZWN0c190b19hc3NpZ25cbiAqIEByZXR1cm5zIHtPYmplY3R9IHRhcmdldFxuICovXG52YXIgYXNzaWduO1xuaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgYXNzaWduID0gZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQgfHwgdGFyZ2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvdXRwdXQgPSBPYmplY3QodGFyZ2V0KTtcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkobmV4dEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtuZXh0S2V5XSA9IHNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59IGVsc2Uge1xuICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG59XG5cbi8qKlxuICogZXh0ZW5kIG9iamVjdC5cbiAqIG1lYW5zIHRoYXQgcHJvcGVydGllcyBpbiBkZXN0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgdGhlIG9uZXMgaW4gc3JjLlxuICogQHBhcmFtIHtPYmplY3R9IGRlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW21lcmdlPWZhbHNlXVxuICogQHJldHVybnMge09iamVjdH0gZGVzdFxuICovXG52YXIgZXh0ZW5kID0gZGVwcmVjYXRlKGZ1bmN0aW9uIGV4dGVuZChkZXN0LCBzcmMsIG1lcmdlKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzcmMpO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICghbWVyZ2UgfHwgKG1lcmdlICYmIGRlc3Rba2V5c1tpXV0gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIGRlc3Rba2V5c1tpXV0gPSBzcmNba2V5c1tpXV07XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn0sICdleHRlbmQnLCAnVXNlIGBhc3NpZ25gLicpO1xuXG4vKipcbiAqIG1lcmdlIHRoZSB2YWx1ZXMgZnJvbSBzcmMgaW4gdGhlIGRlc3QuXG4gKiBtZWFucyB0aGF0IHByb3BlcnRpZXMgdGhhdCBleGlzdCBpbiBkZXN0IHdpbGwgbm90IGJlIG92ZXJ3cml0dGVuIGJ5IHNyY1xuICogQHBhcmFtIHtPYmplY3R9IGRlc3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzcmNcbiAqIEByZXR1cm5zIHtPYmplY3R9IGRlc3RcbiAqL1xudmFyIG1lcmdlID0gZGVwcmVjYXRlKGZ1bmN0aW9uIG1lcmdlKGRlc3QsIHNyYykge1xuICAgIHJldHVybiBleHRlbmQoZGVzdCwgc3JjLCB0cnVlKTtcbn0sICdtZXJnZScsICdVc2UgYGFzc2lnbmAuJyk7XG5cbi8qKlxuICogc2ltcGxlIGNsYXNzIGluaGVyaXRhbmNlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjaGlsZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gYmFzZVxuICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXVxuICovXG5mdW5jdGlvbiBpbmhlcml0KGNoaWxkLCBiYXNlLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGJhc2VQID0gYmFzZS5wcm90b3R5cGUsXG4gICAgICAgIGNoaWxkUDtcblxuICAgIGNoaWxkUCA9IGNoaWxkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYmFzZVApO1xuICAgIGNoaWxkUC5jb25zdHJ1Y3RvciA9IGNoaWxkO1xuICAgIGNoaWxkUC5fc3VwZXIgPSBiYXNlUDtcblxuICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGFzc2lnbihjaGlsZFAsIHByb3BlcnRpZXMpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBzaW1wbGUgZnVuY3Rpb24gYmluZFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIGJpbmRGbihmbiwgY29udGV4dCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBib3VuZEZuKCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIGxldCBhIGJvb2xlYW4gdmFsdWUgYWxzbyBiZSBhIGZ1bmN0aW9uIHRoYXQgbXVzdCByZXR1cm4gYSBib29sZWFuXG4gKiB0aGlzIGZpcnN0IGl0ZW0gaW4gYXJncyB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbnRleHRcbiAqIEBwYXJhbSB7Qm9vbGVhbnxGdW5jdGlvbn0gdmFsXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJnc11cbiAqIEByZXR1cm5zIHtCb29sZWFufVxuICovXG5mdW5jdGlvbiBib29sT3JGbih2YWwsIGFyZ3MpIHtcbiAgICBpZiAodHlwZW9mIHZhbCA9PSBUWVBFX0ZVTkNUSU9OKSB7XG4gICAgICAgIHJldHVybiB2YWwuYXBwbHkoYXJncyA/IGFyZ3NbMF0gfHwgdW5kZWZpbmVkIDogdW5kZWZpbmVkLCBhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbn1cblxuLyoqXG4gKiB1c2UgdGhlIHZhbDIgd2hlbiB2YWwxIGlzIHVuZGVmaW5lZFxuICogQHBhcmFtIHsqfSB2YWwxXG4gKiBAcGFyYW0geyp9IHZhbDJcbiAqIEByZXR1cm5zIHsqfVxuICovXG5mdW5jdGlvbiBpZlVuZGVmaW5lZCh2YWwxLCB2YWwyKSB7XG4gICAgcmV0dXJuICh2YWwxID09PSB1bmRlZmluZWQpID8gdmFsMiA6IHZhbDE7XG59XG5cbi8qKlxuICogYWRkRXZlbnRMaXN0ZW5lciB3aXRoIG11bHRpcGxlIGV2ZW50cyBhdCBvbmNlXG4gKiBAcGFyYW0ge0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICovXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVycyh0YXJnZXQsIHR5cGVzLCBoYW5kbGVyKSB7XG4gICAgZWFjaChzcGxpdFN0cih0eXBlcyksIGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIHJlbW92ZUV2ZW50TGlzdGVuZXIgd2l0aCBtdWx0aXBsZSBldmVudHMgYXQgb25jZVxuICogQHBhcmFtIHtFdmVudFRhcmdldH0gdGFyZ2V0XG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXJcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGFyZ2V0LCB0eXBlcywgaGFuZGxlcikge1xuICAgIGVhY2goc3BsaXRTdHIodHlwZXMpLCBmdW5jdGlvbih0eXBlKSB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBmaW5kIGlmIGEgbm9kZSBpcyBpbiB0aGUgZ2l2ZW4gcGFyZW50XG4gKiBAbWV0aG9kIGhhc1BhcmVudFxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJuIHtCb29sZWFufSBmb3VuZFxuICovXG5mdW5jdGlvbiBoYXNQYXJlbnQobm9kZSwgcGFyZW50KSB7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogc21hbGwgaW5kZXhPZiB3cmFwcGVyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge1N0cmluZ30gZmluZFxuICogQHJldHVybnMge0Jvb2xlYW59IGZvdW5kXG4gKi9cbmZ1bmN0aW9uIGluU3RyKHN0ciwgZmluZCkge1xuICAgIHJldHVybiBzdHIuaW5kZXhPZihmaW5kKSA+IC0xO1xufVxuXG4vKipcbiAqIHNwbGl0IHN0cmluZyBvbiB3aGl0ZXNwYWNlXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJucyB7QXJyYXl9IHdvcmRzXG4gKi9cbmZ1bmN0aW9uIHNwbGl0U3RyKHN0cikge1xuICAgIHJldHVybiBzdHIudHJpbSgpLnNwbGl0KC9cXHMrL2cpO1xufVxuXG4vKipcbiAqIGZpbmQgaWYgYSBhcnJheSBjb250YWlucyB0aGUgb2JqZWN0IHVzaW5nIGluZGV4T2Ygb3IgYSBzaW1wbGUgcG9seUZpbGxcbiAqIEBwYXJhbSB7QXJyYXl9IHNyY1xuICogQHBhcmFtIHtTdHJpbmd9IGZpbmRcbiAqIEBwYXJhbSB7U3RyaW5nfSBbZmluZEJ5S2V5XVxuICogQHJldHVybiB7Qm9vbGVhbnxOdW1iZXJ9IGZhbHNlIHdoZW4gbm90IGZvdW5kLCBvciB0aGUgaW5kZXhcbiAqL1xuZnVuY3Rpb24gaW5BcnJheShzcmMsIGZpbmQsIGZpbmRCeUtleSkge1xuICAgIGlmIChzcmMuaW5kZXhPZiAmJiAhZmluZEJ5S2V5KSB7XG4gICAgICAgIHJldHVybiBzcmMuaW5kZXhPZihmaW5kKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKChmaW5kQnlLZXkgJiYgc3JjW2ldW2ZpbmRCeUtleV0gPT0gZmluZCkgfHwgKCFmaW5kQnlLZXkgJiYgc3JjW2ldID09PSBmaW5kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG59XG5cbi8qKlxuICogY29udmVydCBhcnJheS1saWtlIG9iamVjdHMgdG8gcmVhbCBhcnJheXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqLCAwKTtcbn1cblxuLyoqXG4gKiB1bmlxdWUgYXJyYXkgd2l0aCBvYmplY3RzIGJhc2VkIG9uIGEga2V5IChsaWtlICdpZCcpIG9yIGp1c3QgYnkgdGhlIGFycmF5J3MgdmFsdWVcbiAqIEBwYXJhbSB7QXJyYXl9IHNyYyBbe2lkOjF9LHtpZDoyfSx7aWQ6MX1dXG4gKiBAcGFyYW0ge1N0cmluZ30gW2tleV1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NvcnQ9RmFsc2VdXG4gKiBAcmV0dXJucyB7QXJyYXl9IFt7aWQ6MX0se2lkOjJ9XVxuICovXG5mdW5jdGlvbiB1bmlxdWVBcnJheShzcmMsIGtleSwgc29ydCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgIHZhciBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgc3JjLmxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsID0ga2V5ID8gc3JjW2ldW2tleV0gOiBzcmNbaV07XG4gICAgICAgIGlmIChpbkFycmF5KHZhbHVlcywgdmFsKSA8IDApIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChzcmNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlc1tpXSA9IHZhbDtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIGlmIChzb3J0KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5zb3J0KGZ1bmN0aW9uIHNvcnRVbmlxdWVBcnJheShhLCBiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFba2V5XSA+IGJba2V5XTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5cbi8qKlxuICogZ2V0IHRoZSBwcmVmaXhlZCBwcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gKiBAcmV0dXJucyB7U3RyaW5nfFVuZGVmaW5lZH0gcHJlZml4ZWRcbiAqL1xuZnVuY3Rpb24gcHJlZml4ZWQob2JqLCBwcm9wZXJ0eSkge1xuICAgIHZhciBwcmVmaXgsIHByb3A7XG4gICAgdmFyIGNhbWVsUHJvcCA9IHByb3BlcnR5WzBdLnRvVXBwZXJDYXNlKCkgKyBwcm9wZXJ0eS5zbGljZSgxKTtcblxuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IFZFTkRPUl9QUkVGSVhFUy5sZW5ndGgpIHtcbiAgICAgICAgcHJlZml4ID0gVkVORE9SX1BSRUZJWEVTW2ldO1xuICAgICAgICBwcm9wID0gKHByZWZpeCkgPyBwcmVmaXggKyBjYW1lbFByb3AgOiBwcm9wZXJ0eTtcblxuICAgICAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBnZXQgYSB1bmlxdWUgaWRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHVuaXF1ZUlkXG4gKi9cbnZhciBfdW5pcXVlSWQgPSAxO1xuZnVuY3Rpb24gdW5pcXVlSWQoKSB7XG4gICAgcmV0dXJuIF91bmlxdWVJZCsrO1xufVxuXG4vKipcbiAqIGdldCB0aGUgd2luZG93IG9iamVjdCBvZiBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7RG9jdW1lbnRWaWV3fFdpbmRvd31cbiAqL1xuZnVuY3Rpb24gZ2V0V2luZG93Rm9yRWxlbWVudChlbGVtZW50KSB7XG4gICAgdmFyIGRvYyA9IGVsZW1lbnQub3duZXJEb2N1bWVudCB8fCBlbGVtZW50O1xuICAgIHJldHVybiAoZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3cgfHwgd2luZG93KTtcbn1cblxudmFyIE1PQklMRV9SRUdFWCA9IC9tb2JpbGV8dGFibGV0fGlwKGFkfGhvbmV8b2QpfGFuZHJvaWQvaTtcblxudmFyIFNVUFBPUlRfVE9VQ0ggPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KTtcbnZhciBTVVBQT1JUX1BPSU5URVJfRVZFTlRTID0gcHJlZml4ZWQod2luZG93LCAnUG9pbnRlckV2ZW50JykgIT09IHVuZGVmaW5lZDtcbnZhciBTVVBQT1JUX09OTFlfVE9VQ0ggPSBTVVBQT1JUX1RPVUNIICYmIE1PQklMRV9SRUdFWC50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG52YXIgSU5QVVRfVFlQRV9UT1VDSCA9ICd0b3VjaCc7XG52YXIgSU5QVVRfVFlQRV9QRU4gPSAncGVuJztcbnZhciBJTlBVVF9UWVBFX01PVVNFID0gJ21vdXNlJztcbnZhciBJTlBVVF9UWVBFX0tJTkVDVCA9ICdraW5lY3QnO1xuXG52YXIgQ09NUFVURV9JTlRFUlZBTCA9IDI1O1xuXG52YXIgSU5QVVRfU1RBUlQgPSAxO1xudmFyIElOUFVUX01PVkUgPSAyO1xudmFyIElOUFVUX0VORCA9IDQ7XG52YXIgSU5QVVRfQ0FOQ0VMID0gODtcblxudmFyIERJUkVDVElPTl9OT05FID0gMTtcbnZhciBESVJFQ1RJT05fTEVGVCA9IDI7XG52YXIgRElSRUNUSU9OX1JJR0hUID0gNDtcbnZhciBESVJFQ1RJT05fVVAgPSA4O1xudmFyIERJUkVDVElPTl9ET1dOID0gMTY7XG5cbnZhciBESVJFQ1RJT05fSE9SSVpPTlRBTCA9IERJUkVDVElPTl9MRUZUIHwgRElSRUNUSU9OX1JJR0hUO1xudmFyIERJUkVDVElPTl9WRVJUSUNBTCA9IERJUkVDVElPTl9VUCB8IERJUkVDVElPTl9ET1dOO1xudmFyIERJUkVDVElPTl9BTEwgPSBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTDtcblxudmFyIFBST1BTX1hZID0gWyd4JywgJ3knXTtcbnZhciBQUk9QU19DTElFTlRfWFkgPSBbJ2NsaWVudFgnLCAnY2xpZW50WSddO1xuXG4vKipcbiAqIGNyZWF0ZSBuZXcgaW5wdXQgdHlwZSBtYW5hZ2VyXG4gKiBAcGFyYW0ge01hbmFnZXJ9IG1hbmFnZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7SW5wdXR9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gSW5wdXQobWFuYWdlciwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5tYW5hZ2VyID0gbWFuYWdlcjtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5lbGVtZW50ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIHRoaXMudGFyZ2V0ID0gbWFuYWdlci5vcHRpb25zLmlucHV0VGFyZ2V0O1xuXG4gICAgLy8gc21hbGxlciB3cmFwcGVyIGFyb3VuZCB0aGUgaGFuZGxlciwgZm9yIHRoZSBzY29wZSBhbmQgdGhlIGVuYWJsZWQgc3RhdGUgb2YgdGhlIG1hbmFnZXIsXG4gICAgLy8gc28gd2hlbiBkaXNhYmxlZCB0aGUgaW5wdXQgZXZlbnRzIGFyZSBjb21wbGV0ZWx5IGJ5cGFzc2VkLlxuICAgIHRoaXMuZG9tSGFuZGxlciA9IGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIGlmIChib29sT3JGbihtYW5hZ2VyLm9wdGlvbnMuZW5hYmxlLCBbbWFuYWdlcl0pKSB7XG4gICAgICAgICAgICBzZWxmLmhhbmRsZXIoZXYpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuaW5pdCgpO1xuXG59XG5cbklucHV0LnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzaG91bGQgaGFuZGxlIHRoZSBpbnB1dEV2ZW50IGRhdGEgYW5kIHRyaWdnZXIgdGhlIGNhbGxiYWNrXG4gICAgICogQHZpcnR1YWxcbiAgICAgKi9cbiAgICBoYW5kbGVyOiBmdW5jdGlvbigpIHsgfSxcblxuICAgIC8qKlxuICAgICAqIGJpbmQgdGhlIGV2ZW50c1xuICAgICAqL1xuICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmV2RWwgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZUYXJnZXQgJiYgYWRkRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZXaW4gJiYgYWRkRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1bmJpbmQgdGhlIGV2ZW50c1xuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmV2RWwgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy5lbGVtZW50LCB0aGlzLmV2RWwsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZUYXJnZXQgJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnModGhpcy50YXJnZXQsIHRoaXMuZXZUYXJnZXQsIHRoaXMuZG9tSGFuZGxlcik7XG4gICAgICAgIHRoaXMuZXZXaW4gJiYgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZ2V0V2luZG93Rm9yRWxlbWVudCh0aGlzLmVsZW1lbnQpLCB0aGlzLmV2V2luLCB0aGlzLmRvbUhhbmRsZXIpO1xuICAgIH1cbn07XG5cbi8qKlxuICogY3JlYXRlIG5ldyBpbnB1dCB0eXBlIG1hbmFnZXJcbiAqIGNhbGxlZCBieSB0aGUgTWFuYWdlciBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtIYW1tZXJ9IG1hbmFnZXJcbiAqIEByZXR1cm5zIHtJbnB1dH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5wdXRJbnN0YW5jZShtYW5hZ2VyKSB7XG4gICAgdmFyIFR5cGU7XG4gICAgdmFyIGlucHV0Q2xhc3MgPSBtYW5hZ2VyLm9wdGlvbnMuaW5wdXRDbGFzcztcblxuICAgIGlmIChpbnB1dENsYXNzKSB7XG4gICAgICAgIFR5cGUgPSBpbnB1dENsYXNzO1xuICAgIH0gZWxzZSBpZiAoU1VQUE9SVF9QT0lOVEVSX0VWRU5UUykge1xuICAgICAgICBUeXBlID0gUG9pbnRlckV2ZW50SW5wdXQ7XG4gICAgfSBlbHNlIGlmIChTVVBQT1JUX09OTFlfVE9VQ0gpIHtcbiAgICAgICAgVHlwZSA9IFRvdWNoSW5wdXQ7XG4gICAgfSBlbHNlIGlmICghU1VQUE9SVF9UT1VDSCkge1xuICAgICAgICBUeXBlID0gTW91c2VJbnB1dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBUeXBlID0gVG91Y2hNb3VzZUlucHV0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IChUeXBlKShtYW5hZ2VyLCBpbnB1dEhhbmRsZXIpO1xufVxuXG4vKipcbiAqIGhhbmRsZSBpbnB1dCBldmVudHNcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZVxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGlucHV0SGFuZGxlcihtYW5hZ2VyLCBldmVudFR5cGUsIGlucHV0KSB7XG4gICAgdmFyIHBvaW50ZXJzTGVuID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoO1xuICAgIHZhciBjaGFuZ2VkUG9pbnRlcnNMZW4gPSBpbnB1dC5jaGFuZ2VkUG9pbnRlcnMubGVuZ3RoO1xuICAgIHZhciBpc0ZpcnN0ID0gKGV2ZW50VHlwZSAmIElOUFVUX1NUQVJUICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuICAgIHZhciBpc0ZpbmFsID0gKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpICYmIChwb2ludGVyc0xlbiAtIGNoYW5nZWRQb2ludGVyc0xlbiA9PT0gMCkpO1xuXG4gICAgaW5wdXQuaXNGaXJzdCA9ICEhaXNGaXJzdDtcbiAgICBpbnB1dC5pc0ZpbmFsID0gISFpc0ZpbmFsO1xuXG4gICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgbWFuYWdlci5zZXNzaW9uID0ge307XG4gICAgfVxuXG4gICAgLy8gc291cmNlIGV2ZW50IGlzIHRoZSBub3JtYWxpemVkIHZhbHVlIG9mIHRoZSBkb21FdmVudHNcbiAgICAvLyBsaWtlICd0b3VjaHN0YXJ0LCBtb3VzZXVwLCBwb2ludGVyZG93bidcbiAgICBpbnB1dC5ldmVudFR5cGUgPSBldmVudFR5cGU7XG5cbiAgICAvLyBjb21wdXRlIHNjYWxlLCByb3RhdGlvbiBldGNcbiAgICBjb21wdXRlSW5wdXREYXRhKG1hbmFnZXIsIGlucHV0KTtcblxuICAgIC8vIGVtaXQgc2VjcmV0IGV2ZW50XG4gICAgbWFuYWdlci5lbWl0KCdoYW1tZXIuaW5wdXQnLCBpbnB1dCk7XG5cbiAgICBtYW5hZ2VyLnJlY29nbml6ZShpbnB1dCk7XG4gICAgbWFuYWdlci5zZXNzaW9uLnByZXZJbnB1dCA9IGlucHV0O1xufVxuXG4vKipcbiAqIGV4dGVuZCB0aGUgZGF0YSB3aXRoIHNvbWUgdXNhYmxlIHByb3BlcnRpZXMgbGlrZSBzY2FsZSwgcm90YXRlLCB2ZWxvY2l0eSBldGNcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYW5hZ2VyXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUlucHV0RGF0YShtYW5hZ2VyLCBpbnB1dCkge1xuICAgIHZhciBzZXNzaW9uID0gbWFuYWdlci5zZXNzaW9uO1xuICAgIHZhciBwb2ludGVycyA9IGlucHV0LnBvaW50ZXJzO1xuICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblxuICAgIC8vIHN0b3JlIHRoZSBmaXJzdCBpbnB1dCB0byBjYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGFuZCBkaXJlY3Rpb25cbiAgICBpZiAoIXNlc3Npb24uZmlyc3RJbnB1dCkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0SW5wdXQgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG4gICAgfVxuXG4gICAgLy8gdG8gY29tcHV0ZSBzY2FsZSBhbmQgcm90YXRpb24gd2UgbmVlZCB0byBzdG9yZSB0aGUgbXVsdGlwbGUgdG91Y2hlc1xuICAgIGlmIChwb2ludGVyc0xlbmd0aCA+IDEgJiYgIXNlc3Npb24uZmlyc3RNdWx0aXBsZSkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCk7XG4gICAgfSBlbHNlIGlmIChwb2ludGVyc0xlbmd0aCA9PT0gMSkge1xuICAgICAgICBzZXNzaW9uLmZpcnN0TXVsdGlwbGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZmlyc3RJbnB1dCA9IHNlc3Npb24uZmlyc3RJbnB1dDtcbiAgICB2YXIgZmlyc3RNdWx0aXBsZSA9IHNlc3Npb24uZmlyc3RNdWx0aXBsZTtcbiAgICB2YXIgb2Zmc2V0Q2VudGVyID0gZmlyc3RNdWx0aXBsZSA/IGZpcnN0TXVsdGlwbGUuY2VudGVyIDogZmlyc3RJbnB1dC5jZW50ZXI7XG5cbiAgICB2YXIgY2VudGVyID0gaW5wdXQuY2VudGVyID0gZ2V0Q2VudGVyKHBvaW50ZXJzKTtcbiAgICBpbnB1dC50aW1lU3RhbXAgPSBub3coKTtcbiAgICBpbnB1dC5kZWx0YVRpbWUgPSBpbnB1dC50aW1lU3RhbXAgLSBmaXJzdElucHV0LnRpbWVTdGFtcDtcblxuICAgIGlucHV0LmFuZ2xlID0gZ2V0QW5nbGUob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuICAgIGlucHV0LmRpc3RhbmNlID0gZ2V0RGlzdGFuY2Uob2Zmc2V0Q2VudGVyLCBjZW50ZXIpO1xuXG4gICAgY29tcHV0ZURlbHRhWFkoc2Vzc2lvbiwgaW5wdXQpO1xuICAgIGlucHV0Lm9mZnNldERpcmVjdGlvbiA9IGdldERpcmVjdGlvbihpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG5cbiAgICB2YXIgb3ZlcmFsbFZlbG9jaXR5ID0gZ2V0VmVsb2NpdHkoaW5wdXQuZGVsdGFUaW1lLCBpbnB1dC5kZWx0YVgsIGlucHV0LmRlbHRhWSk7XG4gICAgaW5wdXQub3ZlcmFsbFZlbG9jaXR5WCA9IG92ZXJhbGxWZWxvY2l0eS54O1xuICAgIGlucHV0Lm92ZXJhbGxWZWxvY2l0eVkgPSBvdmVyYWxsVmVsb2NpdHkueTtcbiAgICBpbnB1dC5vdmVyYWxsVmVsb2NpdHkgPSAoYWJzKG92ZXJhbGxWZWxvY2l0eS54KSA+IGFicyhvdmVyYWxsVmVsb2NpdHkueSkpID8gb3ZlcmFsbFZlbG9jaXR5LnggOiBvdmVyYWxsVmVsb2NpdHkueTtcblxuICAgIGlucHV0LnNjYWxlID0gZmlyc3RNdWx0aXBsZSA/IGdldFNjYWxlKGZpcnN0TXVsdGlwbGUucG9pbnRlcnMsIHBvaW50ZXJzKSA6IDE7XG4gICAgaW5wdXQucm90YXRpb24gPSBmaXJzdE11bHRpcGxlID8gZ2V0Um90YXRpb24oZmlyc3RNdWx0aXBsZS5wb2ludGVycywgcG9pbnRlcnMpIDogMDtcblxuICAgIGlucHV0Lm1heFBvaW50ZXJzID0gIXNlc3Npb24ucHJldklucHV0ID8gaW5wdXQucG9pbnRlcnMubGVuZ3RoIDogKChpbnB1dC5wb2ludGVycy5sZW5ndGggPlxuICAgICAgICBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycykgPyBpbnB1dC5wb2ludGVycy5sZW5ndGggOiBzZXNzaW9uLnByZXZJbnB1dC5tYXhQb2ludGVycyk7XG5cbiAgICBjb21wdXRlSW50ZXJ2YWxJbnB1dERhdGEoc2Vzc2lvbiwgaW5wdXQpO1xuXG4gICAgLy8gZmluZCB0aGUgY29ycmVjdCB0YXJnZXRcbiAgICB2YXIgdGFyZ2V0ID0gbWFuYWdlci5lbGVtZW50O1xuICAgIGlmIChoYXNQYXJlbnQoaW5wdXQuc3JjRXZlbnQudGFyZ2V0LCB0YXJnZXQpKSB7XG4gICAgICAgIHRhcmdldCA9IGlucHV0LnNyY0V2ZW50LnRhcmdldDtcbiAgICB9XG4gICAgaW5wdXQudGFyZ2V0ID0gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBjb21wdXRlRGVsdGFYWShzZXNzaW9uLCBpbnB1dCkge1xuICAgIHZhciBjZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG4gICAgdmFyIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgfHwge307XG4gICAgdmFyIHByZXZEZWx0YSA9IHNlc3Npb24ucHJldkRlbHRhIHx8IHt9O1xuICAgIHZhciBwcmV2SW5wdXQgPSBzZXNzaW9uLnByZXZJbnB1dCB8fCB7fTtcblxuICAgIGlmIChpbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX1NUQVJUIHx8IHByZXZJbnB1dC5ldmVudFR5cGUgPT09IElOUFVUX0VORCkge1xuICAgICAgICBwcmV2RGVsdGEgPSBzZXNzaW9uLnByZXZEZWx0YSA9IHtcbiAgICAgICAgICAgIHg6IHByZXZJbnB1dC5kZWx0YVggfHwgMCxcbiAgICAgICAgICAgIHk6IHByZXZJbnB1dC5kZWx0YVkgfHwgMFxuICAgICAgICB9O1xuXG4gICAgICAgIG9mZnNldCA9IHNlc3Npb24ub2Zmc2V0RGVsdGEgPSB7XG4gICAgICAgICAgICB4OiBjZW50ZXIueCxcbiAgICAgICAgICAgIHk6IGNlbnRlci55XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgaW5wdXQuZGVsdGFYID0gcHJldkRlbHRhLnggKyAoY2VudGVyLnggLSBvZmZzZXQueCk7XG4gICAgaW5wdXQuZGVsdGFZID0gcHJldkRlbHRhLnkgKyAoY2VudGVyLnkgLSBvZmZzZXQueSk7XG59XG5cbi8qKlxuICogdmVsb2NpdHkgaXMgY2FsY3VsYXRlZCBldmVyeSB4IG1zXG4gKiBAcGFyYW0ge09iamVjdH0gc2Vzc2lvblxuICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gKi9cbmZ1bmN0aW9uIGNvbXB1dGVJbnRlcnZhbElucHV0RGF0YShzZXNzaW9uLCBpbnB1dCkge1xuICAgIHZhciBsYXN0ID0gc2Vzc2lvbi5sYXN0SW50ZXJ2YWwgfHwgaW5wdXQsXG4gICAgICAgIGRlbHRhVGltZSA9IGlucHV0LnRpbWVTdGFtcCAtIGxhc3QudGltZVN0YW1wLFxuICAgICAgICB2ZWxvY2l0eSwgdmVsb2NpdHlYLCB2ZWxvY2l0eVksIGRpcmVjdGlvbjtcblxuICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfQ0FOQ0VMICYmIChkZWx0YVRpbWUgPiBDT01QVVRFX0lOVEVSVkFMIHx8IGxhc3QudmVsb2NpdHkgPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgdmFyIGRlbHRhWCA9IGlucHV0LmRlbHRhWCAtIGxhc3QuZGVsdGFYO1xuICAgICAgICB2YXIgZGVsdGFZID0gaW5wdXQuZGVsdGFZIC0gbGFzdC5kZWx0YVk7XG5cbiAgICAgICAgdmFyIHYgPSBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIGRlbHRhWCwgZGVsdGFZKTtcbiAgICAgICAgdmVsb2NpdHlYID0gdi54O1xuICAgICAgICB2ZWxvY2l0eVkgPSB2Lnk7XG4gICAgICAgIHZlbG9jaXR5ID0gKGFicyh2LngpID4gYWJzKHYueSkpID8gdi54IDogdi55O1xuICAgICAgICBkaXJlY3Rpb24gPSBnZXREaXJlY3Rpb24oZGVsdGFYLCBkZWx0YVkpO1xuXG4gICAgICAgIHNlc3Npb24ubGFzdEludGVydmFsID0gaW5wdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdXNlIGxhdGVzdCB2ZWxvY2l0eSBpbmZvIGlmIGl0IGRvZXNuJ3Qgb3ZlcnRha2UgYSBtaW5pbXVtIHBlcmlvZFxuICAgICAgICB2ZWxvY2l0eSA9IGxhc3QudmVsb2NpdHk7XG4gICAgICAgIHZlbG9jaXR5WCA9IGxhc3QudmVsb2NpdHlYO1xuICAgICAgICB2ZWxvY2l0eVkgPSBsYXN0LnZlbG9jaXR5WTtcbiAgICAgICAgZGlyZWN0aW9uID0gbGFzdC5kaXJlY3Rpb247XG4gICAgfVxuXG4gICAgaW5wdXQudmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICBpbnB1dC52ZWxvY2l0eVggPSB2ZWxvY2l0eVg7XG4gICAgaW5wdXQudmVsb2NpdHlZID0gdmVsb2NpdHlZO1xuICAgIGlucHV0LmRpcmVjdGlvbiA9IGRpcmVjdGlvbjtcbn1cblxuLyoqXG4gKiBjcmVhdGUgYSBzaW1wbGUgY2xvbmUgZnJvbSB0aGUgaW5wdXQgdXNlZCBmb3Igc3RvcmFnZSBvZiBmaXJzdElucHV0IGFuZCBmaXJzdE11bHRpcGxlXG4gKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAqIEByZXR1cm5zIHtPYmplY3R9IGNsb25lZElucHV0RGF0YVxuICovXG5mdW5jdGlvbiBzaW1wbGVDbG9uZUlucHV0RGF0YShpbnB1dCkge1xuICAgIC8vIG1ha2UgYSBzaW1wbGUgY29weSBvZiB0aGUgcG9pbnRlcnMgYmVjYXVzZSB3ZSB3aWxsIGdldCBhIHJlZmVyZW5jZSBpZiB3ZSBkb24ndFxuICAgIC8vIHdlIG9ubHkgbmVlZCBjbGllbnRYWSBmb3IgdGhlIGNhbGN1bGF0aW9uc1xuICAgIHZhciBwb2ludGVycyA9IFtdO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGlucHV0LnBvaW50ZXJzLmxlbmd0aCkge1xuICAgICAgICBwb2ludGVyc1tpXSA9IHtcbiAgICAgICAgICAgIGNsaWVudFg6IHJvdW5kKGlucHV0LnBvaW50ZXJzW2ldLmNsaWVudFgpLFxuICAgICAgICAgICAgY2xpZW50WTogcm91bmQoaW5wdXQucG9pbnRlcnNbaV0uY2xpZW50WSlcbiAgICAgICAgfTtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHRpbWVTdGFtcDogbm93KCksXG4gICAgICAgIHBvaW50ZXJzOiBwb2ludGVycyxcbiAgICAgICAgY2VudGVyOiBnZXRDZW50ZXIocG9pbnRlcnMpLFxuICAgICAgICBkZWx0YVg6IGlucHV0LmRlbHRhWCxcbiAgICAgICAgZGVsdGFZOiBpbnB1dC5kZWx0YVlcbiAgICB9O1xufVxuXG4vKipcbiAqIGdldCB0aGUgY2VudGVyIG9mIGFsbCB0aGUgcG9pbnRlcnNcbiAqIEBwYXJhbSB7QXJyYXl9IHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtPYmplY3R9IGNlbnRlciBjb250YWlucyBgeGAgYW5kIGB5YCBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIGdldENlbnRlcihwb2ludGVycykge1xuICAgIHZhciBwb2ludGVyc0xlbmd0aCA9IHBvaW50ZXJzLmxlbmd0aDtcblxuICAgIC8vIG5vIG5lZWQgdG8gbG9vcCB3aGVuIG9ubHkgb25lIHRvdWNoXG4gICAgaWYgKHBvaW50ZXJzTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiByb3VuZChwb2ludGVyc1swXS5jbGllbnRYKSxcbiAgICAgICAgICAgIHk6IHJvdW5kKHBvaW50ZXJzWzBdLmNsaWVudFkpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIHggPSAwLCB5ID0gMCwgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBwb2ludGVyc0xlbmd0aCkge1xuICAgICAgICB4ICs9IHBvaW50ZXJzW2ldLmNsaWVudFg7XG4gICAgICAgIHkgKz0gcG9pbnRlcnNbaV0uY2xpZW50WTtcbiAgICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHJvdW5kKHggLyBwb2ludGVyc0xlbmd0aCksXG4gICAgICAgIHk6IHJvdW5kKHkgLyBwb2ludGVyc0xlbmd0aClcbiAgICB9O1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgdmVsb2NpdHkgYmV0d2VlbiB0d28gcG9pbnRzLiB1bml0IGlzIGluIHB4IHBlciBtcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBkZWx0YVRpbWVcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XG4gKiBAcGFyYW0ge051bWJlcn0geVxuICogQHJldHVybiB7T2JqZWN0fSB2ZWxvY2l0eSBgeGAgYW5kIGB5YFxuICovXG5mdW5jdGlvbiBnZXRWZWxvY2l0eShkZWx0YVRpbWUsIHgsIHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4IC8gZGVsdGFUaW1lIHx8IDAsXG4gICAgICAgIHk6IHkgLyBkZWx0YVRpbWUgfHwgMFxuICAgIH07XG59XG5cbi8qKlxuICogZ2V0IHRoZSBkaXJlY3Rpb24gYmV0d2VlbiB0d28gcG9pbnRzXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEByZXR1cm4ge051bWJlcn0gZGlyZWN0aW9uXG4gKi9cbmZ1bmN0aW9uIGdldERpcmVjdGlvbih4LCB5KSB7XG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgcmV0dXJuIERJUkVDVElPTl9OT05FO1xuICAgIH1cblxuICAgIGlmIChhYnMoeCkgPj0gYWJzKHkpKSB7XG4gICAgICAgIHJldHVybiB4IDwgMCA/IERJUkVDVElPTl9MRUZUIDogRElSRUNUSU9OX1JJR0hUO1xuICAgIH1cbiAgICByZXR1cm4geSA8IDAgPyBESVJFQ1RJT05fVVAgOiBESVJFQ1RJT05fRE9XTjtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIGFic29sdXRlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50c1xuICogQHBhcmFtIHtPYmplY3R9IHAxIHt4LCB5fVxuICogQHBhcmFtIHtPYmplY3R9IHAyIHt4LCB5fVxuICogQHBhcmFtIHtBcnJheX0gW3Byb3BzXSBjb250YWluaW5nIHggYW5kIHkga2V5c1xuICogQHJldHVybiB7TnVtYmVyfSBkaXN0YW5jZVxuICovXG5mdW5jdGlvbiBnZXREaXN0YW5jZShwMSwgcDIsIHByb3BzKSB7XG4gICAgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IFBST1BTX1hZO1xuICAgIH1cbiAgICB2YXIgeCA9IHAyW3Byb3BzWzBdXSAtIHAxW3Byb3BzWzBdXSxcbiAgICAgICAgeSA9IHAyW3Byb3BzWzFdXSAtIHAxW3Byb3BzWzFdXTtcblxuICAgIHJldHVybiBNYXRoLnNxcnQoKHggKiB4KSArICh5ICogeSkpO1xufVxuXG4vKipcbiAqIGNhbGN1bGF0ZSB0aGUgYW5nbGUgYmV0d2VlbiB0d28gY29vcmRpbmF0ZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBwMVxuICogQHBhcmFtIHtPYmplY3R9IHAyXG4gKiBAcGFyYW0ge0FycmF5fSBbcHJvcHNdIGNvbnRhaW5pbmcgeCBhbmQgeSBrZXlzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IGFuZ2xlXG4gKi9cbmZ1bmN0aW9uIGdldEFuZ2xlKHAxLCBwMiwgcHJvcHMpIHtcbiAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgIHByb3BzID0gUFJPUFNfWFk7XG4gICAgfVxuICAgIHZhciB4ID0gcDJbcHJvcHNbMF1dIC0gcDFbcHJvcHNbMF1dLFxuICAgICAgICB5ID0gcDJbcHJvcHNbMV1dIC0gcDFbcHJvcHNbMV1dO1xuICAgIHJldHVybiBNYXRoLmF0YW4yKHksIHgpICogMTgwIC8gTWF0aC5QSTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHJvdGF0aW9uIGRlZ3JlZXMgYmV0d2VlbiB0d28gcG9pbnRlcnNldHNcbiAqIEBwYXJhbSB7QXJyYXl9IHN0YXJ0IGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcGFyYW0ge0FycmF5fSBlbmQgYXJyYXkgb2YgcG9pbnRlcnNcbiAqIEByZXR1cm4ge051bWJlcn0gcm90YXRpb25cbiAqL1xuZnVuY3Rpb24gZ2V0Um90YXRpb24oc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiBnZXRBbmdsZShlbmRbMV0sIGVuZFswXSwgUFJPUFNfQ0xJRU5UX1hZKSArIGdldEFuZ2xlKHN0YXJ0WzFdLCBzdGFydFswXSwgUFJPUFNfQ0xJRU5UX1hZKTtcbn1cblxuLyoqXG4gKiBjYWxjdWxhdGUgdGhlIHNjYWxlIGZhY3RvciBiZXR3ZWVuIHR3byBwb2ludGVyc2V0c1xuICogbm8gc2NhbGUgaXMgMSwgYW5kIGdvZXMgZG93biB0byAwIHdoZW4gcGluY2hlZCB0b2dldGhlciwgYW5kIGJpZ2dlciB3aGVuIHBpbmNoZWQgb3V0XG4gKiBAcGFyYW0ge0FycmF5fSBzdGFydCBhcnJheSBvZiBwb2ludGVyc1xuICogQHBhcmFtIHtBcnJheX0gZW5kIGFycmF5IG9mIHBvaW50ZXJzXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IHNjYWxlXG4gKi9cbmZ1bmN0aW9uIGdldFNjYWxlKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gZ2V0RGlzdGFuY2UoZW5kWzBdLCBlbmRbMV0sIFBST1BTX0NMSUVOVF9YWSkgLyBnZXREaXN0YW5jZShzdGFydFswXSwgc3RhcnRbMV0sIFBST1BTX0NMSUVOVF9YWSk7XG59XG5cbnZhciBNT1VTRV9JTlBVVF9NQVAgPSB7XG4gICAgbW91c2Vkb3duOiBJTlBVVF9TVEFSVCxcbiAgICBtb3VzZW1vdmU6IElOUFVUX01PVkUsXG4gICAgbW91c2V1cDogSU5QVVRfRU5EXG59O1xuXG52YXIgTU9VU0VfRUxFTUVOVF9FVkVOVFMgPSAnbW91c2Vkb3duJztcbnZhciBNT1VTRV9XSU5ET1dfRVZFTlRTID0gJ21vdXNlbW92ZSBtb3VzZXVwJztcblxuLyoqXG4gKiBNb3VzZSBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gTW91c2VJbnB1dCgpIHtcbiAgICB0aGlzLmV2RWwgPSBNT1VTRV9FTEVNRU5UX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gTU9VU0VfV0lORE9XX0VWRU5UUztcblxuICAgIHRoaXMucHJlc3NlZCA9IGZhbHNlOyAvLyBtb3VzZWRvd24gc3RhdGVcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoTW91c2VJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gTUVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBNT1VTRV9JTlBVVF9NQVBbZXYudHlwZV07XG5cbiAgICAgICAgLy8gb24gc3RhcnQgd2Ugd2FudCB0byBoYXZlIHRoZSBsZWZ0IG1vdXNlIGJ1dHRvbiBkb3duXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiBldi5idXR0b24gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfTU9WRSAmJiBldi53aGljaCAhPT0gMSkge1xuICAgICAgICAgICAgZXZlbnRUeXBlID0gSU5QVVRfRU5EO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbW91c2UgbXVzdCBiZSBkb3duXG4gICAgICAgIGlmICghdGhpcy5wcmVzc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICB0aGlzLnByZXNzZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiBbZXZdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfTU9VU0UsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbnZhciBQT0lOVEVSX0lOUFVUX01BUCA9IHtcbiAgICBwb2ludGVyZG93bjogSU5QVVRfU1RBUlQsXG4gICAgcG9pbnRlcm1vdmU6IElOUFVUX01PVkUsXG4gICAgcG9pbnRlcnVwOiBJTlBVVF9FTkQsXG4gICAgcG9pbnRlcmNhbmNlbDogSU5QVVRfQ0FOQ0VMLFxuICAgIHBvaW50ZXJvdXQ6IElOUFVUX0NBTkNFTFxufTtcblxuLy8gaW4gSUUxMCB0aGUgcG9pbnRlciB0eXBlcyBpcyBkZWZpbmVkIGFzIGFuIGVudW1cbnZhciBJRTEwX1BPSU5URVJfVFlQRV9FTlVNID0ge1xuICAgIDI6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgMzogSU5QVVRfVFlQRV9QRU4sXG4gICAgNDogSU5QVVRfVFlQRV9NT1VTRSxcbiAgICA1OiBJTlBVVF9UWVBFX0tJTkVDVCAvLyBzZWUgaHR0cHM6Ly90d2l0dGVyLmNvbS9qYWNvYnJvc3NpL3N0YXR1cy80ODA1OTY0Mzg0ODk4OTA4MTZcbn07XG5cbnZhciBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ3BvaW50ZXJkb3duJztcbnZhciBQT0lOVEVSX1dJTkRPV19FVkVOVFMgPSAncG9pbnRlcm1vdmUgcG9pbnRlcnVwIHBvaW50ZXJjYW5jZWwnO1xuXG4vLyBJRTEwIGhhcyBwcmVmaXhlZCBzdXBwb3J0LCBhbmQgY2FzZS1zZW5zaXRpdmVcbmlmICh3aW5kb3cuTVNQb2ludGVyRXZlbnQgJiYgIXdpbmRvdy5Qb2ludGVyRXZlbnQpIHtcbiAgICBQT0lOVEVSX0VMRU1FTlRfRVZFTlRTID0gJ01TUG9pbnRlckRvd24nO1xuICAgIFBPSU5URVJfV0lORE9XX0VWRU5UUyA9ICdNU1BvaW50ZXJNb3ZlIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCc7XG59XG5cbi8qKlxuICogUG9pbnRlciBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gUG9pbnRlckV2ZW50SW5wdXQoKSB7XG4gICAgdGhpcy5ldkVsID0gUE9JTlRFUl9FTEVNRU5UX0VWRU5UUztcbiAgICB0aGlzLmV2V2luID0gUE9JTlRFUl9XSU5ET1dfRVZFTlRTO1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHRoaXMuc3RvcmUgPSAodGhpcy5tYW5hZ2VyLnNlc3Npb24ucG9pbnRlckV2ZW50cyA9IFtdKTtcbn1cblxuaW5oZXJpdChQb2ludGVyRXZlbnRJbnB1dCwgSW5wdXQsIHtcbiAgICAvKipcbiAgICAgKiBoYW5kbGUgbW91c2UgZXZlbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2XG4gICAgICovXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gUEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciBzdG9yZSA9IHRoaXMuc3RvcmU7XG4gICAgICAgIHZhciByZW1vdmVQb2ludGVyID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIGV2ZW50VHlwZU5vcm1hbGl6ZWQgPSBldi50eXBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnbXMnLCAnJyk7XG4gICAgICAgIHZhciBldmVudFR5cGUgPSBQT0lOVEVSX0lOUFVUX01BUFtldmVudFR5cGVOb3JtYWxpemVkXTtcbiAgICAgICAgdmFyIHBvaW50ZXJUeXBlID0gSUUxMF9QT0lOVEVSX1RZUEVfRU5VTVtldi5wb2ludGVyVHlwZV0gfHwgZXYucG9pbnRlclR5cGU7XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSAocG9pbnRlclR5cGUgPT0gSU5QVVRfVFlQRV9UT1VDSCk7XG5cbiAgICAgICAgLy8gZ2V0IGluZGV4IG9mIHRoZSBldmVudCBpbiB0aGUgc3RvcmVcbiAgICAgICAgdmFyIHN0b3JlSW5kZXggPSBpbkFycmF5KHN0b3JlLCBldi5wb2ludGVySWQsICdwb2ludGVySWQnKTtcblxuICAgICAgICAvLyBzdGFydCBhbmQgbW91c2UgbXVzdCBiZSBkb3duXG4gICAgICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCAmJiAoZXYuYnV0dG9uID09PSAwIHx8IGlzVG91Y2gpKSB7XG4gICAgICAgICAgICBpZiAoc3RvcmVJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICBzdG9yZS5wdXNoKGV2KTtcbiAgICAgICAgICAgICAgICBzdG9yZUluZGV4ID0gc3RvcmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChldmVudFR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSkge1xuICAgICAgICAgICAgcmVtb3ZlUG9pbnRlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpdCBub3QgZm91bmQsIHNvIHRoZSBwb2ludGVyIGhhc24ndCBiZWVuIGRvd24gKHNvIGl0J3MgcHJvYmFibHkgYSBob3ZlcilcbiAgICAgICAgaWYgKHN0b3JlSW5kZXggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdGhlIGV2ZW50IGluIHRoZSBzdG9yZVxuICAgICAgICBzdG9yZVtzdG9yZUluZGV4XSA9IGV2O1xuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCBldmVudFR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiBzdG9yZSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogW2V2XSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBwb2ludGVyVHlwZSxcbiAgICAgICAgICAgIHNyY0V2ZW50OiBldlxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmVtb3ZlUG9pbnRlcikge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gdGhlIHN0b3JlXG4gICAgICAgICAgICBzdG9yZS5zcGxpY2Uoc3RvcmVJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxudmFyIFNJTkdMRV9UT1VDSF9JTlBVVF9NQVAgPSB7XG4gICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG4gICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG4gICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxufTtcblxudmFyIFNJTkdMRV9UT1VDSF9UQVJHRVRfRVZFTlRTID0gJ3RvdWNoc3RhcnQnO1xudmFyIFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTID0gJ3RvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIHRvdWNoY2FuY2VsJztcblxuLyoqXG4gKiBUb3VjaCBldmVudHMgaW5wdXRcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuZnVuY3Rpb24gU2luZ2xlVG91Y2hJbnB1dCgpIHtcbiAgICB0aGlzLmV2VGFyZ2V0ID0gU0lOR0xFX1RPVUNIX1RBUkdFVF9FVkVOVFM7XG4gICAgdGhpcy5ldldpbiA9IFNJTkdMRV9UT1VDSF9XSU5ET1dfRVZFTlRTO1xuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgSW5wdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChTaW5nbGVUb3VjaElucHV0LCBJbnB1dCwge1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRFaGFuZGxlcihldikge1xuICAgICAgICB2YXIgdHlwZSA9IFNJTkdMRV9UT1VDSF9JTlBVVF9NQVBbZXYudHlwZV07XG5cbiAgICAgICAgLy8gc2hvdWxkIHdlIGhhbmRsZSB0aGUgdG91Y2ggZXZlbnRzP1xuICAgICAgICBpZiAodHlwZSA9PT0gSU5QVVRfU1RBUlQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvdWNoZXMgPSBub3JtYWxpemVTaW5nbGVUb3VjaGVzLmNhbGwodGhpcywgZXYsIHR5cGUpO1xuXG4gICAgICAgIC8vIHdoZW4gZG9uZSwgcmVzZXQgdGhlIHN0YXJ0ZWQgc3RhdGVcbiAgICAgICAgaWYgKHR5cGUgJiAoSU5QVVRfRU5EIHwgSU5QVVRfQ0FOQ0VMKSAmJiB0b3VjaGVzWzBdLmxlbmd0aCAtIHRvdWNoZXNbMV0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5tYW5hZ2VyLCB0eXBlLCB7XG4gICAgICAgICAgICBwb2ludGVyczogdG91Y2hlc1swXSxcbiAgICAgICAgICAgIGNoYW5nZWRQb2ludGVyczogdG91Y2hlc1sxXSxcbiAgICAgICAgICAgIHBvaW50ZXJUeXBlOiBJTlBVVF9UWVBFX1RPVUNILFxuICAgICAgICAgICAgc3JjRXZlbnQ6IGV2XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEB0aGlzIHtUb3VjaElucHV0fVxuICogQHBhcmFtIHtPYmplY3R9IGV2XG4gKiBAcGFyYW0ge051bWJlcn0gdHlwZSBmbGFnXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfEFycmF5fSBbYWxsLCBjaGFuZ2VkXVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVTaW5nbGVUb3VjaGVzKGV2LCB0eXBlKSB7XG4gICAgdmFyIGFsbCA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIGNoYW5nZWQgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKTtcblxuICAgIGlmICh0eXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkpIHtcbiAgICAgICAgYWxsID0gdW5pcXVlQXJyYXkoYWxsLmNvbmNhdChjaGFuZ2VkKSwgJ2lkZW50aWZpZXInLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW2FsbCwgY2hhbmdlZF07XG59XG5cbnZhciBUT1VDSF9JTlBVVF9NQVAgPSB7XG4gICAgdG91Y2hzdGFydDogSU5QVVRfU1RBUlQsXG4gICAgdG91Y2htb3ZlOiBJTlBVVF9NT1ZFLFxuICAgIHRvdWNoZW5kOiBJTlBVVF9FTkQsXG4gICAgdG91Y2hjYW5jZWw6IElOUFVUX0NBTkNFTFxufTtcblxudmFyIFRPVUNIX1RBUkdFVF9FVkVOVFMgPSAndG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgdG91Y2hjYW5jZWwnO1xuXG4vKipcbiAqIE11bHRpLXVzZXIgdG91Y2ggZXZlbnRzIGlucHV0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIElucHV0XG4gKi9cbmZ1bmN0aW9uIFRvdWNoSW5wdXQoKSB7XG4gICAgdGhpcy5ldlRhcmdldCA9IFRPVUNIX1RBUkdFVF9FVkVOVFM7XG4gICAgdGhpcy50YXJnZXRJZHMgPSB7fTtcblxuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoVG91Y2hJbnB1dCwgSW5wdXQsIHtcbiAgICBoYW5kbGVyOiBmdW5jdGlvbiBNVEVoYW5kbGVyKGV2KSB7XG4gICAgICAgIHZhciB0eXBlID0gVE9VQ0hfSU5QVVRfTUFQW2V2LnR5cGVdO1xuICAgICAgICB2YXIgdG91Y2hlcyA9IGdldFRvdWNoZXMuY2FsbCh0aGlzLCBldiwgdHlwZSk7XG4gICAgICAgIGlmICghdG91Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLm1hbmFnZXIsIHR5cGUsIHtcbiAgICAgICAgICAgIHBvaW50ZXJzOiB0b3VjaGVzWzBdLFxuICAgICAgICAgICAgY2hhbmdlZFBvaW50ZXJzOiB0b3VjaGVzWzFdLFxuICAgICAgICAgICAgcG9pbnRlclR5cGU6IElOUFVUX1RZUEVfVE9VQ0gsXG4gICAgICAgICAgICBzcmNFdmVudDogZXZcbiAgICAgICAgfSk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQHRoaXMge1RvdWNoSW5wdXR9XG4gKiBAcGFyYW0ge09iamVjdH0gZXZcbiAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIGZsYWdcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR8QXJyYXl9IFthbGwsIGNoYW5nZWRdXG4gKi9cbmZ1bmN0aW9uIGdldFRvdWNoZXMoZXYsIHR5cGUpIHtcbiAgICB2YXIgYWxsVG91Y2hlcyA9IHRvQXJyYXkoZXYudG91Y2hlcyk7XG4gICAgdmFyIHRhcmdldElkcyA9IHRoaXMudGFyZ2V0SWRzO1xuXG4gICAgLy8gd2hlbiB0aGVyZSBpcyBvbmx5IG9uZSB0b3VjaCwgdGhlIHByb2Nlc3MgY2FuIGJlIHNpbXBsaWZpZWRcbiAgICBpZiAodHlwZSAmIChJTlBVVF9TVEFSVCB8IElOUFVUX01PVkUpICYmIGFsbFRvdWNoZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRhcmdldElkc1thbGxUb3VjaGVzWzBdLmlkZW50aWZpZXJdID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIFthbGxUb3VjaGVzLCBhbGxUb3VjaGVzXTtcbiAgICB9XG5cbiAgICB2YXIgaSxcbiAgICAgICAgdGFyZ2V0VG91Y2hlcyxcbiAgICAgICAgY2hhbmdlZFRvdWNoZXMgPSB0b0FycmF5KGV2LmNoYW5nZWRUb3VjaGVzKSxcbiAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMgPSBbXSxcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy50YXJnZXQ7XG5cbiAgICAvLyBnZXQgdGFyZ2V0IHRvdWNoZXMgZnJvbSB0b3VjaGVzXG4gICAgdGFyZ2V0VG91Y2hlcyA9IGFsbFRvdWNoZXMuZmlsdGVyKGZ1bmN0aW9uKHRvdWNoKSB7XG4gICAgICAgIHJldHVybiBoYXNQYXJlbnQodG91Y2gudGFyZ2V0LCB0YXJnZXQpO1xuICAgIH0pO1xuXG4gICAgLy8gY29sbGVjdCB0b3VjaGVzXG4gICAgaWYgKHR5cGUgPT09IElOUFVUX1NUQVJUKSB7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRhcmdldFRvdWNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0YXJnZXRJZHNbdGFyZ2V0VG91Y2hlc1tpXS5pZGVudGlmaWVyXSA9IHRydWU7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmaWx0ZXIgY2hhbmdlZCB0b3VjaGVzIHRvIG9ubHkgY29udGFpbiB0b3VjaGVzIHRoYXQgZXhpc3QgaW4gdGhlIGNvbGxlY3RlZCB0YXJnZXQgaWRzXG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBjaGFuZ2VkVG91Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRhcmdldElkc1tjaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyXSkge1xuICAgICAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXMucHVzaChjaGFuZ2VkVG91Y2hlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhbnVwIHJlbW92ZWQgdG91Y2hlc1xuICAgICAgICBpZiAodHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgICAgICBkZWxldGUgdGFyZ2V0SWRzW2NoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXJdO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG5cbiAgICBpZiAoIWNoYW5nZWRUYXJnZXRUb3VjaGVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIFtcbiAgICAgICAgLy8gbWVyZ2UgdGFyZ2V0VG91Y2hlcyB3aXRoIGNoYW5nZWRUYXJnZXRUb3VjaGVzIHNvIGl0IGNvbnRhaW5zIEFMTCB0b3VjaGVzLCBpbmNsdWRpbmcgJ2VuZCcgYW5kICdjYW5jZWwnXG4gICAgICAgIHVuaXF1ZUFycmF5KHRhcmdldFRvdWNoZXMuY29uY2F0KGNoYW5nZWRUYXJnZXRUb3VjaGVzKSwgJ2lkZW50aWZpZXInLCB0cnVlKSxcbiAgICAgICAgY2hhbmdlZFRhcmdldFRvdWNoZXNcbiAgICBdO1xufVxuXG4vKipcbiAqIENvbWJpbmVkIHRvdWNoIGFuZCBtb3VzZSBpbnB1dFxuICpcbiAqIFRvdWNoIGhhcyBhIGhpZ2hlciBwcmlvcml0eSB0aGVuIG1vdXNlLCBhbmQgd2hpbGUgdG91Y2hpbmcgbm8gbW91c2UgZXZlbnRzIGFyZSBhbGxvd2VkLlxuICogVGhpcyBiZWNhdXNlIHRvdWNoIGRldmljZXMgYWxzbyBlbWl0IG1vdXNlIGV2ZW50cyB3aGlsZSBkb2luZyBhIHRvdWNoLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgSW5wdXRcbiAqL1xuXG52YXIgREVEVVBfVElNRU9VVCA9IDI1MDA7XG52YXIgREVEVVBfRElTVEFOQ0UgPSAyNTtcblxuZnVuY3Rpb24gVG91Y2hNb3VzZUlucHV0KCkge1xuICAgIElucHV0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB2YXIgaGFuZGxlciA9IGJpbmRGbih0aGlzLmhhbmRsZXIsIHRoaXMpO1xuICAgIHRoaXMudG91Y2ggPSBuZXcgVG91Y2hJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuICAgIHRoaXMubW91c2UgPSBuZXcgTW91c2VJbnB1dCh0aGlzLm1hbmFnZXIsIGhhbmRsZXIpO1xuXG4gICAgdGhpcy5wcmltYXJ5VG91Y2ggPSBudWxsO1xuICAgIHRoaXMubGFzdFRvdWNoZXMgPSBbXTtcbn1cblxuaW5oZXJpdChUb3VjaE1vdXNlSW5wdXQsIElucHV0LCB7XG4gICAgLyoqXG4gICAgICogaGFuZGxlIG1vdXNlIGFuZCB0b3VjaCBldmVudHNcbiAgICAgKiBAcGFyYW0ge0hhbW1lcn0gbWFuYWdlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dEV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0RGF0YVxuICAgICAqL1xuICAgIGhhbmRsZXI6IGZ1bmN0aW9uIFRNRWhhbmRsZXIobWFuYWdlciwgaW5wdXRFdmVudCwgaW5wdXREYXRhKSB7XG4gICAgICAgIHZhciBpc1RvdWNoID0gKGlucHV0RGF0YS5wb2ludGVyVHlwZSA9PSBJTlBVVF9UWVBFX1RPVUNIKSxcbiAgICAgICAgICAgIGlzTW91c2UgPSAoaW5wdXREYXRhLnBvaW50ZXJUeXBlID09IElOUFVUX1RZUEVfTU9VU0UpO1xuXG4gICAgICAgIGlmIChpc01vdXNlICYmIGlucHV0RGF0YS5zb3VyY2VDYXBhYmlsaXRpZXMgJiYgaW5wdXREYXRhLnNvdXJjZUNhcGFiaWxpdGllcy5maXJlc1RvdWNoRXZlbnRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aGVuIHdlJ3JlIGluIGEgdG91Y2ggZXZlbnQsIHJlY29yZCB0b3VjaGVzIHRvICBkZS1kdXBlIHN5bnRoZXRpYyBtb3VzZSBldmVudFxuICAgICAgICBpZiAoaXNUb3VjaCkge1xuICAgICAgICAgICAgcmVjb3JkVG91Y2hlcy5jYWxsKHRoaXMsIGlucHV0RXZlbnQsIGlucHV0RGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb3VzZSAmJiBpc1N5bnRoZXRpY0V2ZW50LmNhbGwodGhpcywgaW5wdXREYXRhKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsYmFjayhtYW5hZ2VyLCBpbnB1dEV2ZW50LCBpbnB1dERhdGEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudG91Y2guZGVzdHJveSgpO1xuICAgICAgICB0aGlzLm1vdXNlLmRlc3Ryb3koKTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gcmVjb3JkVG91Y2hlcyhldmVudFR5cGUsIGV2ZW50RGF0YSkge1xuICAgIGlmIChldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuICAgICAgICB0aGlzLnByaW1hcnlUb3VjaCA9IGV2ZW50RGF0YS5jaGFuZ2VkUG9pbnRlcnNbMF0uaWRlbnRpZmllcjtcbiAgICAgICAgc2V0TGFzdFRvdWNoLmNhbGwodGhpcywgZXZlbnREYXRhKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50VHlwZSAmIChJTlBVVF9FTkQgfCBJTlBVVF9DQU5DRUwpKSB7XG4gICAgICAgIHNldExhc3RUb3VjaC5jYWxsKHRoaXMsIGV2ZW50RGF0YSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRMYXN0VG91Y2goZXZlbnREYXRhKSB7XG4gICAgdmFyIHRvdWNoID0gZXZlbnREYXRhLmNoYW5nZWRQb2ludGVyc1swXTtcblxuICAgIGlmICh0b3VjaC5pZGVudGlmaWVyID09PSB0aGlzLnByaW1hcnlUb3VjaCkge1xuICAgICAgICB2YXIgbGFzdFRvdWNoID0ge3g6IHRvdWNoLmNsaWVudFgsIHk6IHRvdWNoLmNsaWVudFl9O1xuICAgICAgICB0aGlzLmxhc3RUb3VjaGVzLnB1c2gobGFzdFRvdWNoKTtcbiAgICAgICAgdmFyIGx0cyA9IHRoaXMubGFzdFRvdWNoZXM7XG4gICAgICAgIHZhciByZW1vdmVMYXN0VG91Y2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpID0gbHRzLmluZGV4T2YobGFzdFRvdWNoKTtcbiAgICAgICAgICAgIGlmIChpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBsdHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXRUaW1lb3V0KHJlbW92ZUxhc3RUb3VjaCwgREVEVVBfVElNRU9VVCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpc1N5bnRoZXRpY0V2ZW50KGV2ZW50RGF0YSkge1xuICAgIHZhciB4ID0gZXZlbnREYXRhLnNyY0V2ZW50LmNsaWVudFgsIHkgPSBldmVudERhdGEuc3JjRXZlbnQuY2xpZW50WTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGFzdFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHQgPSB0aGlzLmxhc3RUb3VjaGVzW2ldO1xuICAgICAgICB2YXIgZHggPSBNYXRoLmFicyh4IC0gdC54KSwgZHkgPSBNYXRoLmFicyh5IC0gdC55KTtcbiAgICAgICAgaWYgKGR4IDw9IERFRFVQX0RJU1RBTkNFICYmIGR5IDw9IERFRFVQX0RJU1RBTkNFKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gPSBwcmVmaXhlZChURVNUX0VMRU1FTlQuc3R5bGUsICd0b3VjaEFjdGlvbicpO1xudmFyIE5BVElWRV9UT1VDSF9BQ1RJT04gPSBQUkVGSVhFRF9UT1VDSF9BQ1RJT04gIT09IHVuZGVmaW5lZDtcblxuLy8gbWFnaWNhbCB0b3VjaEFjdGlvbiB2YWx1ZVxudmFyIFRPVUNIX0FDVElPTl9DT01QVVRFID0gJ2NvbXB1dGUnO1xudmFyIFRPVUNIX0FDVElPTl9BVVRPID0gJ2F1dG8nO1xudmFyIFRPVUNIX0FDVElPTl9NQU5JUFVMQVRJT04gPSAnbWFuaXB1bGF0aW9uJzsgLy8gbm90IGltcGxlbWVudGVkXG52YXIgVE9VQ0hfQUNUSU9OX05PTkUgPSAnbm9uZSc7XG52YXIgVE9VQ0hfQUNUSU9OX1BBTl9YID0gJ3Bhbi14JztcbnZhciBUT1VDSF9BQ1RJT05fUEFOX1kgPSAncGFuLXknO1xudmFyIFRPVUNIX0FDVElPTl9NQVAgPSBnZXRUb3VjaEFjdGlvblByb3BzKCk7XG5cbi8qKlxuICogVG91Y2ggQWN0aW9uXG4gKiBzZXRzIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eSBvciB1c2VzIHRoZSBqcyBhbHRlcm5hdGl2ZVxuICogQHBhcmFtIHtNYW5hZ2VyfSBtYW5hZ2VyXG4gKiBAcGFyYW0ge1N0cmluZ30gdmFsdWVcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBUb3VjaEFjdGlvbihtYW5hZ2VyLCB2YWx1ZSkge1xuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XG4gICAgdGhpcy5zZXQodmFsdWUpO1xufVxuXG5Ub3VjaEFjdGlvbi5wcm90b3R5cGUgPSB7XG4gICAgLyoqXG4gICAgICogc2V0IHRoZSB0b3VjaEFjdGlvbiB2YWx1ZSBvbiB0aGUgZWxlbWVudCBvciBlbmFibGUgdGhlIHBvbHlmaWxsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlXG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBmaW5kIG91dCB0aGUgdG91Y2gtYWN0aW9uIGJ5IHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAgICBpZiAodmFsdWUgPT0gVE9VQ0hfQUNUSU9OX0NPTVBVVEUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5jb21wdXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTkFUSVZFX1RPVUNIX0FDVElPTiAmJiB0aGlzLm1hbmFnZXIuZWxlbWVudC5zdHlsZSAmJiBUT1VDSF9BQ1RJT05fTUFQW3ZhbHVlXSkge1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVsZW1lbnQuc3R5bGVbUFJFRklYRURfVE9VQ0hfQUNUSU9OXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IHZhbHVlLnRvTG93ZXJDYXNlKCkudHJpbSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBqdXN0IHJlLXNldCB0aGUgdG91Y2hBY3Rpb24gdmFsdWVcbiAgICAgKi9cbiAgICB1cGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldCh0aGlzLm1hbmFnZXIub3B0aW9ucy50b3VjaEFjdGlvbik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNvbXB1dGUgdGhlIHZhbHVlIGZvciB0aGUgdG91Y2hBY3Rpb24gcHJvcGVydHkgYmFzZWQgb24gdGhlIHJlY29nbml6ZXIncyBzZXR0aW5nc1xuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHZhbHVlXG4gICAgICovXG4gICAgY29tcHV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gW107XG4gICAgICAgIGVhY2godGhpcy5tYW5hZ2VyLnJlY29nbml6ZXJzLCBmdW5jdGlvbihyZWNvZ25pemVyKSB7XG4gICAgICAgICAgICBpZiAoYm9vbE9yRm4ocmVjb2duaXplci5vcHRpb25zLmVuYWJsZSwgW3JlY29nbml6ZXJdKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zLmNvbmNhdChyZWNvZ25pemVyLmdldFRvdWNoQWN0aW9uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMuam9pbignICcpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogdGhpcyBtZXRob2QgaXMgY2FsbGVkIG9uIGVhY2ggaW5wdXQgY3ljbGUgYW5kIHByb3ZpZGVzIHRoZSBwcmV2ZW50aW5nIG9mIHRoZSBicm93c2VyIGJlaGF2aW9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgcHJldmVudERlZmF1bHRzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc3JjRXZlbnQgPSBpbnB1dC5zcmNFdmVudDtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGlucHV0Lm9mZnNldERpcmVjdGlvbjtcblxuICAgICAgICAvLyBpZiB0aGUgdG91Y2ggYWN0aW9uIGRpZCBwcmV2ZW50ZWQgb25jZSB0aGlzIHNlc3Npb25cbiAgICAgICAgaWYgKHRoaXMubWFuYWdlci5zZXNzaW9uLnByZXZlbnRlZCkge1xuICAgICAgICAgICAgc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICB2YXIgaGFzTm9uZSA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fTk9ORV07XG4gICAgICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKSAmJiAhVE9VQ0hfQUNUSU9OX01BUFtUT1VDSF9BQ1RJT05fUEFOX1ldO1xuICAgICAgICB2YXIgaGFzUGFuWCA9IGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9QQU5fWCkgJiYgIVRPVUNIX0FDVElPTl9NQVBbVE9VQ0hfQUNUSU9OX1BBTl9YXTtcblxuICAgICAgICBpZiAoaGFzTm9uZSkge1xuICAgICAgICAgICAgLy9kbyBub3QgcHJldmVudCBkZWZhdWx0cyBpZiB0aGlzIGlzIGEgdGFwIGdlc3R1cmVcblxuICAgICAgICAgICAgdmFyIGlzVGFwUG9pbnRlciA9IGlucHV0LnBvaW50ZXJzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICAgIHZhciBpc1RhcE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCAyO1xuICAgICAgICAgICAgdmFyIGlzVGFwVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgMjUwO1xuXG4gICAgICAgICAgICBpZiAoaXNUYXBQb2ludGVyICYmIGlzVGFwTW92ZW1lbnQgJiYgaXNUYXBUb3VjaFRpbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzUGFuWCAmJiBoYXNQYW5ZKSB7XG4gICAgICAgICAgICAvLyBgcGFuLXggcGFuLXlgIG1lYW5zIGJyb3dzZXIgaGFuZGxlcyBhbGwgc2Nyb2xsaW5nL3Bhbm5pbmcsIGRvIG5vdCBwcmV2ZW50XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzTm9uZSB8fFxuICAgICAgICAgICAgKGhhc1BhblkgJiYgZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHx8XG4gICAgICAgICAgICAoaGFzUGFuWCAmJiBkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcmV2ZW50U3JjKHNyY0V2ZW50KTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxsIHByZXZlbnREZWZhdWx0IHRvIHByZXZlbnQgdGhlIGJyb3dzZXIncyBkZWZhdWx0IGJlaGF2aW9yIChzY3JvbGxpbmcgaW4gbW9zdCBjYXNlcylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3JjRXZlbnRcbiAgICAgKi9cbiAgICBwcmV2ZW50U3JjOiBmdW5jdGlvbihzcmNFdmVudCkge1xuICAgICAgICB0aGlzLm1hbmFnZXIuc2Vzc2lvbi5wcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICBzcmNFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogd2hlbiB0aGUgdG91Y2hBY3Rpb25zIGFyZSBjb2xsZWN0ZWQgdGhleSBhcmUgbm90IGEgdmFsaWQgdmFsdWUsIHNvIHdlIG5lZWQgdG8gY2xlYW4gdGhpbmdzIHVwLiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYWN0aW9uc1xuICogQHJldHVybnMgeyp9XG4gKi9cbmZ1bmN0aW9uIGNsZWFuVG91Y2hBY3Rpb25zKGFjdGlvbnMpIHtcbiAgICAvLyBub25lXG4gICAgaWYgKGluU3RyKGFjdGlvbnMsIFRPVUNIX0FDVElPTl9OT05FKSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgdmFyIGhhc1BhblggPSBpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fUEFOX1gpO1xuICAgIHZhciBoYXNQYW5ZID0gaW5TdHIoYWN0aW9ucywgVE9VQ0hfQUNUSU9OX1BBTl9ZKTtcblxuICAgIC8vIGlmIGJvdGggcGFuLXggYW5kIHBhbi15IGFyZSBzZXQgKGRpZmZlcmVudCByZWNvZ25pemVyc1xuICAgIC8vIGZvciBkaWZmZXJlbnQgZGlyZWN0aW9ucywgZS5nLiBob3Jpem9udGFsIHBhbiBidXQgdmVydGljYWwgc3dpcGU/KVxuICAgIC8vIHdlIG5lZWQgbm9uZSAoYXMgb3RoZXJ3aXNlIHdpdGggcGFuLXggcGFuLXkgY29tYmluZWQgbm9uZSBvZiB0aGVzZVxuICAgIC8vIHJlY29nbml6ZXJzIHdpbGwgd29yaywgc2luY2UgdGhlIGJyb3dzZXIgd291bGQgaGFuZGxlIGFsbCBwYW5uaW5nXG4gICAgaWYgKGhhc1BhblggJiYgaGFzUGFuWSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX05PTkU7XG4gICAgfVxuXG4gICAgLy8gcGFuLXggT1IgcGFuLXlcbiAgICBpZiAoaGFzUGFuWCB8fCBoYXNQYW5ZKSB7XG4gICAgICAgIHJldHVybiBoYXNQYW5YID8gVE9VQ0hfQUNUSU9OX1BBTl9YIDogVE9VQ0hfQUNUSU9OX1BBTl9ZO1xuICAgIH1cblxuICAgIC8vIG1hbmlwdWxhdGlvblxuICAgIGlmIChpblN0cihhY3Rpb25zLCBUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OKSkge1xuICAgICAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX01BTklQVUxBVElPTjtcbiAgICB9XG5cbiAgICByZXR1cm4gVE9VQ0hfQUNUSU9OX0FVVE87XG59XG5cbmZ1bmN0aW9uIGdldFRvdWNoQWN0aW9uUHJvcHMoKSB7XG4gICAgaWYgKCFOQVRJVkVfVE9VQ0hfQUNUSU9OKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIHRvdWNoTWFwID0ge307XG4gICAgdmFyIGNzc1N1cHBvcnRzID0gd2luZG93LkNTUyAmJiB3aW5kb3cuQ1NTLnN1cHBvcnRzO1xuICAgIFsnYXV0bycsICdtYW5pcHVsYXRpb24nLCAncGFuLXknLCAncGFuLXgnLCAncGFuLXggcGFuLXknLCAnbm9uZSddLmZvckVhY2goZnVuY3Rpb24odmFsKSB7XG5cbiAgICAgICAgLy8gSWYgY3NzLnN1cHBvcnRzIGlzIG5vdCBzdXBwb3J0ZWQgYnV0IHRoZXJlIGlzIG5hdGl2ZSB0b3VjaC1hY3Rpb24gYXNzdW1lIGl0IHN1cHBvcnRzXG4gICAgICAgIC8vIGFsbCB2YWx1ZXMuIFRoaXMgaXMgdGhlIGNhc2UgZm9yIElFIDEwIGFuZCAxMS5cbiAgICAgICAgdG91Y2hNYXBbdmFsXSA9IGNzc1N1cHBvcnRzID8gd2luZG93LkNTUy5zdXBwb3J0cygndG91Y2gtYWN0aW9uJywgdmFsKSA6IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvdWNoTWFwO1xufVxuXG4vKipcbiAqIFJlY29nbml6ZXIgZmxvdyBleHBsYWluZWQ7ICpcbiAqIEFsbCByZWNvZ25pemVycyBoYXZlIHRoZSBpbml0aWFsIHN0YXRlIG9mIFBPU1NJQkxFIHdoZW4gYSBpbnB1dCBzZXNzaW9uIHN0YXJ0cy5cbiAqIFRoZSBkZWZpbml0aW9uIG9mIGEgaW5wdXQgc2Vzc2lvbiBpcyBmcm9tIHRoZSBmaXJzdCBpbnB1dCB1bnRpbCB0aGUgbGFzdCBpbnB1dCwgd2l0aCBhbGwgaXQncyBtb3ZlbWVudCBpbiBpdC4gKlxuICogRXhhbXBsZSBzZXNzaW9uIGZvciBtb3VzZS1pbnB1dDogbW91c2Vkb3duIC0+IG1vdXNlbW92ZSAtPiBtb3VzZXVwXG4gKlxuICogT24gZWFjaCByZWNvZ25pemluZyBjeWNsZSAoc2VlIE1hbmFnZXIucmVjb2duaXplKSB0aGUgLnJlY29nbml6ZSgpIG1ldGhvZCBpcyBleGVjdXRlZFxuICogd2hpY2ggZGV0ZXJtaW5lcyB3aXRoIHN0YXRlIGl0IHNob3VsZCBiZS5cbiAqXG4gKiBJZiB0aGUgcmVjb2duaXplciBoYXMgdGhlIHN0YXRlIEZBSUxFRCwgQ0FOQ0VMTEVEIG9yIFJFQ09HTklaRUQgKGVxdWFscyBFTkRFRCksIGl0IGlzIHJlc2V0IHRvXG4gKiBQT1NTSUJMRSB0byBnaXZlIGl0IGFub3RoZXIgY2hhbmdlIG9uIHRoZSBuZXh0IGN5Y2xlLlxuICpcbiAqICAgICAgICAgICAgICAgUG9zc2libGVcbiAqICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICArLS0tLS0rLS0tLS0tLS0tLS0tLS0tK1xuICogICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICArLS0tLS0rLS0tLS0rICAgICAgICAgICAgICAgfFxuICogICAgICB8ICAgICAgICAgICB8ICAgICAgICAgICAgICAgfFxuICogICBGYWlsZWQgICAgICBDYW5jZWxsZWQgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tKy0tLS0tLStcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICBSZWNvZ25pemVkICAgICAgIEJlZ2FuXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYW5nZWRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbmRlZC9SZWNvZ25pemVkXG4gKi9cbnZhciBTVEFURV9QT1NTSUJMRSA9IDE7XG52YXIgU1RBVEVfQkVHQU4gPSAyO1xudmFyIFNUQVRFX0NIQU5HRUQgPSA0O1xudmFyIFNUQVRFX0VOREVEID0gODtcbnZhciBTVEFURV9SRUNPR05JWkVEID0gU1RBVEVfRU5ERUQ7XG52YXIgU1RBVEVfQ0FOQ0VMTEVEID0gMTY7XG52YXIgU1RBVEVfRkFJTEVEID0gMzI7XG5cbi8qKlxuICogUmVjb2duaXplclxuICogRXZlcnkgcmVjb2duaXplciBuZWVkcyB0byBleHRlbmQgZnJvbSB0aGlzIGNsYXNzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICovXG5mdW5jdGlvbiBSZWNvZ25pemVyKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBhc3NpZ24oe30sIHRoaXMuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXG4gICAgdGhpcy5pZCA9IHVuaXF1ZUlkKCk7XG5cbiAgICB0aGlzLm1hbmFnZXIgPSBudWxsO1xuXG4gICAgLy8gZGVmYXVsdCBpcyBlbmFibGUgdHJ1ZVxuICAgIHRoaXMub3B0aW9ucy5lbmFibGUgPSBpZlVuZGVmaW5lZCh0aGlzLm9wdGlvbnMuZW5hYmxlLCB0cnVlKTtcblxuICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcblxuICAgIHRoaXMuc2ltdWx0YW5lb3VzID0ge307XG4gICAgdGhpcy5yZXF1aXJlRmFpbCA9IFtdO1xufVxuXG5SZWNvZ25pemVyLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBAdmlydHVhbFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgZGVmYXVsdHM6IHt9LFxuXG4gICAgLyoqXG4gICAgICogc2V0IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge1JlY29nbml6ZXJ9XG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGFsc28gdXBkYXRlIHRoZSB0b3VjaEFjdGlvbiwgaW4gY2FzZSBzb21ldGhpbmcgY2hhbmdlZCBhYm91dCB0aGUgZGlyZWN0aW9ucy9lbmFibGVkIHN0YXRlXG4gICAgICAgIHRoaXMubWFuYWdlciAmJiB0aGlzLm1hbmFnZXIudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplci5cbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgcmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdyZWNvZ25pemVXaXRoJywgdGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNpbXVsdGFuZW91cyA9IHRoaXMuc2ltdWx0YW5lb3VzO1xuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGlmICghc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF0pIHtcbiAgICAgICAgICAgIHNpbXVsdGFuZW91c1tvdGhlclJlY29nbml6ZXIuaWRdID0gb3RoZXJSZWNvZ25pemVyO1xuICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlY29nbml6ZVdpdGgodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRyb3AgdGhlIHNpbXVsdGFuZW91cyBsaW5rLiBpdCBkb2VzbnQgcmVtb3ZlIHRoZSBsaW5rIG9uIHRoZSBvdGhlciByZWNvZ25pemVyLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge1JlY29nbml6ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBkcm9wUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVjb2duaXplV2l0aCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIG90aGVyUmVjb2duaXplciA9IGdldFJlY29nbml6ZXJCeU5hbWVJZk1hbmFnZXIob3RoZXJSZWNvZ25pemVyLCB0aGlzKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZWNvZ25pemVyIGNhbiBvbmx5IHJ1biB3aGVuIGFuIG90aGVyIGlzIGZhaWxpbmdcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IG90aGVyUmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtSZWNvZ25pemVyfSB0aGlzXG4gICAgICovXG4gICAgcmVxdWlyZUZhaWx1cmU6IGZ1bmN0aW9uKG90aGVyUmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcob3RoZXJSZWNvZ25pemVyLCAncmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVxdWlyZUZhaWwgPSB0aGlzLnJlcXVpcmVGYWlsO1xuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIGlmIChpbkFycmF5KHJlcXVpcmVGYWlsLCBvdGhlclJlY29nbml6ZXIpID09PSAtMSkge1xuICAgICAgICAgICAgcmVxdWlyZUZhaWwucHVzaChvdGhlclJlY29nbml6ZXIpO1xuICAgICAgICAgICAgb3RoZXJSZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkcm9wIHRoZSByZXF1aXJlRmFpbHVyZSBsaW5rLiBpdCBkb2VzIG5vdCByZW1vdmUgdGhlIGxpbmsgb24gdGhlIG90aGVyIHJlY29nbml6ZXIuXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfSBvdGhlclJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcn0gdGhpc1xuICAgICAqL1xuICAgIGRyb3BSZXF1aXJlRmFpbHVyZTogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIGlmIChpbnZva2VBcnJheUFyZyhvdGhlclJlY29nbml6ZXIsICdkcm9wUmVxdWlyZUZhaWx1cmUnLCB0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlclJlY29nbml6ZXIgPSBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgdGhpcyk7XG4gICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkodGhpcy5yZXF1aXJlRmFpbCwgb3RoZXJSZWNvZ25pemVyKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWlyZUZhaWwuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogaGFzIHJlcXVpcmUgZmFpbHVyZXMgYm9vbGVhblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGhhc1JlcXVpcmVGYWlsdXJlczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCA+IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGlmIHRoZSByZWNvZ25pemVyIGNhbiByZWNvZ25pemUgc2ltdWx0YW5lb3VzIHdpdGggYW4gb3RoZXIgcmVjb2duaXplclxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcn0gb3RoZXJSZWNvZ25pemVyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICovXG4gICAgY2FuUmVjb2duaXplV2l0aDogZnVuY3Rpb24ob3RoZXJSZWNvZ25pemVyKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuc2ltdWx0YW5lb3VzW290aGVyUmVjb2duaXplci5pZF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFlvdSBzaG91bGQgdXNlIGB0cnlFbWl0YCBpbnN0ZWFkIG9mIGBlbWl0YCBkaXJlY3RseSB0byBjaGVja1xuICAgICAqIHRoYXQgYWxsIHRoZSBuZWVkZWQgcmVjb2duaXplcnMgaGFzIGZhaWxlZCBiZWZvcmUgZW1pdHRpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGlucHV0XG4gICAgICovXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGVtaXQoZXZlbnQpIHtcbiAgICAgICAgICAgIHNlbGYubWFuYWdlci5lbWl0KGV2ZW50LCBpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyAncGFuc3RhcnQnIGFuZCAncGFubW92ZSdcbiAgICAgICAgaWYgKHN0YXRlIDwgU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50KTsgLy8gc2ltcGxlICdldmVudE5hbWUnIGV2ZW50c1xuXG4gICAgICAgIGlmIChpbnB1dC5hZGRpdGlvbmFsRXZlbnQpIHsgLy8gYWRkaXRpb25hbCBldmVudChwYW5sZWZ0LCBwYW5yaWdodCwgcGluY2hpbiwgcGluY2hvdXQuLi4pXG4gICAgICAgICAgICBlbWl0KGlucHV0LmFkZGl0aW9uYWxFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYW5lbmQgYW5kIHBhbmNhbmNlbFxuICAgICAgICBpZiAoc3RhdGUgPj0gU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgICAgIGVtaXQoc2VsZi5vcHRpb25zLmV2ZW50ICsgc3RhdGVTdHIoc3RhdGUpKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayB0aGF0IGFsbCB0aGUgcmVxdWlyZSBmYWlsdXJlIHJlY29nbml6ZXJzIGhhcyBmYWlsZWQsXG4gICAgICogaWYgdHJ1ZSwgaXQgZW1pdHMgYSBnZXN0dXJlIGV2ZW50LFxuICAgICAqIG90aGVyd2lzZSwgc2V0dXAgdGhlIHN0YXRlIHRvIEZBSUxFRC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKi9cbiAgICB0cnlFbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5jYW5FbWl0KCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtaXQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGl0J3MgZmFpbGluZyBhbnl3YXlcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FuIHdlIGVtaXQ/XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgY2FuRW1pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0aGlzLnJlcXVpcmVGYWlsLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5yZXF1aXJlRmFpbFtpXS5zdGF0ZSAmIChTVEFURV9GQUlMRUQgfCBTVEFURV9QT1NTSUJMRSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiB1cGRhdGUgdGhlIHJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcbiAgICAgICAgLy8gbWFrZSBhIG5ldyBjb3B5IG9mIHRoZSBpbnB1dERhdGFcbiAgICAgICAgLy8gc28gd2UgY2FuIGNoYW5nZSB0aGUgaW5wdXREYXRhIHdpdGhvdXQgbWVzc2luZyB1cCB0aGUgb3RoZXIgcmVjb2duaXplcnNcbiAgICAgICAgdmFyIGlucHV0RGF0YUNsb25lID0gYXNzaWduKHt9LCBpbnB1dERhdGEpO1xuXG4gICAgICAgIC8vIGlzIGlzIGVuYWJsZWQgYW5kIGFsbG93IHJlY29nbml6aW5nP1xuICAgICAgICBpZiAoIWJvb2xPckZuKHRoaXMub3B0aW9ucy5lbmFibGUsIFt0aGlzLCBpbnB1dERhdGFDbG9uZV0pKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfRkFJTEVEO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgd2hlbiB3ZSd2ZSByZWFjaGVkIHRoZSBlbmRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgJiAoU1RBVEVfUkVDT0dOSVpFRCB8IFNUQVRFX0NBTkNFTExFRCB8IFNUQVRFX0ZBSUxFRCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTVEFURV9QT1NTSUJMRTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLnByb2Nlc3MoaW5wdXREYXRhQ2xvbmUpO1xuXG4gICAgICAgIC8vIHRoZSByZWNvZ25pemVyIGhhcyByZWNvZ25pemVkIGEgZ2VzdHVyZVxuICAgICAgICAvLyBzbyB0cmlnZ2VyIGFuIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICYgKFNUQVRFX0JFR0FOIHwgU1RBVEVfQ0hBTkdFRCB8IFNUQVRFX0VOREVEIHwgU1RBVEVfQ0FOQ0VMTEVEKSkge1xuICAgICAgICAgICAgdGhpcy50cnlFbWl0KGlucHV0RGF0YUNsb25lKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gdGhlIHN0YXRlIG9mIHRoZSByZWNvZ25pemVyXG4gICAgICogdGhlIGFjdHVhbCByZWNvZ25pemluZyBoYXBwZW5zIGluIHRoaXMgbWV0aG9kXG4gICAgICogQHZpcnR1YWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICogQHJldHVybnMge0NvbnN0fSBTVEFURVxuICAgICAqL1xuICAgIHByb2Nlc3M6IGZ1bmN0aW9uKGlucHV0RGF0YSkgeyB9LCAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgcHJlZmVycmVkIHRvdWNoLWFjdGlvblxuICAgICAqIEB2aXJ0dWFsXG4gICAgICogQHJldHVybnMge0FycmF5fVxuICAgICAqL1xuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHsgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGxlZCB3aGVuIHRoZSBnZXN0dXJlIGlzbid0IGFsbG93ZWQgdG8gcmVjb2duaXplXG4gICAgICogbGlrZSB3aGVuIGFub3RoZXIgaXMgYmVpbmcgcmVjb2duaXplZCBvciBpdCBpcyBkaXNhYmxlZFxuICAgICAqIEB2aXJ0dWFsXG4gICAgICovXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkgeyB9XG59O1xuXG4vKipcbiAqIGdldCBhIHVzYWJsZSBzdHJpbmcsIHVzZWQgYXMgZXZlbnQgcG9zdGZpeFxuICogQHBhcmFtIHtDb25zdH0gc3RhdGVcbiAqIEByZXR1cm5zIHtTdHJpbmd9IHN0YXRlXG4gKi9cbmZ1bmN0aW9uIHN0YXRlU3RyKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlICYgU1RBVEVfQ0FOQ0VMTEVEKSB7XG4gICAgICAgIHJldHVybiAnY2FuY2VsJztcbiAgICB9IGVsc2UgaWYgKHN0YXRlICYgU1RBVEVfRU5ERUQpIHtcbiAgICAgICAgcmV0dXJuICdlbmQnO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUgJiBTVEFURV9DSEFOR0VEKSB7XG4gICAgICAgIHJldHVybiAnbW92ZSc7XG4gICAgfSBlbHNlIGlmIChzdGF0ZSAmIFNUQVRFX0JFR0FOKSB7XG4gICAgICAgIHJldHVybiAnc3RhcnQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZGlyZWN0aW9uIGNvbnMgdG8gc3RyaW5nXG4gKiBAcGFyYW0ge0NvbnN0fSBkaXJlY3Rpb25cbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGRpcmVjdGlvblN0cihkaXJlY3Rpb24pIHtcbiAgICBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9ET1dOKSB7XG4gICAgICAgIHJldHVybiAnZG93bic7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1VQKSB7XG4gICAgICAgIHJldHVybiAndXAnO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERJUkVDVElPTl9MRUZUKSB7XG4gICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gRElSRUNUSU9OX1JJR0hUKSB7XG4gICAgICAgIHJldHVybiAncmlnaHQnO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogZ2V0IGEgcmVjb2duaXplciBieSBuYW1lIGlmIGl0IGlzIGJvdW5kIHRvIGEgbWFuYWdlclxuICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gb3RoZXJSZWNvZ25pemVyXG4gKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAqIEByZXR1cm5zIHtSZWNvZ25pemVyfVxuICovXG5mdW5jdGlvbiBnZXRSZWNvZ25pemVyQnlOYW1lSWZNYW5hZ2VyKG90aGVyUmVjb2duaXplciwgcmVjb2duaXplcikge1xuICAgIHZhciBtYW5hZ2VyID0gcmVjb2duaXplci5tYW5hZ2VyO1xuICAgIGlmIChtYW5hZ2VyKSB7XG4gICAgICAgIHJldHVybiBtYW5hZ2VyLmdldChvdGhlclJlY29nbml6ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gb3RoZXJSZWNvZ25pemVyO1xufVxuXG4vKipcbiAqIFRoaXMgcmVjb2duaXplciBpcyBqdXN0IHVzZWQgYXMgYSBiYXNlIGZvciB0aGUgc2ltcGxlIGF0dHJpYnV0ZSByZWNvZ25pemVycy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBBdHRyUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmluaGVyaXQoQXR0clJlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIEF0dHJSZWNvZ25pemVyXG4gICAgICovXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHBvaW50ZXJzOiAxXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gY2hlY2sgaWYgaXQgdGhlIHJlY29nbml6ZXIgcmVjZWl2ZXMgdmFsaWQgaW5wdXQsIGxpa2UgaW5wdXQuZGlzdGFuY2UgPiAxMC5cbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gcmVjb2duaXplZFxuICAgICAqL1xuICAgIGF0dHJUZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9uUG9pbnRlcnMgPSB0aGlzLm9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHJldHVybiBvcHRpb25Qb2ludGVycyA9PT0gMCB8fCBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvblBvaW50ZXJzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzIHRoZSBpbnB1dCBhbmQgcmV0dXJuIHRoZSBzdGF0ZSBmb3IgdGhlIHJlY29nbml6ZXJcbiAgICAgKiBAbWVtYmVyb2YgQXR0clJlY29nbml6ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXRcbiAgICAgKiBAcmV0dXJucyB7Kn0gU3RhdGVcbiAgICAgKi9cbiAgICBwcm9jZXNzOiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICB2YXIgZXZlbnRUeXBlID0gaW5wdXQuZXZlbnRUeXBlO1xuXG4gICAgICAgIHZhciBpc1JlY29nbml6ZWQgPSBzdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQpO1xuICAgICAgICB2YXIgaXNWYWxpZCA9IHRoaXMuYXR0clRlc3QoaW5wdXQpO1xuXG4gICAgICAgIC8vIG9uIGNhbmNlbCBpbnB1dCBhbmQgd2UndmUgcmVjb2duaXplZCBiZWZvcmUsIHJldHVybiBTVEFURV9DQU5DRUxMRURcbiAgICAgICAgaWYgKGlzUmVjb2duaXplZCAmJiAoZXZlbnRUeXBlICYgSU5QVVRfQ0FOQ0VMIHx8ICFpc1ZhbGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfQ0FOQ0VMTEVEO1xuICAgICAgICB9IGVsc2UgaWYgKGlzUmVjb2duaXplZCB8fCBpc1ZhbGlkKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlIHwgU1RBVEVfRU5ERUQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCEoc3RhdGUgJiBTVEFURV9CRUdBTikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfQkVHQU47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3RhdGUgfCBTVEFURV9DSEFOR0VEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTVEFURV9GQUlMRUQ7XG4gICAgfVxufSk7XG5cbi8qKlxuICogUGFuXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBhbmQgbW92ZWQgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQYW5SZWNvZ25pemVyKCkge1xuICAgIEF0dHJSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB0aGlzLnBYID0gbnVsbDtcbiAgICB0aGlzLnBZID0gbnVsbDtcbn1cblxuaW5oZXJpdChQYW5SZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUGFuUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncGFuJyxcbiAgICAgICAgdGhyZXNob2xkOiAxMCxcbiAgICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICAgIGRpcmVjdGlvbjogRElSRUNUSU9OX0FMTFxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IFtdO1xuICAgICAgICBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1kpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaXJlY3Rpb24gJiBESVJFQ1RJT05fVkVSVElDQUwpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChUT1VDSF9BQ1RJT05fUEFOX1gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3Rpb25zO1xuICAgIH0sXG5cbiAgICBkaXJlY3Rpb25UZXN0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgdmFyIGhhc01vdmVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGRpc3RhbmNlID0gaW5wdXQuZGlzdGFuY2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBpbnB1dC5kaXJlY3Rpb247XG4gICAgICAgIHZhciB4ID0gaW5wdXQuZGVsdGFYO1xuICAgICAgICB2YXIgeSA9IGlucHV0LmRlbHRhWTtcblxuICAgICAgICAvLyBsb2NrIHRvIGF4aXM/XG4gICAgICAgIGlmICghKGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uKSkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlyZWN0aW9uICYgRElSRUNUSU9OX0hPUklaT05UQUwpIHtcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAoeCA9PT0gMCkgPyBESVJFQ1RJT05fTk9ORSA6ICh4IDwgMCkgPyBESVJFQ1RJT05fTEVGVCA6IERJUkVDVElPTl9SSUdIVDtcbiAgICAgICAgICAgICAgICBoYXNNb3ZlZCA9IHggIT0gdGhpcy5wWDtcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGlucHV0LmRlbHRhWCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICh5ID09PSAwKSA/IERJUkVDVElPTl9OT05FIDogKHkgPCAwKSA/IERJUkVDVElPTl9VUCA6IERJUkVDVElPTl9ET1dOO1xuICAgICAgICAgICAgICAgIGhhc01vdmVkID0geSAhPSB0aGlzLnBZO1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gTWF0aC5hYnMoaW5wdXQuZGVsdGFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnB1dC5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgIHJldHVybiBoYXNNb3ZlZCAmJiBkaXN0YW5jZSA+IG9wdGlvbnMudGhyZXNob2xkICYmIGRpcmVjdGlvbiAmIG9wdGlvbnMuZGlyZWN0aW9uO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIEF0dHJSZWNvZ25pemVyLnByb3RvdHlwZS5hdHRyVGVzdC5jYWxsKHRoaXMsIGlucHV0KSAmJlxuICAgICAgICAgICAgKHRoaXMuc3RhdGUgJiBTVEFURV9CRUdBTiB8fCAoISh0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pICYmIHRoaXMuZGlyZWN0aW9uVGVzdChpbnB1dCkpKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcblxuICAgICAgICB0aGlzLnBYID0gaW5wdXQuZGVsdGFYO1xuICAgICAgICB0aGlzLnBZID0gaW5wdXQuZGVsdGFZO1xuXG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBkaXJlY3Rpb25TdHIoaW5wdXQuZGlyZWN0aW9uKTtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBkaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3VwZXIuZW1pdC5jYWxsKHRoaXMsIGlucHV0KTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBQaW5jaFxuICogUmVjb2duaXplZCB3aGVuIHR3byBvciBtb3JlIHBvaW50ZXJzIGFyZSBtb3ZpbmcgdG93YXJkICh6b29tLWluKSBvciBhd2F5IGZyb20gZWFjaCBvdGhlciAoem9vbS1vdXQpLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQaW5jaFJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChQaW5jaFJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3BpbmNoJyxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBwb2ludGVyczogMlxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQuc2NhbGUgLSAxKSA+IHRoaXMub3B0aW9ucy50aHJlc2hvbGQgfHwgdGhpcy5zdGF0ZSAmIFNUQVRFX0JFR0FOKTtcbiAgICB9LFxuXG4gICAgZW1pdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LnNjYWxlICE9PSAxKSB7XG4gICAgICAgICAgICB2YXIgaW5PdXQgPSBpbnB1dC5zY2FsZSA8IDEgPyAnaW4nIDogJ291dCc7XG4gICAgICAgICAgICBpbnB1dC5hZGRpdGlvbmFsRXZlbnQgPSB0aGlzLm9wdGlvbnMuZXZlbnQgKyBpbk91dDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdXBlci5lbWl0LmNhbGwodGhpcywgaW5wdXQpO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFByZXNzXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG93biBmb3IgeCBtcyB3aXRob3V0IGFueSBtb3ZlbWVudC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMgUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBQcmVzc1JlY29nbml6ZXIoKSB7XG4gICAgUmVjb2duaXplci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcbn1cblxuaW5oZXJpdChQcmVzc1JlY29nbml6ZXIsIFJlY29nbml6ZXIsIHtcbiAgICAvKipcbiAgICAgKiBAbmFtZXNwYWNlXG4gICAgICogQG1lbWJlcm9mIFByZXNzUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncHJlc3MnLFxuICAgICAgICBwb2ludGVyczogMSxcbiAgICAgICAgdGltZTogMjUxLCAvLyBtaW5pbWFsIHRpbWUgb2YgdGhlIHBvaW50ZXIgdG8gYmUgcHJlc3NlZFxuICAgICAgICB0aHJlc2hvbGQ6IDkgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1RPVUNIX0FDVElPTl9BVVRPXTtcbiAgICB9LFxuXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHZhciB2YWxpZFBvaW50ZXJzID0gaW5wdXQucG9pbnRlcnMubGVuZ3RoID09PSBvcHRpb25zLnBvaW50ZXJzO1xuICAgICAgICB2YXIgdmFsaWRNb3ZlbWVudCA9IGlucHV0LmRpc3RhbmNlIDwgb3B0aW9ucy50aHJlc2hvbGQ7XG4gICAgICAgIHZhciB2YWxpZFRpbWUgPSBpbnB1dC5kZWx0YVRpbWUgPiBvcHRpb25zLnRpbWU7XG5cbiAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDtcblxuICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG4gICAgICAgIGlmICghdmFsaWRNb3ZlbWVudCB8fCAhdmFsaWRQb2ludGVycyB8fCAoaW5wdXQuZXZlbnRUeXBlICYgKElOUFVUX0VORCB8IElOUFVUX0NBTkNFTCkgJiYgIXZhbGlkVGltZSkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5ldmVudFR5cGUgJiBJTlBVVF9TVEFSVCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5fdGltZXIgPSBzZXRUaW1lb3V0Q29udGV4dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcbiAgICAgICAgICAgIH0sIG9wdGlvbnMudGltZSwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gU1RBVEVfRkFJTEVEO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lcik7XG4gICAgfSxcblxuICAgIGVtaXQ6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBTVEFURV9SRUNPR05JWkVEKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5wdXQgJiYgKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX0VORCkpIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArICd1cCcsIGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2lucHV0LnRpbWVTdGFtcCA9IG5vdygpO1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBSb3RhdGVcbiAqIFJlY29nbml6ZWQgd2hlbiB0d28gb3IgbW9yZSBwb2ludGVyIGFyZSBtb3ZpbmcgaW4gYSBjaXJjdWxhciBtb3Rpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEF0dHJSZWNvZ25pemVyXG4gKi9cbmZ1bmN0aW9uIFJvdGF0ZVJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChSb3RhdGVSZWNvZ25pemVyLCBBdHRyUmVjb2duaXplciwge1xuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyb2YgUm90YXRlUmVjb2duaXplclxuICAgICAqL1xuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGV2ZW50OiAncm90YXRlJyxcbiAgICAgICAgdGhyZXNob2xkOiAwLFxuICAgICAgICBwb2ludGVyczogMlxuICAgIH0sXG5cbiAgICBnZXRUb3VjaEFjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBbVE9VQ0hfQUNUSU9OX05PTkVdO1xuICAgIH0sXG5cbiAgICBhdHRyVGVzdDogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N1cGVyLmF0dHJUZXN0LmNhbGwodGhpcywgaW5wdXQpICYmXG4gICAgICAgICAgICAoTWF0aC5hYnMoaW5wdXQucm90YXRpb24pID4gdGhpcy5vcHRpb25zLnRocmVzaG9sZCB8fCB0aGlzLnN0YXRlICYgU1RBVEVfQkVHQU4pO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIFN3aXBlXG4gKiBSZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgbW92aW5nIGZhc3QgKHZlbG9jaXR5KSwgd2l0aCBlbm91Z2ggZGlzdGFuY2UgaW4gdGhlIGFsbG93ZWQgZGlyZWN0aW9uLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyBBdHRyUmVjb2duaXplclxuICovXG5mdW5jdGlvbiBTd2lwZVJlY29nbml6ZXIoKSB7XG4gICAgQXR0clJlY29nbml6ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuaW5oZXJpdChTd2lwZVJlY29nbml6ZXIsIEF0dHJSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBTd2lwZVJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3N3aXBlJyxcbiAgICAgICAgdGhyZXNob2xkOiAxMCxcbiAgICAgICAgdmVsb2NpdHk6IDAuMyxcbiAgICAgICAgZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCxcbiAgICAgICAgcG9pbnRlcnM6IDFcbiAgICB9LFxuXG4gICAgZ2V0VG91Y2hBY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gUGFuUmVjb2duaXplci5wcm90b3R5cGUuZ2V0VG91Y2hBY3Rpb24uY2FsbCh0aGlzKTtcbiAgICB9LFxuXG4gICAgYXR0clRlc3Q6IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLm9wdGlvbnMuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgdmVsb2NpdHk7XG5cbiAgICAgICAgaWYgKGRpcmVjdGlvbiAmIChESVJFQ1RJT05fSE9SSVpPTlRBTCB8IERJUkVDVElPTl9WRVJUSUNBTCkpIHtcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gaW5wdXQub3ZlcmFsbFZlbG9jaXR5O1xuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiAmIERJUkVDVElPTl9IT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVg7XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uICYgRElSRUNUSU9OX1ZFUlRJQ0FMKSB7XG4gICAgICAgICAgICB2ZWxvY2l0eSA9IGlucHV0Lm92ZXJhbGxWZWxvY2l0eVk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIuYXR0clRlc3QuY2FsbCh0aGlzLCBpbnB1dCkgJiZcbiAgICAgICAgICAgIGRpcmVjdGlvbiAmIGlucHV0Lm9mZnNldERpcmVjdGlvbiAmJlxuICAgICAgICAgICAgaW5wdXQuZGlzdGFuY2UgPiB0aGlzLm9wdGlvbnMudGhyZXNob2xkICYmXG4gICAgICAgICAgICBpbnB1dC5tYXhQb2ludGVycyA9PSB0aGlzLm9wdGlvbnMucG9pbnRlcnMgJiZcbiAgICAgICAgICAgIGFicyh2ZWxvY2l0eSkgPiB0aGlzLm9wdGlvbnMudmVsb2NpdHkgJiYgaW5wdXQuZXZlbnRUeXBlICYgSU5QVVRfRU5EO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZGlyZWN0aW9uU3RyKGlucHV0Lm9mZnNldERpcmVjdGlvbik7XG4gICAgICAgIGlmIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMubWFuYWdlci5lbWl0KHRoaXMub3B0aW9ucy5ldmVudCArIGRpcmVjdGlvbiwgaW5wdXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCBpbnB1dCk7XG4gICAgfVxufSk7XG5cbi8qKlxuICogQSB0YXAgaXMgZWNvZ25pemVkIHdoZW4gdGhlIHBvaW50ZXIgaXMgZG9pbmcgYSBzbWFsbCB0YXAvY2xpY2suIE11bHRpcGxlIHRhcHMgYXJlIHJlY29nbml6ZWQgaWYgdGhleSBvY2N1clxuICogYmV0d2VlbiB0aGUgZ2l2ZW4gaW50ZXJ2YWwgYW5kIHBvc2l0aW9uLiBUaGUgZGVsYXkgb3B0aW9uIGNhbiBiZSB1c2VkIHRvIHJlY29nbml6ZSBtdWx0aS10YXBzIHdpdGhvdXQgZmlyaW5nXG4gKiBhIHNpbmdsZSB0YXAuXG4gKlxuICogVGhlIGV2ZW50RGF0YSBmcm9tIHRoZSBlbWl0dGVkIGV2ZW50IGNvbnRhaW5zIHRoZSBwcm9wZXJ0eSBgdGFwQ291bnRgLCB3aGljaCBjb250YWlucyB0aGUgYW1vdW50IG9mXG4gKiBtdWx0aS10YXBzIGJlaW5nIHJlY29nbml6ZWQuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIFJlY29nbml6ZXJcbiAqL1xuZnVuY3Rpb24gVGFwUmVjb2duaXplcigpIHtcbiAgICBSZWNvZ25pemVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICAvLyBwcmV2aW91cyB0aW1lIGFuZCBjZW50ZXIsXG4gICAgLy8gdXNlZCBmb3IgdGFwIGNvdW50aW5nXG4gICAgdGhpcy5wVGltZSA9IGZhbHNlO1xuICAgIHRoaXMucENlbnRlciA9IGZhbHNlO1xuXG4gICAgdGhpcy5fdGltZXIgPSBudWxsO1xuICAgIHRoaXMuX2lucHV0ID0gbnVsbDtcbiAgICB0aGlzLmNvdW50ID0gMDtcbn1cblxuaW5oZXJpdChUYXBSZWNvZ25pemVyLCBSZWNvZ25pemVyLCB7XG4gICAgLyoqXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqIEBtZW1iZXJvZiBQaW5jaFJlY29nbml6ZXJcbiAgICAgKi9cbiAgICBkZWZhdWx0czoge1xuICAgICAgICBldmVudDogJ3RhcCcsXG4gICAgICAgIHBvaW50ZXJzOiAxLFxuICAgICAgICB0YXBzOiAxLFxuICAgICAgICBpbnRlcnZhbDogMzAwLCAvLyBtYXggdGltZSBiZXR3ZWVuIHRoZSBtdWx0aS10YXAgdGFwc1xuICAgICAgICB0aW1lOiAyNTAsIC8vIG1heCB0aW1lIG9mIHRoZSBwb2ludGVyIHRvIGJlIGRvd24gKGxpa2UgZmluZ2VyIG9uIHRoZSBzY3JlZW4pXG4gICAgICAgIHRocmVzaG9sZDogOSwgLy8gYSBtaW5pbWFsIG1vdmVtZW50IGlzIG9rLCBidXQga2VlcCBpdCBsb3dcbiAgICAgICAgcG9zVGhyZXNob2xkOiAxMCAvLyBhIG11bHRpLXRhcCBjYW4gYmUgYSBiaXQgb2ZmIHRoZSBpbml0aWFsIHBvc2l0aW9uXG4gICAgfSxcblxuICAgIGdldFRvdWNoQWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFtUT1VDSF9BQ1RJT05fTUFOSVBVTEFUSU9OXTtcbiAgICB9LFxuXG4gICAgcHJvY2VzczogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cbiAgICAgICAgdmFyIHZhbGlkUG9pbnRlcnMgPSBpbnB1dC5wb2ludGVycy5sZW5ndGggPT09IG9wdGlvbnMucG9pbnRlcnM7XG4gICAgICAgIHZhciB2YWxpZE1vdmVtZW50ID0gaW5wdXQuZGlzdGFuY2UgPCBvcHRpb25zLnRocmVzaG9sZDtcbiAgICAgICAgdmFyIHZhbGlkVG91Y2hUaW1lID0gaW5wdXQuZGVsdGFUaW1lIDwgb3B0aW9ucy50aW1lO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBpZiAoKGlucHV0LmV2ZW50VHlwZSAmIElOUFVUX1NUQVJUKSAmJiAodGhpcy5jb3VudCA9PT0gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWxUaW1lb3V0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3ZSBvbmx5IGFsbG93IGxpdHRsZSBtb3ZlbWVudFxuICAgICAgICAvLyBhbmQgd2UndmUgcmVhY2hlZCBhbiBlbmQgZXZlbnQsIHNvIGEgdGFwIGlzIHBvc3NpYmxlXG4gICAgICAgIGlmICh2YWxpZE1vdmVtZW50ICYmIHZhbGlkVG91Y2hUaW1lICYmIHZhbGlkUG9pbnRlcnMpIHtcbiAgICAgICAgICAgIGlmIChpbnB1dC5ldmVudFR5cGUgIT0gSU5QVVRfRU5EKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbFRpbWVvdXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHZhbGlkSW50ZXJ2YWwgPSB0aGlzLnBUaW1lID8gKGlucHV0LnRpbWVTdGFtcCAtIHRoaXMucFRpbWUgPCBvcHRpb25zLmludGVydmFsKSA6IHRydWU7XG4gICAgICAgICAgICB2YXIgdmFsaWRNdWx0aVRhcCA9ICF0aGlzLnBDZW50ZXIgfHwgZ2V0RGlzdGFuY2UodGhpcy5wQ2VudGVyLCBpbnB1dC5jZW50ZXIpIDwgb3B0aW9ucy5wb3NUaHJlc2hvbGQ7XG5cbiAgICAgICAgICAgIHRoaXMucFRpbWUgPSBpbnB1dC50aW1lU3RhbXA7XG4gICAgICAgICAgICB0aGlzLnBDZW50ZXIgPSBpbnB1dC5jZW50ZXI7XG5cbiAgICAgICAgICAgIGlmICghdmFsaWRNdWx0aVRhcCB8fCAhdmFsaWRJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ICs9IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG5cbiAgICAgICAgICAgIC8vIGlmIHRhcCBjb3VudCBtYXRjaGVzIHdlIGhhdmUgcmVjb2duaXplZCBpdCxcbiAgICAgICAgICAgIC8vIGVsc2UgaXQgaGFzIGJlZ2FuIHJlY29nbml6aW5nLi4uXG4gICAgICAgICAgICB2YXIgdGFwQ291bnQgPSB0aGlzLmNvdW50ICUgb3B0aW9ucy50YXBzO1xuICAgICAgICAgICAgaWYgKHRhcENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gZmFpbGluZyByZXF1aXJlbWVudHMsIGltbWVkaWF0ZWx5IHRyaWdnZXIgdGhlIHRhcCBldmVudFxuICAgICAgICAgICAgICAgIC8vIG9yIHdhaXQgYXMgbG9uZyBhcyB0aGUgbXVsdGl0YXAgaW50ZXJ2YWwgdG8gdHJpZ2dlclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5oYXNSZXF1aXJlRmFpbHVyZXMoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEVfUkVDT0dOSVpFRDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX1JFQ09HTklaRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyeUVtaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgb3B0aW9ucy5pbnRlcnZhbCwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTVEFURV9CRUdBTjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgZmFpbFRpbWVvdXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl90aW1lciA9IHNldFRpbWVvdXRDb250ZXh0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IFNUQVRFX0ZBSUxFRDtcbiAgICAgICAgfSwgdGhpcy5vcHRpb25zLmludGVydmFsLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIFNUQVRFX0ZBSUxFRDtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGltZXIpO1xuICAgIH0sXG5cbiAgICBlbWl0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gU1RBVEVfUkVDT0dOSVpFRCkge1xuICAgICAgICAgICAgdGhpcy5faW5wdXQudGFwQ291bnQgPSB0aGlzLmNvdW50O1xuICAgICAgICAgICAgdGhpcy5tYW5hZ2VyLmVtaXQodGhpcy5vcHRpb25zLmV2ZW50LCB0aGlzLl9pbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBTaW1wbGUgd2F5IHRvIGNyZWF0ZSBhIG1hbmFnZXIgd2l0aCBhIGRlZmF1bHQgc2V0IG9mIHJlY29nbml6ZXJzLlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEhhbW1lcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5yZWNvZ25pemVycyA9IGlmVW5kZWZpbmVkKG9wdGlvbnMucmVjb2duaXplcnMsIEhhbW1lci5kZWZhdWx0cy5wcmVzZXQpO1xuICAgIHJldHVybiBuZXcgTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBAY29uc3Qge3N0cmluZ31cbiAqL1xuSGFtbWVyLlZFUlNJT04gPSAnMi4wLjcnO1xuXG4vKipcbiAqIGRlZmF1bHQgc2V0dGluZ3NcbiAqIEBuYW1lc3BhY2VcbiAqL1xuSGFtbWVyLmRlZmF1bHRzID0ge1xuICAgIC8qKlxuICAgICAqIHNldCBpZiBET00gZXZlbnRzIGFyZSBiZWluZyB0cmlnZ2VyZWQuXG4gICAgICogQnV0IHRoaXMgaXMgc2xvd2VyIGFuZCB1bnVzZWQgYnkgc2ltcGxlIGltcGxlbWVudGF0aW9ucywgc28gZGlzYWJsZWQgYnkgZGVmYXVsdC5cbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIGRvbUV2ZW50czogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgZm9yIHRoZSB0b3VjaEFjdGlvbiBwcm9wZXJ0eS9mYWxsYmFjay5cbiAgICAgKiBXaGVuIHNldCB0byBgY29tcHV0ZWAgaXQgd2lsbCBtYWdpY2FsbHkgc2V0IHRoZSBjb3JyZWN0IHZhbHVlIGJhc2VkIG9uIHRoZSBhZGRlZCByZWNvZ25pemVycy5cbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqIEBkZWZhdWx0IGNvbXB1dGVcbiAgICAgKi9cbiAgICB0b3VjaEFjdGlvbjogVE9VQ0hfQUNUSU9OX0NPTVBVVEUsXG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgZW5hYmxlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRVhQRVJJTUVOVEFMIEZFQVRVUkUgLS0gY2FuIGJlIHJlbW92ZWQvY2hhbmdlZFxuICAgICAqIENoYW5nZSB0aGUgcGFyZW50IGlucHV0IHRhcmdldCBlbGVtZW50LlxuICAgICAqIElmIE51bGwsIHRoZW4gaXQgaXMgYmVpbmcgc2V0IHRoZSB0byBtYWluIGVsZW1lbnQuXG4gICAgICogQHR5cGUge051bGx8RXZlbnRUYXJnZXR9XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuICAgIGlucHV0VGFyZ2V0OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogZm9yY2UgYW4gaW5wdXQgY2xhc3NcbiAgICAgKiBAdHlwZSB7TnVsbHxGdW5jdGlvbn1cbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG4gICAgaW5wdXRDbGFzczogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgcmVjb2duaXplciBzZXR1cCB3aGVuIGNhbGxpbmcgYEhhbW1lcigpYFxuICAgICAqIFdoZW4gY3JlYXRpbmcgYSBuZXcgTWFuYWdlciB0aGVzZSB3aWxsIGJlIHNraXBwZWQuXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHByZXNldDogW1xuICAgICAgICAvLyBSZWNvZ25pemVyQ2xhc3MsIG9wdGlvbnMsIFtyZWNvZ25pemVXaXRoLCAuLi5dLCBbcmVxdWlyZUZhaWx1cmUsIC4uLl1cbiAgICAgICAgW1JvdGF0ZVJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfV0sXG4gICAgICAgIFtQaW5jaFJlY29nbml6ZXIsIHtlbmFibGU6IGZhbHNlfSwgWydyb3RhdGUnXV0sXG4gICAgICAgIFtTd2lwZVJlY29nbml6ZXIsIHtkaXJlY3Rpb246IERJUkVDVElPTl9IT1JJWk9OVEFMfV0sXG4gICAgICAgIFtQYW5SZWNvZ25pemVyLCB7ZGlyZWN0aW9uOiBESVJFQ1RJT05fSE9SSVpPTlRBTH0sIFsnc3dpcGUnXV0sXG4gICAgICAgIFtUYXBSZWNvZ25pemVyXSxcbiAgICAgICAgW1RhcFJlY29nbml6ZXIsIHtldmVudDogJ2RvdWJsZXRhcCcsIHRhcHM6IDJ9LCBbJ3RhcCddXSxcbiAgICAgICAgW1ByZXNzUmVjb2duaXplcl1cbiAgICBdLFxuXG4gICAgLyoqXG4gICAgICogU29tZSBDU1MgcHJvcGVydGllcyBjYW4gYmUgdXNlZCB0byBpbXByb3ZlIHRoZSB3b3JraW5nIG9mIEhhbW1lci5cbiAgICAgKiBBZGQgdGhlbSB0byB0aGlzIG1ldGhvZCBhbmQgdGhleSB3aWxsIGJlIHNldCB3aGVuIGNyZWF0aW5nIGEgbmV3IE1hbmFnZXIuXG4gICAgICogQG5hbWVzcGFjZVxuICAgICAqL1xuICAgIGNzc1Byb3BzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlcyB0ZXh0IHNlbGVjdGlvbiB0byBpbXByb3ZlIHRoZSBkcmFnZ2luZyBnZXN0dXJlLiBNYWlubHkgZm9yIGRlc2t0b3AgYnJvd3NlcnMuXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlIHRoZSBXaW5kb3dzIFBob25lIGdyaXBwZXJzIHdoZW4gcHJlc3NpbmcgYW4gZWxlbWVudC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB0b3VjaFNlbGVjdDogJ25vbmUnLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlcyB0aGUgZGVmYXVsdCBjYWxsb3V0IHNob3duIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0LlxuICAgICAgICAgKiBPbiBpT1MsIHdoZW4geW91IHRvdWNoIGFuZCBob2xkIGEgdG91Y2ggdGFyZ2V0IHN1Y2ggYXMgYSBsaW5rLCBTYWZhcmkgZGlzcGxheXNcbiAgICAgICAgICogYSBjYWxsb3V0IGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGxpbmsuIFRoaXMgcHJvcGVydHkgYWxsb3dzIHlvdSB0byBkaXNhYmxlIHRoYXQgY2FsbG91dC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ25vbmUnXG4gICAgICAgICAqL1xuICAgICAgICB0b3VjaENhbGxvdXQ6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHdoZXRoZXIgem9vbWluZyBpcyBlbmFibGVkLiBVc2VkIGJ5IElFMTA+XG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdub25lJ1xuICAgICAgICAgKi9cbiAgICAgICAgY29udGVudFpvb21pbmc6ICdub25lJyxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHRoYXQgYW4gZW50aXJlIGVsZW1lbnQgc2hvdWxkIGJlIGRyYWdnYWJsZSBpbnN0ZWFkIG9mIGl0cyBjb250ZW50cy4gTWFpbmx5IGZvciBkZXNrdG9wIGJyb3dzZXJzLlxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbm9uZSdcbiAgICAgICAgICovXG4gICAgICAgIHVzZXJEcmFnOiAnbm9uZScsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJyaWRlcyB0aGUgaGlnaGxpZ2h0IGNvbG9yIHNob3duIHdoZW4gdGhlIHVzZXIgdGFwcyBhIGxpbmsgb3IgYSBKYXZhU2NyaXB0XG4gICAgICAgICAqIGNsaWNrYWJsZSBlbGVtZW50IGluIGlPUy4gVGhpcyBwcm9wZXJ0eSBvYmV5cyB0aGUgYWxwaGEgdmFsdWUsIGlmIHNwZWNpZmllZC5cbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgJ3JnYmEoMCwwLDAsMCknXG4gICAgICAgICAqL1xuICAgICAgICB0YXBIaWdobGlnaHRDb2xvcjogJ3JnYmEoMCwwLDAsMCknXG4gICAgfVxufTtcblxudmFyIFNUT1AgPSAxO1xudmFyIEZPUkNFRF9TVE9QID0gMjtcblxuLyoqXG4gKiBNYW5hZ2VyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWFuYWdlcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gYXNzaWduKHt9LCBIYW1tZXIuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pO1xuXG4gICAgdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0ID0gdGhpcy5vcHRpb25zLmlucHV0VGFyZ2V0IHx8IGVsZW1lbnQ7XG5cbiAgICB0aGlzLmhhbmRsZXJzID0ge307XG4gICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgdGhpcy5yZWNvZ25pemVycyA9IFtdO1xuICAgIHRoaXMub2xkQ3NzUHJvcHMgPSB7fTtcblxuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5pbnB1dCA9IGNyZWF0ZUlucHV0SW5zdGFuY2UodGhpcyk7XG4gICAgdGhpcy50b3VjaEFjdGlvbiA9IG5ldyBUb3VjaEFjdGlvbih0aGlzLCB0aGlzLm9wdGlvbnMudG91Y2hBY3Rpb24pO1xuXG4gICAgdG9nZ2xlQ3NzUHJvcHModGhpcywgdHJ1ZSk7XG5cbiAgICBlYWNoKHRoaXMub3B0aW9ucy5yZWNvZ25pemVycywgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICB2YXIgcmVjb2duaXplciA9IHRoaXMuYWRkKG5ldyAoaXRlbVswXSkoaXRlbVsxXSkpO1xuICAgICAgICBpdGVtWzJdICYmIHJlY29nbml6ZXIucmVjb2duaXplV2l0aChpdGVtWzJdKTtcbiAgICAgICAgaXRlbVszXSAmJiByZWNvZ25pemVyLnJlcXVpcmVGYWlsdXJlKGl0ZW1bM10pO1xuICAgIH0sIHRoaXMpO1xufVxuXG5NYW5hZ2VyLnByb3RvdHlwZSA9IHtcbiAgICAvKipcbiAgICAgKiBzZXQgb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybnMge01hbmFnZXJ9XG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIGFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIE9wdGlvbnMgdGhhdCBuZWVkIGEgbGl0dGxlIG1vcmUgc2V0dXBcbiAgICAgICAgaWYgKG9wdGlvbnMudG91Y2hBY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMudG91Y2hBY3Rpb24udXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW5wdXRUYXJnZXQpIHtcbiAgICAgICAgICAgIC8vIENsZWFuIHVwIGV4aXN0aW5nIGV2ZW50IGxpc3RlbmVycyBhbmQgcmVpbml0aWFsaXplXG4gICAgICAgICAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQudGFyZ2V0ID0gb3B0aW9ucy5pbnB1dFRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuaW5pdCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzdG9wIHJlY29nbml6aW5nIGZvciB0aGlzIHNlc3Npb24uXG4gICAgICogVGhpcyBzZXNzaW9uIHdpbGwgYmUgZGlzY2FyZGVkLCB3aGVuIGEgbmV3IFtpbnB1dF1zdGFydCBldmVudCBpcyBmaXJlZC5cbiAgICAgKiBXaGVuIGZvcmNlZCwgdGhlIHJlY29nbml6ZXIgY3ljbGUgaXMgc3RvcHBlZCBpbW1lZGlhdGVseS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmb3JjZV1cbiAgICAgKi9cbiAgICBzdG9wOiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICB0aGlzLnNlc3Npb24uc3RvcHBlZCA9IGZvcmNlID8gRk9SQ0VEX1NUT1AgOiBTVE9QO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBydW4gdGhlIHJlY29nbml6ZXJzIVxuICAgICAqIGNhbGxlZCBieSB0aGUgaW5wdXRIYW5kbGVyIGZ1bmN0aW9uIG9uIGV2ZXJ5IG1vdmVtZW50IG9mIHRoZSBwb2ludGVycyAodG91Y2hlcylcbiAgICAgKiBpdCB3YWxrcyB0aHJvdWdoIGFsbCB0aGUgcmVjb2duaXplcnMgYW5kIHRyaWVzIHRvIGRldGVjdCB0aGUgZ2VzdHVyZSB0aGF0IGlzIGJlaW5nIG1hZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5wdXREYXRhXG4gICAgICovXG4gICAgcmVjb2duaXplOiBmdW5jdGlvbihpbnB1dERhdGEpIHtcbiAgICAgICAgdmFyIHNlc3Npb24gPSB0aGlzLnNlc3Npb247XG4gICAgICAgIGlmIChzZXNzaW9uLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJ1biB0aGUgdG91Y2gtYWN0aW9uIHBvbHlmaWxsXG4gICAgICAgIHRoaXMudG91Y2hBY3Rpb24ucHJldmVudERlZmF1bHRzKGlucHV0RGF0YSk7XG5cbiAgICAgICAgdmFyIHJlY29nbml6ZXI7XG4gICAgICAgIHZhciByZWNvZ25pemVycyA9IHRoaXMucmVjb2duaXplcnM7XG5cbiAgICAgICAgLy8gdGhpcyBob2xkcyB0aGUgcmVjb2duaXplciB0aGF0IGlzIGJlaW5nIHJlY29nbml6ZWQuXG4gICAgICAgIC8vIHNvIHRoZSByZWNvZ25pemVyJ3Mgc3RhdGUgbmVlZHMgdG8gYmUgQkVHQU4sIENIQU5HRUQsIEVOREVEIG9yIFJFQ09HTklaRURcbiAgICAgICAgLy8gaWYgbm8gcmVjb2duaXplciBpcyBkZXRlY3RpbmcgYSB0aGluZywgaXQgaXMgc2V0IHRvIGBudWxsYFxuICAgICAgICB2YXIgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplcjtcblxuICAgICAgICAvLyByZXNldCB3aGVuIHRoZSBsYXN0IHJlY29nbml6ZXIgaXMgcmVjb2duaXplZFxuICAgICAgICAvLyBvciB3aGVuIHdlJ3JlIGluIGEgbmV3IHNlc3Npb25cbiAgICAgICAgaWYgKCFjdXJSZWNvZ25pemVyIHx8IChjdXJSZWNvZ25pemVyICYmIGN1clJlY29nbml6ZXIuc3RhdGUgJiBTVEFURV9SRUNPR05JWkVEKSkge1xuICAgICAgICAgICAgY3VyUmVjb2duaXplciA9IHNlc3Npb24uY3VyUmVjb2duaXplciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgcmVjb2duaXplcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZWNvZ25pemVyID0gcmVjb2duaXplcnNbaV07XG5cbiAgICAgICAgICAgIC8vIGZpbmQgb3V0IGlmIHdlIGFyZSBhbGxvd2VkIHRyeSB0byByZWNvZ25pemUgdGhlIGlucHV0IGZvciB0aGlzIG9uZS5cbiAgICAgICAgICAgIC8vIDEuICAgYWxsb3cgaWYgdGhlIHNlc3Npb24gaXMgTk9UIGZvcmNlZCBzdG9wcGVkIChzZWUgdGhlIC5zdG9wKCkgbWV0aG9kKVxuICAgICAgICAgICAgLy8gMi4gICBhbGxvdyBpZiB3ZSBzdGlsbCBoYXZlbid0IHJlY29nbml6ZWQgYSBnZXN0dXJlIGluIHRoaXMgc2Vzc2lvbiwgb3IgdGhlIHRoaXMgcmVjb2duaXplciBpcyB0aGUgb25lXG4gICAgICAgICAgICAvLyAgICAgIHRoYXQgaXMgYmVpbmcgcmVjb2duaXplZC5cbiAgICAgICAgICAgIC8vIDMuICAgYWxsb3cgaWYgdGhlIHJlY29nbml6ZXIgaXMgYWxsb3dlZCB0byBydW4gc2ltdWx0YW5lb3VzIHdpdGggdGhlIGN1cnJlbnQgcmVjb2duaXplZCByZWNvZ25pemVyLlxuICAgICAgICAgICAgLy8gICAgICB0aGlzIGNhbiBiZSBzZXR1cCB3aXRoIHRoZSBgcmVjb2duaXplV2l0aCgpYCBtZXRob2Qgb24gdGhlIHJlY29nbml6ZXIuXG4gICAgICAgICAgICBpZiAoc2Vzc2lvbi5zdG9wcGVkICE9PSBGT1JDRURfU1RPUCAmJiAoIC8vIDFcbiAgICAgICAgICAgICAgICAgICAgIWN1clJlY29nbml6ZXIgfHwgcmVjb2duaXplciA9PSBjdXJSZWNvZ25pemVyIHx8IC8vIDJcbiAgICAgICAgICAgICAgICAgICAgcmVjb2duaXplci5jYW5SZWNvZ25pemVXaXRoKGN1clJlY29nbml6ZXIpKSkgeyAvLyAzXG4gICAgICAgICAgICAgICAgcmVjb2duaXplci5yZWNvZ25pemUoaW5wdXREYXRhKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVjb2duaXplci5yZXNldCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpZiB0aGUgcmVjb2duaXplciBoYXMgYmVlbiByZWNvZ25pemluZyB0aGUgaW5wdXQgYXMgYSB2YWxpZCBnZXN0dXJlLCB3ZSB3YW50IHRvIHN0b3JlIHRoaXMgb25lIGFzIHRoZVxuICAgICAgICAgICAgLy8gY3VycmVudCBhY3RpdmUgcmVjb2duaXplci4gYnV0IG9ubHkgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIGFuIGFjdGl2ZSByZWNvZ25pemVyXG4gICAgICAgICAgICBpZiAoIWN1clJlY29nbml6ZXIgJiYgcmVjb2duaXplci5zdGF0ZSAmIChTVEFURV9CRUdBTiB8IFNUQVRFX0NIQU5HRUQgfCBTVEFURV9FTkRFRCkpIHtcbiAgICAgICAgICAgICAgICBjdXJSZWNvZ25pemVyID0gc2Vzc2lvbi5jdXJSZWNvZ25pemVyID0gcmVjb2duaXplcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgYSByZWNvZ25pemVyIGJ5IGl0cyBldmVudCBuYW1lLlxuICAgICAqIEBwYXJhbSB7UmVjb2duaXplcnxTdHJpbmd9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxOdWxsfVxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAocmVjb2duaXplciBpbnN0YW5jZW9mIFJlY29nbml6ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWNvZ25pemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJlY29nbml6ZXJzW2ldLm9wdGlvbnMuZXZlbnQgPT0gcmVjb2duaXplcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNvZ25pemVyc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogYWRkIGEgcmVjb2duaXplciB0byB0aGUgbWFuYWdlclxuICAgICAqIGV4aXN0aW5nIHJlY29nbml6ZXJzIHdpdGggdGhlIHNhbWUgZXZlbnQgbmFtZSB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBAcGFyYW0ge1JlY29nbml6ZXJ9IHJlY29nbml6ZXJcbiAgICAgKiBAcmV0dXJucyB7UmVjb2duaXplcnxNYW5hZ2VyfVxuICAgICAqL1xuICAgIGFkZDogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ2FkZCcsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlbW92ZSBleGlzdGluZ1xuICAgICAgICB2YXIgZXhpc3RpbmcgPSB0aGlzLmdldChyZWNvZ25pemVyLm9wdGlvbnMuZXZlbnQpO1xuICAgICAgICBpZiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGV4aXN0aW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVjb2duaXplcnMucHVzaChyZWNvZ25pemVyKTtcbiAgICAgICAgcmVjb2duaXplci5tYW5hZ2VyID0gdGhpcztcblxuICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICByZXR1cm4gcmVjb2duaXplcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlIGEgcmVjb2duaXplciBieSBuYW1lIG9yIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtSZWNvZ25pemVyfFN0cmluZ30gcmVjb2duaXplclxuICAgICAqIEByZXR1cm5zIHtNYW5hZ2VyfVxuICAgICAqL1xuICAgIHJlbW92ZTogZnVuY3Rpb24ocmVjb2duaXplcikge1xuICAgICAgICBpZiAoaW52b2tlQXJyYXlBcmcocmVjb2duaXplciwgJ3JlbW92ZScsIHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY29nbml6ZXIgPSB0aGlzLmdldChyZWNvZ25pemVyKTtcblxuICAgICAgICAvLyBsZXQncyBtYWtlIHN1cmUgdGhpcyByZWNvZ25pemVyIGV4aXN0c1xuICAgICAgICBpZiAocmVjb2duaXplcikge1xuICAgICAgICAgICAgdmFyIHJlY29nbml6ZXJzID0gdGhpcy5yZWNvZ25pemVycztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGluQXJyYXkocmVjb2duaXplcnMsIHJlY29nbml6ZXIpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVjb2duaXplcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoQWN0aW9uLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGJpbmQgZXZlbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBvbjogZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSA9IGhhbmRsZXJzW2V2ZW50XSB8fCBbXTtcbiAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XS5wdXNoKGhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVuYmluZCBldmVudCwgbGVhdmUgZW1pdCBibGFuayB0byByZW1vdmUgYWxsIGhhbmRsZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtoYW5kbGVyXVxuICAgICAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IHRoaXNcbiAgICAgKi9cbiAgICBvZmY6IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgIGVhY2goc3BsaXRTdHIoZXZlbnRzKSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBoYW5kbGVyc1tldmVudF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzW2V2ZW50XSAmJiBoYW5kbGVyc1tldmVudF0uc3BsaWNlKGluQXJyYXkoaGFuZGxlcnNbZXZlbnRdLCBoYW5kbGVyKSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogZW1pdCBldmVudCB0byB0aGUgbGlzdGVuZXJzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgKi9cbiAgICBlbWl0OiBmdW5jdGlvbihldmVudCwgZGF0YSkge1xuICAgICAgICAvLyB3ZSBhbHNvIHdhbnQgdG8gdHJpZ2dlciBkb20gZXZlbnRzXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZG9tRXZlbnRzKSB7XG4gICAgICAgICAgICB0cmlnZ2VyRG9tRXZlbnQoZXZlbnQsIGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm8gaGFuZGxlcnMsIHNvIHNraXAgaXQgYWxsXG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnNbZXZlbnRdICYmIHRoaXMuaGFuZGxlcnNbZXZlbnRdLnNsaWNlKCk7XG4gICAgICAgIGlmICghaGFuZGxlcnMgfHwgIWhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZGF0YS50eXBlID0gZXZlbnQ7XG4gICAgICAgIGRhdGEucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGRhdGEuc3JjRXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgaGFuZGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBoYW5kbGVyc1tpXShkYXRhKTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBkZXN0cm95IHRoZSBtYW5hZ2VyIGFuZCB1bmJpbmRzIGFsbCBldmVudHNcbiAgICAgKiBpdCBkb2Vzbid0IHVuYmluZCBkb20gZXZlbnRzLCB0aGF0IGlzIHRoZSB1c2VyIG93biByZXNwb25zaWJpbGl0eVxuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgJiYgdG9nZ2xlQ3NzUHJvcHModGhpcywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0ge307XG4gICAgICAgIHRoaXMuaW5wdXQuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogYWRkL3JlbW92ZSB0aGUgY3NzIHByb3BlcnRpZXMgYXMgZGVmaW5lZCBpbiBtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHNcbiAqIEBwYXJhbSB7TWFuYWdlcn0gbWFuYWdlclxuICogQHBhcmFtIHtCb29sZWFufSBhZGRcbiAqL1xuZnVuY3Rpb24gdG9nZ2xlQ3NzUHJvcHMobWFuYWdlciwgYWRkKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBtYW5hZ2VyLmVsZW1lbnQ7XG4gICAgaWYgKCFlbGVtZW50LnN0eWxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHByb3A7XG4gICAgZWFjaChtYW5hZ2VyLm9wdGlvbnMuY3NzUHJvcHMsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHByb3AgPSBwcmVmaXhlZChlbGVtZW50LnN0eWxlLCBuYW1lKTtcbiAgICAgICAgaWYgKGFkZCkge1xuICAgICAgICAgICAgbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSA9IGVsZW1lbnQuc3R5bGVbcHJvcF07XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BdID0gbWFuYWdlci5vbGRDc3NQcm9wc1twcm9wXSB8fCAnJztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghYWRkKSB7XG4gICAgICAgIG1hbmFnZXIub2xkQ3NzUHJvcHMgPSB7fTtcbiAgICB9XG59XG5cbi8qKlxuICogdHJpZ2dlciBkb20gZXZlbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpZ2dlckRvbUV2ZW50KGV2ZW50LCBkYXRhKSB7XG4gICAgdmFyIGdlc3R1cmVFdmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGdlc3R1cmVFdmVudC5pbml0RXZlbnQoZXZlbnQsIHRydWUsIHRydWUpO1xuICAgIGdlc3R1cmVFdmVudC5nZXN0dXJlID0gZGF0YTtcbiAgICBkYXRhLnRhcmdldC5kaXNwYXRjaEV2ZW50KGdlc3R1cmVFdmVudCk7XG59XG5cbmFzc2lnbihIYW1tZXIsIHtcbiAgICBJTlBVVF9TVEFSVDogSU5QVVRfU1RBUlQsXG4gICAgSU5QVVRfTU9WRTogSU5QVVRfTU9WRSxcbiAgICBJTlBVVF9FTkQ6IElOUFVUX0VORCxcbiAgICBJTlBVVF9DQU5DRUw6IElOUFVUX0NBTkNFTCxcblxuICAgIFNUQVRFX1BPU1NJQkxFOiBTVEFURV9QT1NTSUJMRSxcbiAgICBTVEFURV9CRUdBTjogU1RBVEVfQkVHQU4sXG4gICAgU1RBVEVfQ0hBTkdFRDogU1RBVEVfQ0hBTkdFRCxcbiAgICBTVEFURV9FTkRFRDogU1RBVEVfRU5ERUQsXG4gICAgU1RBVEVfUkVDT0dOSVpFRDogU1RBVEVfUkVDT0dOSVpFRCxcbiAgICBTVEFURV9DQU5DRUxMRUQ6IFNUQVRFX0NBTkNFTExFRCxcbiAgICBTVEFURV9GQUlMRUQ6IFNUQVRFX0ZBSUxFRCxcblxuICAgIERJUkVDVElPTl9OT05FOiBESVJFQ1RJT05fTk9ORSxcbiAgICBESVJFQ1RJT05fTEVGVDogRElSRUNUSU9OX0xFRlQsXG4gICAgRElSRUNUSU9OX1JJR0hUOiBESVJFQ1RJT05fUklHSFQsXG4gICAgRElSRUNUSU9OX1VQOiBESVJFQ1RJT05fVVAsXG4gICAgRElSRUNUSU9OX0RPV046IERJUkVDVElPTl9ET1dOLFxuICAgIERJUkVDVElPTl9IT1JJWk9OVEFMOiBESVJFQ1RJT05fSE9SSVpPTlRBTCxcbiAgICBESVJFQ1RJT05fVkVSVElDQUw6IERJUkVDVElPTl9WRVJUSUNBTCxcbiAgICBESVJFQ1RJT05fQUxMOiBESVJFQ1RJT05fQUxMLFxuXG4gICAgTWFuYWdlcjogTWFuYWdlcixcbiAgICBJbnB1dDogSW5wdXQsXG4gICAgVG91Y2hBY3Rpb246IFRvdWNoQWN0aW9uLFxuXG4gICAgVG91Y2hJbnB1dDogVG91Y2hJbnB1dCxcbiAgICBNb3VzZUlucHV0OiBNb3VzZUlucHV0LFxuICAgIFBvaW50ZXJFdmVudElucHV0OiBQb2ludGVyRXZlbnRJbnB1dCxcbiAgICBUb3VjaE1vdXNlSW5wdXQ6IFRvdWNoTW91c2VJbnB1dCxcbiAgICBTaW5nbGVUb3VjaElucHV0OiBTaW5nbGVUb3VjaElucHV0LFxuXG4gICAgUmVjb2duaXplcjogUmVjb2duaXplcixcbiAgICBBdHRyUmVjb2duaXplcjogQXR0clJlY29nbml6ZXIsXG4gICAgVGFwOiBUYXBSZWNvZ25pemVyLFxuICAgIFBhbjogUGFuUmVjb2duaXplcixcbiAgICBTd2lwZTogU3dpcGVSZWNvZ25pemVyLFxuICAgIFBpbmNoOiBQaW5jaFJlY29nbml6ZXIsXG4gICAgUm90YXRlOiBSb3RhdGVSZWNvZ25pemVyLFxuICAgIFByZXNzOiBQcmVzc1JlY29nbml6ZXIsXG5cbiAgICBvbjogYWRkRXZlbnRMaXN0ZW5lcnMsXG4gICAgb2ZmOiByZW1vdmVFdmVudExpc3RlbmVycyxcbiAgICBlYWNoOiBlYWNoLFxuICAgIG1lcmdlOiBtZXJnZSxcbiAgICBleHRlbmQ6IGV4dGVuZCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBpbmhlcml0OiBpbmhlcml0LFxuICAgIGJpbmRGbjogYmluZEZuLFxuICAgIHByZWZpeGVkOiBwcmVmaXhlZFxufSk7XG5cbi8vIHRoaXMgcHJldmVudHMgZXJyb3JzIHdoZW4gSGFtbWVyIGlzIGxvYWRlZCBpbiB0aGUgcHJlc2VuY2Ugb2YgYW4gQU1EXG4vLyAgc3R5bGUgbG9hZGVyIGJ1dCBieSBzY3JpcHQgdGFnLCBub3QgYnkgdGhlIGxvYWRlci5cbnZhciBmcmVlR2xvYmFsID0gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB7fSkpOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcbmZyZWVHbG9iYWwuSGFtbWVyID0gSGFtbWVyO1xuXG5pZiAodHlwZW9mIHVuZGVmaW5lZCA9PT0gJ2Z1bmN0aW9uJyAmJiB1bmRlZmluZWQuYW1kKSB7XG4gICAgdW5kZWZpbmVkKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gSGFtbWVyO1xuICAgIH0pO1xufSBlbHNlIGlmIChtb2R1bGUuZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gSGFtbWVyO1xufSBlbHNlIHtcbiAgICB3aW5kb3dbZXhwb3J0TmFtZV0gPSBIYW1tZXI7XG59XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsICdIYW1tZXInKTtcbn0pO1xuXG4vKipcclxuICogTXV1cmkgVGlja2VyXHJcbiAqIENvcHlyaWdodCAoYykgMjAxOC1wcmVzZW50LCBOaWtsYXMgUsOkbcO2IDxpbnJhbW9AZ21haWwuY29tPlxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL3NyYy9UaWNrZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuZnVuY3Rpb24gcmFmRmFsbGJhY2soY2IpIHtcbiAgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGNiLCAxNik7XG59XG5cbnZhciByYWYgPSAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHJhZkZhbGxiYWNrKS5iaW5kKHdpbmRvdyk7XG5cbi8qKlxyXG4gKiBBIHRpY2tlciBzeXN0ZW0gZm9yIGhhbmRsaW5nIERPTSByZWFkcyBhbmQgd3JpdGVzIGluIGFuIGVmZmljaWVudCB3YXkuXHJcbiAqIENvbnRhaW5zIGEgcmVhZCBxdWV1ZSBhbmQgYSB3cml0ZSBxdWV1ZSB0aGF0IGFyZSBwcm9jZXNzZWQgb24gdGhlIG5leHRcclxuICogYW5pbWF0aW9uIGZyYW1lIHdoZW4gbmVlZGVkLlxyXG4gKlxyXG4gKiBAY2xhc3NcclxuICovXG5cbnZhciBUaWNrZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhUaWNrZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFRpY2tlcigpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBUaWNrZXIpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGlja2VyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGlja2VyKSkuY2FsbCh0aGlzKSk7XG5cbiAgICBfdGhpcy5fbmV4dFRpY2sgPSBudWxsO1xuXG4gICAgX3RoaXMuX3F1ZXVlID0gW107XG4gICAgX3RoaXMuX3JlYWRzID0ge307XG4gICAgX3RoaXMuX3dyaXRlcyA9IHt9O1xuXG4gICAgX3RoaXMuX2JhdGNoID0gW107XG4gICAgX3RoaXMuX2JhdGNoUmVhZHMgPSB7fTtcbiAgICBfdGhpcy5fYmF0Y2hXcml0ZXMgPSB7fTtcblxuICAgIF90aGlzLl9mbHVzaCA9IF90aGlzLl9mbHVzaC5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhUaWNrZXIsIFt7XG4gICAga2V5OiAnYWRkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGlkLCByZWFkQ2FsbGJhY2ssIHdyaXRlQ2FsbGJhY2ssIGlzSW1wb3J0YW50KSB7XG4gICAgICAvLyBGaXJzdCwgbGV0J3MgY2hlY2sgaWYgYW4gaXRlbSBoYXMgYmVlbiBhZGRlZCB0byB0aGUgcXVldWVzIHdpdGggdGhlIHNhbWUgaWRcbiAgICAgIC8vIGFuZCBpZiBzbyAtPiByZW1vdmUgaXQuXG4gICAgICB2YXIgY3VycmVudEluZGV4ID0gdGhpcy5fcXVldWUuaW5kZXhPZihpZCk7XG4gICAgICBpZiAoY3VycmVudEluZGV4ID4gLTEpIHRoaXMuX3F1ZXVlW2N1cnJlbnRJbmRleF0gPSB1bmRlZmluZWQ7XG5cbiAgICAgIC8vIEFkZCBhbGwgaW1wb3J0YW50IGNhbGxiYWNrcyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBxdWV1ZSBhbmQgb3RoZXJcbiAgICAgIC8vIGNhbGxiYWNrcyB0byB0aGUgZW5kIG9mIHRoZSBxdWV1ZS5cbiAgICAgIGlzSW1wb3J0YW50ID8gdGhpcy5fcXVldWUudW5zaGlmdChpZCkgOiB0aGlzLl9xdWV1ZS5wdXNoKGlkKTtcblxuICAgICAgLy8gU3RvcmUgY2FsbGJhY2tzLlxuICAgICAgdGhpcy5fcmVhZHNbaWRdID0gcmVhZENhbGxiYWNrO1xuICAgICAgdGhpcy5fd3JpdGVzW2lkXSA9IHdyaXRlQ2FsbGJhY2s7XG5cbiAgICAgIC8vIEZpbmFsbHksIGxldCdzIGtpY2stc3RhcnQgdGhlIG5leHQgdGljayBpZiBpdCBpcyBub3QgcnVubmluZyB5ZXQuXG4gICAgICBpZiAoIXRoaXMuX25leHRUaWNrKSB0aGlzLl9uZXh0VGljayA9IHJhZih0aGlzLl9mbHVzaCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2FuY2VsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2FuY2VsKGlkKSB7XG4gICAgICB2YXIgY3VycmVudEluZGV4ID0gdGhpcy5fcXVldWUuaW5kZXhPZihpZCk7XG4gICAgICBpZiAoY3VycmVudEluZGV4ID4gLTEpIHtcbiAgICAgICAgdGhpcy5fcXVldWVbY3VycmVudEluZGV4XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fcmVhZHNbaWRdID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl93cml0ZXNbaWRdID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ19mbHVzaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9mbHVzaCgpIHtcbiAgICAgIHZhciBxdWV1ZSA9IHRoaXMuX3F1ZXVlO1xuICAgICAgdmFyIHJlYWRzID0gdGhpcy5fcmVhZHM7XG4gICAgICB2YXIgd3JpdGVzID0gdGhpcy5fd3JpdGVzO1xuICAgICAgdmFyIGJhdGNoID0gdGhpcy5fYmF0Y2g7XG4gICAgICB2YXIgYmF0Y2hSZWFkcyA9IHRoaXMuX2JhdGNoUmVhZHM7XG4gICAgICB2YXIgYmF0Y2hXcml0ZXMgPSB0aGlzLl9iYXRjaFdyaXRlcztcbiAgICAgIHZhciBsZW5ndGggPSBxdWV1ZS5sZW5ndGg7XG4gICAgICB2YXIgaWQgPSB2b2lkIDA7XG4gICAgICB2YXIgaSA9IHZvaWQgMDtcblxuICAgICAgLy8gUmVzZXQgdGlja2VyLlxuICAgICAgdGhpcy5fbmV4dFRpY2sgPSBudWxsO1xuXG4gICAgICAvLyBTZXR1cCBxdWV1ZXMgYW5kIGNhbGxiYWNrIHBsYWNlaG9sZGVycy5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZCA9IHF1ZXVlW2ldO1xuICAgICAgICBpZiAoIWlkKSBjb250aW51ZTtcblxuICAgICAgICBiYXRjaC5wdXNoKGlkKTtcblxuICAgICAgICBiYXRjaFJlYWRzW2lkXSA9IHJlYWRzW2lkXTtcbiAgICAgICAgcmVhZHNbaWRdID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGJhdGNoV3JpdGVzW2lkXSA9IHdyaXRlc1tpZF07XG4gICAgICAgIHdyaXRlc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlc2V0IHF1ZXVlLlxuICAgICAgcXVldWUubGVuZ3RoID0gMDtcblxuICAgICAgLy8gUHJvY2VzcyByZWFkIGNhbGxiYWNrcy5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZCA9IGJhdGNoW2ldO1xuICAgICAgICBpZiAoYmF0Y2hSZWFkc1tpZF0pIHtcbiAgICAgICAgICBiYXRjaFJlYWRzW2lkXSgpO1xuICAgICAgICAgIGJhdGNoUmVhZHNbaWRdID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFByb2Nlc3Mgd3JpdGUgY2FsbGJhY2tzLlxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlkID0gYmF0Y2hbaV07XG4gICAgICAgIGlmIChiYXRjaFdyaXRlc1tpZF0pIHtcbiAgICAgICAgICBiYXRjaFdyaXRlc1tpZF0oKTtcbiAgICAgICAgICBiYXRjaFdyaXRlc1tpZF0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVzZXQgYmF0Y2guXG4gICAgICBiYXRjaC5sZW5ndGggPSAwO1xuXG4gICAgICAvLyBSZXN0YXJ0IHRoZSB0aWNrZXIgaWYgbmVlZGVkLlxuICAgICAgaWYgKCF0aGlzLl9uZXh0VGljayAmJiBxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5fbmV4dFRpY2sgPSByYWYodGhpcy5fZmx1c2gpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gVGlja2VyO1xufShDb21wb25lbnQpO1xuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxudmFyIHRpY2tlciA9IG5ldyBUaWNrZXIoKTtcblxudmFyIGxheW91dFRpY2sgPSAnbGF5b3V0JztcbnZhciB2aXNpYmlsaXR5VGljayA9ICd2aXNpYmlsaXR5JztcbnZhciBtb3ZlVGljayA9ICdtb3ZlJztcbnZhciBzY3JvbGxUaWNrID0gJ3Njcm9sbCc7XG5cbmZ1bmN0aW9uIGFkZExheW91dFRpY2soaXRlbUlkLCByZWFkQ2FsbGJhY2ssIHdyaXRlQ2FsbGJhY2spIHtcbiAgcmV0dXJuIHRpY2tlci5hZGQoaXRlbUlkICsgbGF5b3V0VGljaywgcmVhZENhbGxiYWNrLCB3cml0ZUNhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGNhbmNlbExheW91dFRpY2soaXRlbUlkKSB7XG4gIHJldHVybiB0aWNrZXIuY2FuY2VsKGl0ZW1JZCArIGxheW91dFRpY2spO1xufVxuZnVuY3Rpb24gYWRkVmlzaWJpbGl0eVRpY2soaXRlbUlkLCByZWFkQ2FsbGJhY2ssIHdyaXRlQ2FsbGJhY2spIHtcbiAgcmV0dXJuIHRpY2tlci5hZGQoaXRlbUlkICsgdmlzaWJpbGl0eVRpY2ssIHJlYWRDYWxsYmFjaywgd3JpdGVDYWxsYmFjayk7XG59XG5mdW5jdGlvbiBjYW5jZWxWaXNpYmlsaXR5VGljayhpdGVtSWQpIHtcbiAgcmV0dXJuIHRpY2tlci5jYW5jZWwoaXRlbUlkICsgdmlzaWJpbGl0eVRpY2spO1xufVxuZnVuY3Rpb24gYWRkTW92ZVRpY2soaXRlbUlkLCByZWFkQ2FsbGJhY2ssIHdyaXRlQ2FsbGJhY2spIHtcbiAgcmV0dXJuIHRpY2tlci5hZGQoaXRlbUlkICsgbW92ZVRpY2ssIHJlYWRDYWxsYmFjaywgd3JpdGVDYWxsYmFjaywgdHJ1ZSk7XG59XG5mdW5jdGlvbiBjYW5jZWxNb3ZlVGljayhpdGVtSWQpIHtcbiAgcmV0dXJuIHRpY2tlci5jYW5jZWwoaXRlbUlkICsgbW92ZVRpY2spO1xufVxuZnVuY3Rpb24gYWRkU2Nyb2xsVGljayhpdGVtSWQsIHJlYWRDYWxsYmFjaywgd3JpdGVDYWxsYmFjaykge1xuICByZXR1cm4gdGlja2VyLmFkZChpdGVtSWQgKyBzY3JvbGxUaWNrLCByZWFkQ2FsbGJhY2ssIHdyaXRlQ2FsbGJhY2ssIHRydWUpO1xufVxuZnVuY3Rpb24gY2FuY2VsU2Nyb2xsVGljayhpdGVtSWQpIHtcbiAgcmV0dXJuIHRpY2tlci5jYW5jZWwoaXRlbUlkICsgc2Nyb2xsVGljayk7XG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgSGFsdHUgT3lcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oYWx0dS9tdXVyaS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcbiAqL1xuXG52YXIgcHJvdG8gPSBFbGVtZW50LnByb3RvdHlwZTtcbnZhciBtYXRjaGVzID0gcHJvdG8ubWF0Y2hlcyB8fCBwcm90by5tYXRjaGVzU2VsZWN0b3IgfHwgcHJvdG8ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8IHByb3RvLm1vek1hdGNoZXNTZWxlY3RvciB8fCBwcm90by5tc01hdGNoZXNTZWxlY3RvciB8fCBwcm90by5vTWF0Y2hlc1NlbGVjdG9yO1xuXG4vKipcclxuICogQ2hlY2sgaWYgZWxlbWVudCBtYXRjaGVzIGEgQ1NTIHNlbGVjdG9yLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbFxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICovXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlcyhlbCwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIG1hdGNoZXMuY2FsbChlbCwgc2VsZWN0b3IpO1xufVxuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuLyoqXHJcbiAqIEFkZCBjbGFzcyB0byBhbiBlbGVtZW50LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWVcclxuICovXG5mdW5jdGlvbiBhZGRDbGFzc01vZGVybihlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG59XG5cbi8qKlxyXG4gKiBBZGQgY2xhc3MgdG8gYW4gZWxlbWVudCAobGVnYWN5IHZlcnNpb24sIGZvciBJRTkgc3VwcG9ydCkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZVxyXG4gKi9cbmZ1bmN0aW9uIGFkZENsYXNzTGVnYWN5KGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBpZiAoIWVsZW1lbnRNYXRjaGVzKGVsZW1lbnQsICcuJyArIGNsYXNzTmFtZSkpIHtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XG4gIH1cbn1cblxudmFyIGFkZENsYXNzID0gJ2NsYXNzTGlzdCcgaW4gRWxlbWVudC5wcm90b3R5cGUgPyBhZGRDbGFzc01vZGVybiA6IGFkZENsYXNzTGVnYWN5O1xuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhcnJheSBpbmRleC4gQmFzaWNhbGx5IHRoaXMgZnVuY3Rpb24gbWFrZXMgc3VyZSB0aGF0IHRoZSBwcm92aWRlZFxyXG4gKiBhcnJheSBpbmRleCBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgcHJvdmlkZWQgYXJyYXkgYW5kIGFsc28gdHJhbnNmb3Jtc1xyXG4gKiBuZWdhdGl2ZSBpbmRleCB0byB0aGUgbWF0Y2hpbmcgcG9zaXRpdmUgaW5kZXguXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleFxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzTWlncmF0aW9uXHJcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplQXJyYXlJbmRleChhcnJheSwgaW5kZXgsIGlzTWlncmF0aW9uKSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHZhciBtYXhJbmRleCA9IE1hdGgubWF4KDAsIGlzTWlncmF0aW9uID8gbGVuZ3RoIDogbGVuZ3RoIC0gMSk7XG4gIHJldHVybiBpbmRleCA+IG1heEluZGV4ID8gbWF4SW5kZXggOiBpbmRleCA8IDAgPyBNYXRoLm1heChtYXhJbmRleCArIGluZGV4ICsgMSwgMCkgOiBpbmRleDtcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbi8qKlxyXG4gKiBNb3ZlIGFycmF5IGl0ZW0gdG8gYW5vdGhlciBpbmRleC5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcclxuICogQHBhcmFtIHtOdW1iZXJ9IGZyb21JbmRleFxyXG4gKiAgIC0gSW5kZXggKHBvc2l0aXZlIG9yIG5lZ2F0aXZlKSBvZiB0aGUgaXRlbSB0aGF0IHdpbGwgYmUgbW92ZWQuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB0b0luZGV4XHJcbiAqICAgLSBJbmRleCAocG9zaXRpdmUgb3IgbmVnYXRpdmUpIHdoZXJlIHRoZSBpdGVtIHNob3VsZCBiZSBtb3ZlZCB0by5cclxuICovXG5mdW5jdGlvbiBhcnJheU1vdmUoYXJyYXksIGZyb21JbmRleCwgdG9JbmRleCkge1xuICAvLyBNYWtlIHN1cmUgdGhlIGFycmF5IGhhcyB0d28gb3IgbW9yZSBpdGVtcy5cbiAgaWYgKGFycmF5Lmxlbmd0aCA8IDIpIHJldHVybjtcblxuICAvLyBOb3JtYWxpemUgdGhlIGluZGljZXMuXG4gIHZhciBmcm9tID0gbm9ybWFsaXplQXJyYXlJbmRleChhcnJheSwgZnJvbUluZGV4KTtcbiAgdmFyIHRvID0gbm9ybWFsaXplQXJyYXlJbmRleChhcnJheSwgdG9JbmRleCk7XG5cbiAgLy8gQWRkIHRhcmdldCBpdGVtIHRvIHRoZSBuZXcgcG9zaXRpb24uXG4gIGlmIChmcm9tICE9PSB0bykge1xuICAgIGFycmF5LnNwbGljZSh0bywgMCwgYXJyYXkuc3BsaWNlKGZyb20sIDEpWzBdKTtcbiAgfVxufVxuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuLyoqXHJcbiAqIFN3YXAgYXJyYXkgaXRlbXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleFxyXG4gKiAgIC0gSW5kZXggKHBvc2l0aXZlIG9yIG5lZ2F0aXZlKSBvZiB0aGUgaXRlbSB0aGF0IHdpbGwgYmUgc3dhcHBlZC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IHdpdGhJbmRleFxyXG4gKiAgIC0gSW5kZXggKHBvc2l0aXZlIG9yIG5lZ2F0aXZlKSBvZiB0aGUgb3RoZXIgaXRlbSB0aGF0IHdpbGwgYmUgc3dhcHBlZC5cclxuICovXG5mdW5jdGlvbiBhcnJheVN3YXAoYXJyYXksIGluZGV4LCB3aXRoSW5kZXgpIHtcbiAgLy8gTWFrZSBzdXJlIHRoZSBhcnJheSBoYXMgdHdvIG9yIG1vcmUgaXRlbXMuXG4gIGlmIChhcnJheS5sZW5ndGggPCAyKSByZXR1cm47XG5cbiAgLy8gTm9ybWFsaXplIHRoZSBpbmRpY2VzLlxuICB2YXIgaW5kZXhBID0gbm9ybWFsaXplQXJyYXlJbmRleChhcnJheSwgaW5kZXgpO1xuICB2YXIgaW5kZXhCID0gbm9ybWFsaXplQXJyYXlJbmRleChhcnJheSwgd2l0aEluZGV4KTtcbiAgdmFyIHRlbXAgPSB2b2lkIDA7XG5cbiAgLy8gU3dhcCB0aGUgaXRlbXMuXG4gIGlmIChpbmRleEEgIT09IGluZGV4Qikge1xuICAgIHRlbXAgPSBhcnJheVtpbmRleEFdO1xuICAgIGFycmF5W2luZGV4QV0gPSBhcnJheVtpbmRleEJdO1xuICAgIGFycmF5W2luZGV4Ql0gPSB0ZW1wO1xuICB9XG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgSGFsdHUgT3lcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oYWx0dS9tdXVyaS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcbiAqL1xuXG52YXIgYWN0aW9uQ2FuY2VsID0gJ2NhbmNlbCc7XG52YXIgYWN0aW9uRmluaXNoID0gJ2ZpbmlzaCc7XG5cbi8qKlxyXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XHJcbiAqIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3JcclxuICogTiBtaWxsaXNlY29uZHMuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiBhY2NlcHRzIG9uZSBhcmd1bWVudCB3aGljaCwgd2hlblxyXG4gKiBiZWluZyBcImZpbmlzaFwiLCBjYWxscyB0aGUgZGVib3VuY2UgZnVuY3Rpb24gaW1tZWRpYXRlbHkgaWYgaXQgaXMgY3VycmVudGx5XHJcbiAqIHdhaXRpbmcgdG8gYmUgY2FsbGVkLCBhbmQgd2hlbiBiZWluZyBcImNhbmNlbFwiIGNhbmNlbHMgdGhlIGN1cnJlbnRseSBxdWV1ZWRcclxuICogZnVuY3Rpb24gY2FsbC5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cclxuICogQHBhcmFtIHtOdW1iZXJ9IHdhaXRcclxuICogQHJldHVybnMge0Z1bmN0aW9ufVxyXG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZuLCB3YWl0KSB7XG4gIHZhciB0aW1lb3V0ID0gdm9pZCAwO1xuXG4gIGlmICh3YWl0ID4gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBpZiAodGltZW91dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRpbWVvdXQgPSB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICBpZiAoYWN0aW9uID09PSBhY3Rpb25GaW5pc2gpIGZuKCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhY3Rpb24gIT09IGFjdGlvbkNhbmNlbCAmJiBhY3Rpb24gIT09IGFjdGlvbkZpbmlzaCkge1xuICAgICAgICB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgZm4oKTtcbiAgICAgICAgfSwgd2FpdCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgaWYgKGFjdGlvbiAhPT0gYWN0aW9uQ2FuY2VsKSBmbigpO1xuICB9O1xufVxuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiBlbGVtZW50IGlzIHRyYW5zZm9ybWVkLCBmYWxzZSBpZiBub3QuIEluIHByYWN0aWNlIHRoZVxyXG4gKiBlbGVtZW50J3MgZGlzcGxheSB2YWx1ZSBtdXN0IGJlIGFueXRoaW5nIGVsc2UgdGhhbiBcIm5vbmVcIiBvciBcImlubGluZVwiIGFzXHJcbiAqIHdlbGwgYXMgaGF2ZSBhIHZhbGlkIHRyYW5zZm9ybSB2YWx1ZSBhcHBsaWVkIGluIG9yZGVyIHRvIGJlIGNvdW50ZWQgYXMgYVxyXG4gKiB0cmFuc2Zvcm1lZCBlbGVtZW50LlxyXG4gKlxyXG4gKiBCb3Jyb3dlZCBmcm9tIE1lenIgKHYwLjYuMSk6XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXNyYW1vL21lenIvYmxvYi8wLjYuMS9tZXpyLmpzI0w2NjFcclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICovXG5mdW5jdGlvbiBpc1RyYW5zZm9ybWVkKGVsZW1lbnQpIHtcbiAgdmFyIHRyYW5zZm9ybSA9IGdldFN0eWxlKGVsZW1lbnQsICd0cmFuc2Zvcm0nKTtcbiAgaWYgKCF0cmFuc2Zvcm0gfHwgdHJhbnNmb3JtID09PSAnbm9uZScpIHJldHVybiBmYWxzZTtcblxuICB2YXIgZGlzcGxheSA9IGdldFN0eWxlKGVsZW1lbnQsICdkaXNwbGF5Jyk7XG4gIGlmIChkaXNwbGF5ID09PSAnaW5saW5lJyB8fCBkaXNwbGF5ID09PSAnbm9uZScpIHJldHVybiBmYWxzZTtcblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbi8qKlxyXG4gKiBSZXR1cm5zIGFuIGFic29sdXRlIHBvc2l0aW9uZWQgZWxlbWVudCdzIGNvbnRhaW5pbmcgYmxvY2ssIHdoaWNoIGlzXHJcbiAqIGNvbnNpZGVyZWQgdG8gYmUgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgZWxlbWVudCB0aGF0IHRoZSB0YXJnZXQgZWxlbWVudCdzXHJcbiAqIHBvc2l0aW9uaW5nIGlzIHJlbGF0aXZlIHRvLiBEaXNjbGFpbWVyOiB0aGlzIG9ubHkgd29ya3MgYXMgaW50ZW5kZWQgZm9yXHJcbiAqIGFic29sdXRlIHBvc2l0aW9uZWQgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtCb29sZWFufSBbaW5jbHVkZVNlbGY9ZmFsc2VdXHJcbiAqICAgLSBXaGVuIHRoaXMgaXMgc2V0IHRvIHRydWUgdGhlIGNvbnRhaW5pbmcgYmxvY2sgY2hlY2tpbmcgaXMgc3RhcnRlZCBmcm9tXHJcbiAqICAgICB0aGUgcHJvdmlkZWQgZWxlbWVudC4gT3RoZXJ3aXNlIHRoZSBjaGVja2luZyBpcyBzdGFydGVkIGZyb20gdGhlXHJcbiAqICAgICBwcm92aWRlZCBlbGVtZW50J3MgcGFyZW50IGVsZW1lbnQuXHJcbiAqIEByZXR1cm5zIHsoRG9jdW1lbnR8RWxlbWVudCl9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0Q29udGFpbmluZ0Jsb2NrKGVsZW1lbnQsIGluY2x1ZGVTZWxmKSB7XG4gIC8vIEFzIGxvbmcgYXMgdGhlIGNvbnRhaW5pbmcgYmxvY2sgaXMgYW4gZWxlbWVudCwgc3RhdGljIGFuZCBub3RcbiAgLy8gdHJhbnNmb3JtZWQsIHRyeSB0byBnZXQgdGhlIGVsZW1lbnQncyBwYXJlbnQgZWxlbWVudCBhbmQgZmFsbGJhY2sgdG9cbiAgLy8gZG9jdW1lbnQuIGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXNyYW1vL21lenIvYmxvYi8wLjYuMS9tZXpyLmpzI0wzMzlcbiAgdmFyIHJldCA9IChpbmNsdWRlU2VsZiA/IGVsZW1lbnQgOiBlbGVtZW50LnBhcmVudEVsZW1lbnQpIHx8IGRvY3VtZW50O1xuICB3aGlsZSAocmV0ICYmIHJldCAhPT0gZG9jdW1lbnQgJiYgZ2V0U3R5bGUocmV0LCAncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycgJiYgIWlzVHJhbnNmb3JtZWQocmV0KSkge1xuICAgIHJldCA9IHJldC5wYXJlbnRFbGVtZW50IHx8IGRvY3VtZW50O1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgSGFsdHUgT3lcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oYWx0dS9tdXVyaS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcbiAqL1xuXG4vKipcclxuICogUmV0dXJucyB0aGUgY29tcHV0ZWQgdmFsdWUgb2YgYW4gZWxlbWVudCdzIHN0eWxlIHByb3BlcnR5IHRyYW5zZm9ybWVkIGludG9cclxuICogYSBmbG9hdCB2YWx1ZS5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxcclxuICogQHBhcmFtIHtTdHJpbmd9IHN0eWxlXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGVBc0Zsb2F0KGVsLCBzdHlsZSkge1xuICByZXR1cm4gcGFyc2VGbG9hdChnZXRTdHlsZShlbCwgc3R5bGUpKSB8fCAwO1xufVxuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxudmFyIG9mZnNldEEgPSB7fTtcbnZhciBvZmZzZXRCID0ge307XG52YXIgb2Zmc2V0RGlmZiA9IHt9O1xuXG4vKipcclxuICogUmV0dXJucyB0aGUgZWxlbWVudCdzIGRvY3VtZW50IG9mZnNldCwgd2hpY2ggaW4gcHJhY3RpY2UgbWVhbnMgdGhlIHZlcnRpY2FsXHJcbiAqIGFuZCBob3Jpem9udGFsIGRpc3RhbmNlIGJldHdlZW4gdGhlIGVsZW1lbnQncyBub3J0aHdlc3QgY29ybmVyIGFuZCB0aGVcclxuICogZG9jdW1lbnQncyBub3J0aHdlc3QgY29ybmVyLiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBhbHdheXMgcmV0dXJucyB0aGUgc2FtZVxyXG4gKiBvYmplY3Qgc28gYmUgc3VyZSB0byByZWFkIHRoZSBkYXRhIGZyb20gaXQgaW5zdGVhZCB1c2luZyBpdCBhcyBhIHJlZmVyZW5jZS5cclxuICpcclxuICogQHBhcmFtIHsoRG9jdW1lbnR8RWxlbWVudHxXaW5kb3cpfSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2Zmc2V0RGF0YV1cclxuICogICAtIE9wdGlvbmFsIGRhdGEgb2JqZWN0IHdoZXJlIHRoZSBvZmZzZXQgZGF0YSB3aWxsIGJlIGluc2VydGVkIHRvLiBJZiBub3RcclxuICogICAgIHByb3ZpZGVkIGEgbmV3IG9iamVjdCB3aWxsIGJlIGNyZWF0ZWQgZm9yIHRoZSByZXR1cm4gZGF0YS5cclxuICogQHJldHVybnMge09iamVjdH1cclxuICovXG5mdW5jdGlvbiBnZXRPZmZzZXQoZWxlbWVudCwgb2Zmc2V0RGF0YSkge1xuICB2YXIgcmV0ID0gb2Zmc2V0RGF0YSB8fCB7fTtcbiAgdmFyIHJlY3QgPSB2b2lkIDA7XG5cbiAgLy8gU2V0IHVwIHJldHVybiBkYXRhLlxuICByZXQubGVmdCA9IDA7XG4gIHJldC50b3AgPSAwO1xuXG4gIC8vIERvY3VtZW50J3Mgb2Zmc2V0cyBhcmUgYWx3YXlzIDAuXG4gIGlmIChlbGVtZW50ID09PSBkb2N1bWVudCkgcmV0dXJuIHJldDtcblxuICAvLyBBZGQgdmlld3BvcnQgc2Nyb2xsIGxlZnQvdG9wIHRvIHRoZSByZXNwZWN0aXZlIG9mZnNldHMuXG4gIHJldC5sZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IDA7XG4gIHJldC50b3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgMDtcblxuICAvLyBXaW5kb3cncyBvZmZzZXRzIGFyZSB0aGUgdmlld3BvcnQgc2Nyb2xsIGxlZnQvdG9wIHZhbHVlcy5cbiAgaWYgKGVsZW1lbnQuc2VsZiA9PT0gd2luZG93LnNlbGYpIHJldHVybiByZXQ7XG5cbiAgLy8gQWRkIGVsZW1lbnQncyBjbGllbnQgcmVjdHMgdG8gdGhlIG9mZnNldHMuXG4gIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICByZXQubGVmdCArPSByZWN0LmxlZnQ7XG4gIHJldC50b3AgKz0gcmVjdC50b3A7XG5cbiAgLy8gRXhjbHVkZSBlbGVtZW50J3MgYm9yZGVycyBmcm9tIHRoZSBvZmZzZXQuXG4gIHJldC5sZWZ0ICs9IGdldFN0eWxlQXNGbG9hdChlbGVtZW50LCAnYm9yZGVyLWxlZnQtd2lkdGgnKTtcbiAgcmV0LnRvcCArPSBnZXRTdHlsZUFzRmxvYXQoZWxlbWVudCwgJ2JvcmRlci10b3Atd2lkdGgnKTtcblxuICByZXR1cm4gcmV0O1xufVxuXG4vKipcclxuICogQ2FsY3VsYXRlIHRoZSBvZmZzZXQgZGlmZmVyZW5jZSB0d28gZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1BXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1CXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbXBhcmVDb250YWluaW5nQmxvY2tzPWZhbHNlXVxyXG4gKiAgIC0gV2hlbiB0aGlzIGlzIHNldCB0byB0cnVlIHRoZSBjb250YWluaW5nIGJsb2NrcyBvZiB0aGUgcHJvdmlkZWQgZWxlbWVudHNcclxuICogICAgIHdpbGwgYmUgdXNlZCBmb3IgY2FsY3VsYXRpbmcgdGhlIGRpZmZlcmVuY2UuIE90aGVyd2lzZSB0aGUgcHJvdmlkZWRcclxuICogICAgIGVsZW1lbnRzIHdpbGwgYmUgY29tcGFyZWQgZGlyZWN0bHkuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0T2Zmc2V0RGlmZihlbGVtQSwgZWxlbUIsIGNvbXBhcmVDb250YWluaW5nQmxvY2tzKSB7XG4gIG9mZnNldERpZmYubGVmdCA9IDA7XG4gIG9mZnNldERpZmYudG9wID0gMDtcblxuICAvLyBJZiBlbGVtZW50cyBhcmUgc2FtZSBsZXQncyByZXR1cm4gZWFybHkuXG4gIGlmIChlbGVtQSA9PT0gZWxlbUIpIHJldHVybiBvZmZzZXREaWZmO1xuXG4gIC8vIENvbXBhcmUgY29udGFpbmluZyBibG9ja3MgaWYgbmVjZXNzYXJ5LlxuICBpZiAoY29tcGFyZUNvbnRhaW5pbmdCbG9ja3MpIHtcbiAgICBlbGVtQSA9IGdldENvbnRhaW5pbmdCbG9jayhlbGVtQSwgdHJ1ZSk7XG4gICAgZWxlbUIgPSBnZXRDb250YWluaW5nQmxvY2soZWxlbUIsIHRydWUpO1xuXG4gICAgLy8gSWYgY29udGFpbmluZyBibG9ja3MgYXJlIGlkZW50aWNhbCwgbGV0J3MgcmV0dXJuIGVhcmx5LlxuICAgIGlmIChlbGVtQSA9PT0gZWxlbUIpIHJldHVybiBvZmZzZXREaWZmO1xuICB9XG5cbiAgLy8gRmluYWxseSwgbGV0J3MgY2FsY3VsYXRlIHRoZSBvZmZzZXQgZGlmZi5cbiAgZ2V0T2Zmc2V0KGVsZW1BLCBvZmZzZXRBKTtcbiAgZ2V0T2Zmc2V0KGVsZW1CLCBvZmZzZXRCKTtcbiAgb2Zmc2V0RGlmZi5sZWZ0ID0gb2Zmc2V0Qi5sZWZ0IC0gb2Zmc2V0QS5sZWZ0O1xuICBvZmZzZXREaWZmLnRvcCA9IG9mZnNldEIudG9wIC0gb2Zmc2V0QS50b3A7XG5cbiAgcmV0dXJuIG9mZnNldERpZmY7XG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgSGFsdHUgT3lcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oYWx0dS9tdXVyaS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcbiAqL1xuXG52YXIgdHJhbnNsYXRlRGF0YSA9IHt9O1xuXG4vKipcclxuICogUmV0dXJucyB0aGUgZWxlbWVudCdzIGNvbXB1dGVkIHRyYW5zbGF0ZVggYW5kIHRyYW5zbGF0ZVkgdmFsdWVzIGFzIGEgZmxvYXRzLlxyXG4gKiBUaGUgcmV0dXJuZWQgb2JqZWN0IGlzIGFsd2F5cyB0aGUgc2FtZSBvYmplY3QgYW5kIHVwZGF0ZWQgZXZlcnkgdGltZSB0aGlzXHJcbiAqIGZ1bmN0aW9uIGlzIGNhbGxlZC5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zbGF0ZShlbGVtZW50KSB7XG4gIHRyYW5zbGF0ZURhdGEueCA9IDA7XG4gIHRyYW5zbGF0ZURhdGEueSA9IDA7XG5cbiAgdmFyIHRyYW5zZm9ybSA9IGdldFN0eWxlKGVsZW1lbnQsICd0cmFuc2Zvcm0nKTtcbiAgaWYgKCF0cmFuc2Zvcm0pIHJldHVybiB0cmFuc2xhdGVEYXRhO1xuXG4gIHZhciBtYXRyaXhEYXRhID0gdHJhbnNmb3JtLnJlcGxhY2UoJ21hdHJpeCgnLCAnJykuc3BsaXQoJywnKTtcbiAgdHJhbnNsYXRlRGF0YS54ID0gcGFyc2VGbG9hdChtYXRyaXhEYXRhWzRdKSB8fCAwO1xuICB0cmFuc2xhdGVEYXRhLnkgPSBwYXJzZUZsb2F0KG1hdHJpeERhdGFbNV0pIHx8IDA7XG5cbiAgcmV0dXJuIHRyYW5zbGF0ZURhdGE7XG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgSGFsdHUgT3lcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oYWx0dS9tdXVyaS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcbiAqL1xuXG4vKipcclxuICogVHJhbnNmb3JtIHRyYW5zbGF0ZVggYW5kIHRyYW5zbGF0ZVkgdmFsdWUgaW50byBDU1MgdHJhbnNmb3JtIHN0eWxlXHJcbiAqIHByb3BlcnR5J3MgdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB4XHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB5XHJcbiAqIEByZXR1cm5zIHtTdHJpbmd9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlU3RyaW5nKHgsIHkpIHtcbiAgcmV0dXJuICd0cmFuc2xhdGVYKCcgKyB4ICsgJ3B4KSB0cmFuc2xhdGVZKCcgKyB5ICsgJ3B4KSc7XG59XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgSGFsdHUgT3lcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oYWx0dS9tdXVyaS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcbiAqL1xuXG52YXIgdGVtcEFycmF5ID0gW107XG5cbi8qKlxyXG4gKiBJbnNlcnQgYW4gaXRlbSBvciBhbiBhcnJheSBvZiBpdGVtcyB0byBhcnJheSB0byBhIHNwZWNpZmllZCBpbmRleC4gTXV0YXRlc1xyXG4gKiB0aGUgYXJyYXkuIFRoZSBpbmRleCBjYW4gYmUgbmVnYXRpdmUgaW4gd2hpY2ggY2FzZSB0aGUgaXRlbXMgd2lsbCBiZSBhZGRlZFxyXG4gKiB0byB0aGUgZW5kIG9mIHRoZSBhcnJheS5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYXJyYXlcclxuICogQHBhcmFtIHsqfSBpdGVtc1xyXG4gKiBAcGFyYW0ge051bWJlcn0gW2luZGV4PS0xXVxyXG4gKi9cbmZ1bmN0aW9uIGFycmF5SW5zZXJ0KGFycmF5LCBpdGVtcywgaW5kZXgpIHtcbiAgdmFyIHN0YXJ0SW5kZXggPSB0eXBlb2YgaW5kZXggPT09ICdudW1iZXInID8gaW5kZXggOiAtMTtcbiAgaWYgKHN0YXJ0SW5kZXggPCAwKSBzdGFydEluZGV4ID0gYXJyYXkubGVuZ3RoIC0gc3RhcnRJbmRleCArIDE7XG5cbiAgYXJyYXkuc3BsaWNlLmFwcGx5KGFycmF5LCB0b0NvbnN1bWFibGVBcnJheSh0ZW1wQXJyYXkuY29uY2F0KHN0YXJ0SW5kZXgsIDAsIGl0ZW1zKSkpO1xuICB0ZW1wQXJyYXkubGVuZ3RoID0gMDtcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbnZhciBvYmplY3RUeXBlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcclxuICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWxcclxuICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2YWwpKSA9PT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWwpID09PSBvYmplY3RUeXBlO1xufVxuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuLyoqXHJcbiAqIFJlbW92ZSBjbGFzcyBmcm9tIGFuIGVsZW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZVxyXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzTW9kZXJuKGVsZW1lbnQsIGNsYXNzTmFtZSkge1xuICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbn1cblxuLyoqXHJcbiAqIFJlbW92ZSBjbGFzcyBmcm9tIGFuIGVsZW1lbnQgKGxlZ2FjeSB2ZXJzaW9uLCBmb3IgSUU5IHN1cHBvcnQpLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWVcclxuICovXG5mdW5jdGlvbiByZW1vdmVDbGFzc0xlZ2FjeShlbGVtZW50LCBjbGFzc05hbWUpIHtcbiAgaWYgKGVsZW1lbnRNYXRjaGVzKGVsZW1lbnQsICcuJyArIGNsYXNzTmFtZSkpIHtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9ICgnICcgKyBlbGVtZW50LmNsYXNzTmFtZSArICcgJykucmVwbGFjZSgnICcgKyBjbGFzc05hbWUgKyAnICcsICcgJykudHJpbSgpO1xuICB9XG59XG5cbnZhciByZW1vdmVDbGFzcyA9ICdjbGFzc0xpc3QnIGluIEVsZW1lbnQucHJvdG90eXBlID8gcmVtb3ZlQ2xhc3NNb2Rlcm4gOiByZW1vdmVDbGFzc0xlZ2FjeTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbi8vIFRvIHByb3ZpZGUgY29uc2lzdGVudGx5IGNvcnJlY3QgZHJhZ2dpbmcgZXhwZXJpZW5jZSB3ZSBuZWVkIHRvIGtub3cgaWZcbi8vIHRyYW5zZm9ybWVkIGVsZW1lbnRzIGxlYWsgZml4ZWQgZWxlbWVudHMgb3Igbm90LlxudmFyIGhhc1RyYW5zZm9ybUxlYWsgPSBjaGVja1RyYW5zZm9ybUxlYWsoKTtcblxuLy8gRHJhZyBzdGFydCBwcmVkaWNhdGUgc3RhdGVzLlxudmFyIHN0YXJ0UHJlZGljYXRlSW5hY3RpdmUgPSAwO1xudmFyIHN0YXJ0UHJlZGljYXRlUGVuZGluZyA9IDE7XG52YXIgc3RhcnRQcmVkaWNhdGVSZXNvbHZlZCA9IDI7XG52YXIgc3RhcnRQcmVkaWNhdGVSZWplY3RlZCA9IDM7XG5cbi8qKlxyXG4gKiBCaW5kIEhhbW1lciB0b3VjaCBpbnRlcmFjdGlvbiB0byBhbiBpdGVtLlxyXG4gKlxyXG4gKiBAY2xhc3NcclxuICogQHBhcmFtIHtJdGVtfSBpdGVtXHJcbiAqL1xuXG52YXIgSXRlbURyYWcgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhJdGVtRHJhZywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSXRlbURyYWcoaXRlbSkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEl0ZW1EcmFnKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEl0ZW1EcmFnLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSXRlbURyYWcpKS5jYWxsKHRoaXMsIGl0ZW0pKTtcblxuICAgIGlmICghaGFtbWVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1snICsgbmFtZXNwYWNlICsgJ10gcmVxdWlyZWQgZGVwZW5kZW5jeSBIYW1tZXIgaXMgbm90IGRlZmluZWQuJyk7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIHZhbGlkIHRyYW5zZm9ybSBsZWFrIHRlc3QgcmVzdWx0IHlldCwgbGV0J3MgcnVuIHRoZVxuICAgIC8vIHRlc3Qgb24gZmlyc3QgSXRlbURyYWcgaW5pdC4gVGhlIHRlc3QgbmVlZHMgYm9keSBlbGVtZW50IHRvIGJlIHJlYWR5IGFuZFxuICAgIC8vIGhlcmUgd2UgY2FuIGJlIHN1cmUgdGhhdCBpdCBpcyByZWFkeS5cbiAgICBpZiAoaGFzVHJhbnNmb3JtTGVhayA9PT0gbnVsbCkge1xuICAgICAgaGFzVHJhbnNmb3JtTGVhayA9IGNoZWNrVHJhbnNmb3JtTGVhaygpO1xuICAgIH1cblxuICAgIHZhciBkcmFnID0gX3RoaXM7XG4gICAgdmFyIGVsZW1lbnQgPSBpdGVtLl9lbGVtZW50O1xuICAgIHZhciBncmlkID0gaXRlbS5nZXRHcmlkKCk7XG4gICAgdmFyIHNldHRpbmdzID0gZ3JpZC5fc2V0dGluZ3M7XG4gICAgdmFyIGhhbW1lciQkMSA9IHZvaWQgMDtcblxuICAgIC8vIFN0YXJ0IHByZWRpY2F0ZSBwcml2YXRlIGRhdGEuXG4gICAgdmFyIHN0YXJ0UHJlZGljYXRlID0gdHlwZW9mIHNldHRpbmdzLmRyYWdTdGFydFByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJyA/IHNldHRpbmdzLmRyYWdTdGFydFByZWRpY2F0ZSA6IEl0ZW1EcmFnLmRlZmF1bHRTdGFydFByZWRpY2F0ZTtcbiAgICB2YXIgc3RhcnRQcmVkaWNhdGVTdGF0ZSA9IHN0YXJ0UHJlZGljYXRlSW5hY3RpdmU7XG4gICAgdmFyIHN0YXJ0UHJlZGljYXRlUmVzdWx0ID0gdm9pZCAwO1xuXG4gICAgLy8gUHJvdGVjdGVkIGRhdGEuXG4gICAgX3RoaXMuX2l0ZW0gPSBpdGVtO1xuICAgIF90aGlzLl9ncmlkSWQgPSBncmlkLl9pZDtcbiAgICBfdGhpcy5faGFtbWVyID0gaGFtbWVyJCQxID0gbmV3IGhhbW1lci5NYW5hZ2VyKGVsZW1lbnQpO1xuICAgIF90aGlzLl9pc0Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIF90aGlzLl9pc01pZ3JhdGluZyA9IGZhbHNlO1xuXG4gICAgLy8gU2V0dXAgaXRlbSdzIGluaXRpYWwgZHJhZyBkYXRhLlxuICAgIF90aGlzLl9yZXNldCgpO1xuXG4gICAgLy8gQmluZCBzb21lIG1ldGhvZHMgdGhhdCBuZWVkcyBiaW5kaW5nLlxuICAgIF90aGlzLl9vblNjcm9sbCA9IF90aGlzLl9vblNjcm9sbC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5fcHJlcGFyZU1vdmUgPSBfdGhpcy5fcHJlcGFyZU1vdmUuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuX2FwcGx5TW92ZSA9IF90aGlzLl9hcHBseU1vdmUuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuX3ByZXBhcmVTY3JvbGwgPSBfdGhpcy5fcHJlcGFyZVNjcm9sbC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5fYXBwbHlTY3JvbGwgPSBfdGhpcy5fYXBwbHlTY3JvbGwuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuX2NoZWNrT3ZlcmxhcCA9IF90aGlzLl9jaGVja092ZXJsYXAuYmluZChfdGhpcyk7XG5cbiAgICAvLyBDcmVhdGUgYSBwcml2YXRlIGRyYWcgc3RhcnQgcmVzb2x2ZXIgdGhhdCBjYW4gYmUgdXNlZCB0byByZXNvbHZlIHRoZSBkcmFnXG4gICAgLy8gc3RhcnQgcHJlZGljYXRlIGFzeW5jaHJvbm91c2x5LlxuICAgIF90aGlzLl9mb3JjZVJlc29sdmVTdGFydFByZWRpY2F0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKCF0aGlzLl9pc0Rlc3Ryb3llZCAmJiBzdGFydFByZWRpY2F0ZVN0YXRlID09PSBzdGFydFByZWRpY2F0ZVBlbmRpbmcpIHtcbiAgICAgICAgc3RhcnRQcmVkaWNhdGVTdGF0ZSA9IHN0YXJ0UHJlZGljYXRlUmVzb2x2ZWQ7XG4gICAgICAgIHRoaXMuX29uU3RhcnQoZXZlbnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDcmVhdGUgZGVib3VuY2Ugb3ZlcmxhcCBjaGVja2VyIGZ1bmN0aW9uLlxuICAgIF90aGlzLl9jaGVja092ZXJsYXBEZWJvdW5jZSA9IGRlYm91bmNlKF90aGlzLl9jaGVja092ZXJsYXAsIHNldHRpbmdzLmRyYWdTb3J0SW50ZXJ2YWwpO1xuXG4gICAgLy8gQWRkIGRyYWcgcmVjb2duaXplciB0byBoYW1tZXIuXG4gICAgaGFtbWVyJCQxLmFkZChuZXcgaGFtbWVyLlBhbih7XG4gICAgICBldmVudDogJ2RyYWcnLFxuICAgICAgcG9pbnRlcnM6IDEsXG4gICAgICB0aHJlc2hvbGQ6IDAsXG4gICAgICBkaXJlY3Rpb246IGhhbW1lci5ESVJFQ1RJT05fQUxMXG4gICAgfSkpO1xuXG4gICAgLy8gQWRkIGRyYWcgaW5pdCByZWNvZ25pemVyIHRvIGhhbW1lci5cbiAgICBoYW1tZXIkJDEuYWRkKG5ldyBoYW1tZXIuUHJlc3Moe1xuICAgICAgZXZlbnQ6ICdkcmFnaW5pdCcsXG4gICAgICBwb2ludGVyczogMSxcbiAgICAgIHRocmVzaG9sZDogMTAwMCxcbiAgICAgIHRpbWU6IDBcbiAgICB9KSk7XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIGhhbW1lciBpbnN0YW5jZS5cbiAgICBpZiAoaXNQbGFpbk9iamVjdChzZXR0aW5ncy5kcmFnSGFtbWVyU2V0dGluZ3MpKSB7XG4gICAgICBoYW1tZXIkJDEuc2V0KHNldHRpbmdzLmRyYWdIYW1tZXJTZXR0aW5ncyk7XG4gICAgfVxuXG4gICAgLy8gQmluZCBkcmFnIGV2ZW50cy5cbiAgICBoYW1tZXIkJDEub24oJ2RyYWdpbml0IGRyYWdzdGFydCBkcmFnbW92ZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAvLyBMZXQncyBhY3RpdmF0ZSBkcmFnIHN0YXJ0IHByZWRpY2F0ZSBzdGF0ZS5cbiAgICAgIGlmIChzdGFydFByZWRpY2F0ZVN0YXRlID09PSBzdGFydFByZWRpY2F0ZUluYWN0aXZlKSB7XG4gICAgICAgIHN0YXJ0UHJlZGljYXRlU3RhdGUgPSBzdGFydFByZWRpY2F0ZVBlbmRpbmc7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHByZWRpY2F0ZSBpcyBwZW5kaW5nIHRyeSB0byByZXNvbHZlIGl0LlxuICAgICAgaWYgKHN0YXJ0UHJlZGljYXRlU3RhdGUgPT09IHN0YXJ0UHJlZGljYXRlUGVuZGluZykge1xuICAgICAgICBzdGFydFByZWRpY2F0ZVJlc3VsdCA9IHN0YXJ0UHJlZGljYXRlKGRyYWcuX2l0ZW0sIGUpO1xuICAgICAgICBpZiAoc3RhcnRQcmVkaWNhdGVSZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICBzdGFydFByZWRpY2F0ZVN0YXRlID0gc3RhcnRQcmVkaWNhdGVSZXNvbHZlZDtcbiAgICAgICAgICBkcmFnLl9vblN0YXJ0KGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0UHJlZGljYXRlUmVzdWx0ID09PSBmYWxzZSkge1xuICAgICAgICAgIHN0YXJ0UHJlZGljYXRlU3RhdGUgPSBzdGFydFByZWRpY2F0ZVJlamVjdGVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE90aGVyd2lzZSBpZiBwcmVkaWNhdGUgaXMgcmVzb2x2ZWQgYW5kIGRyYWcgaXMgYWN0aXZlLCBtb3ZlIHRoZSBpdGVtLlxuICAgICAgZWxzZSBpZiAoc3RhcnRQcmVkaWNhdGVTdGF0ZSA9PT0gc3RhcnRQcmVkaWNhdGVSZXNvbHZlZCAmJiBkcmFnLl9pc0FjdGl2ZSkge1xuICAgICAgICAgIGRyYWcuX29uTW92ZShlKTtcbiAgICAgICAgfVxuICAgIH0pLm9uKCdkcmFnZW5kIGRyYWdjYW5jZWwgZHJhZ2luaXR1cCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGUgc3RhcnQgcHJlZGljYXRlIHdhcyByZXNvbHZlZCBkdXJpbmcgZHJhZy5cbiAgICAgIHZhciBpc1Jlc29sdmVkID0gc3RhcnRQcmVkaWNhdGVTdGF0ZSA9PT0gc3RhcnRQcmVkaWNhdGVSZXNvbHZlZDtcblxuICAgICAgLy8gRG8gZmluYWwgcHJlZGljYXRlIGNoZWNrIHRvIGFsbG93IHVzZXIgdG8gdW5iaW5kIHN0dWZmIGZvciB0aGUgY3VycmVudFxuICAgICAgLy8gZHJhZyBwcm9jZWR1cmUgd2l0aGluIHRoZSBwcmVkaWNhdGUgY2FsbGJhY2suIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhpc1xuICAgICAgLy8gY2hlY2sgd2lsbCBoYXZlIG5vIGVmZmVjdCB0byB0aGUgc3RhdGUgb2YgdGhlIHByZWRpY2F0ZS5cbiAgICAgIHN0YXJ0UHJlZGljYXRlKGRyYWcuX2l0ZW0sIGUpO1xuXG4gICAgICAvLyBSZXNldCBzdGFydCBwcmVkaWNhdGUgc3RhdGUuXG4gICAgICBzdGFydFByZWRpY2F0ZVN0YXRlID0gc3RhcnRQcmVkaWNhdGVJbmFjdGl2ZTtcblxuICAgICAgLy8gSWYgcHJlZGljYXRlIGlzIHJlc29sdmVkIGFuZCBkcmFnZ2luZyBpcyBhY3RpdmUsIGNhbGwgdGhlIGVuZCBoYW5kbGVyLlxuICAgICAgaWYgKGlzUmVzb2x2ZWQgJiYgZHJhZy5faXNBY3RpdmUpIGRyYWcuX29uRW5kKGUpO1xuICAgIH0pO1xuXG4gICAgLy8gUHJldmVudCBuYXRpdmUgbGluay9pbWFnZSBkcmFnZ2luZyBmb3IgdGhlIGl0ZW0gYW5kIGl0J3MgYW5jZXN0b3JzLlxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgcHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcclxuICAgKiBQdWJsaWMgcHJvdG90eXBlIG1ldGhvZHNcclxuICAgKiAqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgKi9cblxuICAvKipcclxuICAgKiBBYm9ydCBkcmFnZ2luZyBhbmQgcmVzZXQgZHJhZyBkYXRhLlxyXG4gICAqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBtZW1iZXJvZiBJdGVtRHJhZy5wcm90b3R5cGVcclxuICAgKiBAcmV0dXJucyB7SXRlbURyYWd9XHJcbiAgICovXG5cblxuICBjcmVhdGVDbGFzcyhJdGVtRHJhZywgW3tcbiAgICBrZXk6ICdzdG9wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5faXRlbTtcbiAgICAgIHZhciBlbGVtZW50ID0gaXRlbS5fZWxlbWVudDtcbiAgICAgIHZhciBncmlkID0gdGhpcy5fZ2V0R3JpZCgpO1xuXG4gICAgICBpZiAoIXRoaXMuX2lzQWN0aXZlKSByZXR1cm4gdGhpcztcblxuICAgICAgLy8gSWYgdGhlIGl0ZW0gaXMgYmVpbmcgZHJvcHBlZCBpbnRvIGFub3RoZXIgZ3JpZCwgZmluaXNoIGl0IHVwIGFuZCByZXR1cm5cbiAgICAgIC8vIGltbWVkaWF0ZWx5LlxuICAgICAgaWYgKHRoaXMuX2lzTWlncmF0aW5nKSB7XG4gICAgICAgIHRoaXMuX2ZpbmlzaE1pZ3JhdGlvbigpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gQ2FuY2VsIHF1ZXVlZCBtb3ZlIGFuZCBzY3JvbGwgdGlja3MuXG4gICAgICBjYW5jZWxNb3ZlVGljayhpdGVtLl9pZCk7XG4gICAgICBjYW5jZWxTY3JvbGxUaWNrKGl0ZW0uX2lkKTtcblxuICAgICAgLy8gUmVtb3ZlIHNjcm9sbCBsaXN0ZW5lcnMuXG4gICAgICB0aGlzLl91bmJpbmRTY3JvbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgLy8gQ2FuY2VsIG92ZXJsYXAgY2hlY2suXG4gICAgICB0aGlzLl9jaGVja092ZXJsYXBEZWJvdW5jZSgnY2FuY2VsJyk7XG5cbiAgICAgIC8vIEFwcGVuZCBpdGVtIGVsZW1lbnQgdG8gdGhlIGNvbnRhaW5lciBpZiBpdCdzIG5vdCBpdCdzIGNoaWxkLiBBbHNvIG1ha2VcbiAgICAgIC8vIHN1cmUgdGhlIHRyYW5zbGF0ZSB2YWx1ZXMgYXJlIGFkanVzdGVkIHRvIGFjY291bnQgZm9yIHRoZSBET00gc2hpZnQuXG4gICAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlICE9PSBncmlkLl9lbGVtZW50KSB7XG4gICAgICAgIGdyaWQuX2VsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIGVsZW1lbnQuc3R5bGVbdHJhbnNmb3JtUHJvcF0gPSBnZXRUcmFuc2xhdGVTdHJpbmcodGhpcy5fZ3JpZFgsIHRoaXMuX2dyaWRZKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIGRyYWdnaW5nIGNsYXNzLlxuICAgICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgZ3JpZC5fc2V0dGluZ3MuaXRlbURyYWdnaW5nQ2xhc3MpO1xuXG4gICAgICAvLyBSZXNldCBkcmFnIGRhdGEuXG4gICAgICB0aGlzLl9yZXNldCgpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1EcmFnLnByb3RvdHlwZVxyXG4gICAgICogQHJldHVybnMge0l0ZW1EcmFnfVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcbiAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgdGhpcy5faGFtbWVyLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuX2l0ZW0uX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgcHJldmVudERlZmF1bHQsIGZhbHNlKTtcbiAgICAgIHRoaXMuX2lzRGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogUHJpdmF0ZSBwcm90b3R5cGUgbWV0aG9kc1xyXG4gICAgICogKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICovXG5cbiAgICAvKipcclxuICAgICAqIEdldCBHcmlkIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbURyYWcucHJvdG90eXBlXHJcbiAgICAgKiBAcmV0dXJucyB7P0dyaWR9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2dldEdyaWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0R3JpZCgpIHtcbiAgICAgIHJldHVybiBncmlkSW5zdGFuY2VzW3RoaXMuX2dyaWRJZF0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFNldHVwL3Jlc2V0IGRyYWcgZGF0YS5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1EcmFnLnByb3RvdHlwZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19yZXNldCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZXNldCgpIHtcbiAgICAgIC8vIElzIGl0ZW0gYmVpbmcgZHJhZ2dlZD9cbiAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgIC8vIFRoZSBkcmFnZ2VkIGl0ZW0ncyBjb250YWluZXIgZWxlbWVudC5cbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IG51bGw7XG5cbiAgICAgIC8vIFRoZSBkcmFnZ2VkIGl0ZW0ncyBjb250YWluaW5nIGJsb2NrLlxuICAgICAgdGhpcy5fY29udGFpbmluZ0Jsb2NrID0gbnVsbDtcblxuICAgICAgLy8gSGFtbWVyIGV2ZW50IGRhdGEuXG4gICAgICB0aGlzLl9sYXN0RXZlbnQgPSBudWxsO1xuICAgICAgdGhpcy5fbGFzdFNjcm9sbEV2ZW50ID0gbnVsbDtcblxuICAgICAgLy8gQWxsIHRoZSBlbGVtZW50cyB3aGljaCBuZWVkIHRvIGJlIGxpc3RlbmVkIGZvciBzY3JvbGwgZXZlbnRzIGR1cmluZ1xuICAgICAgLy8gZHJhZ2dpbmcuXG4gICAgICB0aGlzLl9zY3JvbGxlcnMgPSBbXTtcblxuICAgICAgLy8gVGhlIGN1cnJlbnQgdHJhbnNsYXRlWC90cmFuc2xhdGVZIHBvc2l0aW9uLlxuICAgICAgdGhpcy5fbGVmdCA9IDA7XG4gICAgICB0aGlzLl90b3AgPSAwO1xuXG4gICAgICAvLyBEcmFnZ2VkIGVsZW1lbnQncyBjdXJyZW50IHBvc2l0aW9uIHdpdGhpbiB0aGUgZ3JpZC5cbiAgICAgIHRoaXMuX2dyaWRYID0gMDtcbiAgICAgIHRoaXMuX2dyaWRZID0gMDtcblxuICAgICAgLy8gRHJhZ2dlZCBlbGVtZW50J3MgY3VycmVudCBvZmZzZXQgZnJvbSB3aW5kb3cncyBub3J0aHdlc3QgY29ybmVyLiBEb2VzXG4gICAgICAvLyBub3QgYWNjb3VudCBmb3IgZWxlbWVudCdzIG1hcmdpbnMuXG4gICAgICB0aGlzLl9lbGVtZW50Q2xpZW50WCA9IDA7XG4gICAgICB0aGlzLl9lbGVtZW50Q2xpZW50WSA9IDA7XG5cbiAgICAgIC8vIE9mZnNldCBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGRyYWdnZWQgZWxlbWVudCdzIHRlbXBvcmFyeSBkcmFnXG4gICAgICAvLyBjb250YWluZXIgYW5kIGl0J3Mgb3JpZ2luYWwgY29udGFpbmVyLlxuICAgICAgdGhpcy5fY29udGFpbmVyRGlmZlggPSAwO1xuICAgICAgdGhpcy5fY29udGFpbmVyRGlmZlkgPSAwO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogQmluZCBkcmFnIHNjcm9sbCBoYW5kbGVycyB0byBhbGwgc2Nyb2xsYWJsZSBhbmNlc3RvciBlbGVtZW50cyBvZiB0aGVcclxuICAgICAqIGRyYWdnZWQgZWxlbWVudCBhbmQgdGhlIGRyYWcgY29udGFpbmVyIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtRHJhZy5wcm90b3R5cGVcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfYmluZFNjcm9sbExpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9iaW5kU2Nyb2xsTGlzdGVuZXJzKCkge1xuICAgICAgdmFyIGdyaWRDb250YWluZXIgPSB0aGlzLl9nZXRHcmlkKCkuX2VsZW1lbnQ7XG4gICAgICB2YXIgZHJhZ0NvbnRhaW5lciA9IHRoaXMuX2NvbnRhaW5lcjtcbiAgICAgIHZhciBzY3JvbGxlcnMgPSB0aGlzLl9zY3JvbGxlcnM7XG4gICAgICB2YXIgY29udGFpbmVyU2Nyb2xsZXJzID0gdm9pZCAwO1xuICAgICAgdmFyIGkgPSB2b2lkIDA7XG5cbiAgICAgIC8vIEdldCBkcmFnZ2VkIGVsZW1lbnQncyBzY3JvbGxpbmcgcGFyZW50cy5cbiAgICAgIHNjcm9sbGVycy5sZW5ndGggPSAwO1xuICAgICAgZ2V0U2Nyb2xsUGFyZW50cyh0aGlzLl9pdGVtLl9lbGVtZW50LCBzY3JvbGxlcnMpO1xuXG4gICAgICAvLyBJZiBkcmFnIGNvbnRhaW5lciBpcyBkZWZpbmVkIGFuZCBpdCdzIG5vdCB0aGUgc2FtZSBlbGVtZW50IGFzIGdyaWRcbiAgICAgIC8vIGNvbnRhaW5lciB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZSBncmlkIGNvbnRhaW5lciBhbmQgaXQncyBzY3JvbGwgcGFyZW50c1xuICAgICAgLy8gdG8gdGhlIGVsZW1lbnRzIHdoaWNoIGFyZSBnb2luZyB0byBiZSBsaXN0ZW5lciBmb3Igc2Nyb2xsIGV2ZW50cy5cbiAgICAgIGlmIChkcmFnQ29udGFpbmVyICE9PSBncmlkQ29udGFpbmVyKSB7XG4gICAgICAgIGNvbnRhaW5lclNjcm9sbGVycyA9IFtdO1xuICAgICAgICBnZXRTY3JvbGxQYXJlbnRzKGdyaWRDb250YWluZXIsIGNvbnRhaW5lclNjcm9sbGVycyk7XG4gICAgICAgIGNvbnRhaW5lclNjcm9sbGVycy5wdXNoKGdyaWRDb250YWluZXIpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29udGFpbmVyU2Nyb2xsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKCFzY3JvbGxlcnMuaW5jbHVkZXMoY29udGFpbmVyU2Nyb2xsZXJzW2ldKSkge1xuICAgICAgICAgICAgc2Nyb2xsZXJzLnB1c2goY29udGFpbmVyU2Nyb2xsZXJzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQmluZCBzY3JvbGwgbGlzdGVuZXJzLlxuICAgICAgZm9yIChpID0gMDsgaSA8IHNjcm9sbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBzY3JvbGxlcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fb25TY3JvbGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogVW5iaW5kIGN1cnJlbnRseSBib3VuZCBkcmFnIHNjcm9sbCBoYW5kbGVycyBmcm9tIGFsbCBzY3JvbGxhYmxlIGFuY2VzdG9yXHJcbiAgICAgKiBlbGVtZW50cyBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IGFuZCB0aGUgZHJhZyBjb250YWluZXIgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1EcmFnLnByb3RvdHlwZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ191bmJpbmRTY3JvbGxMaXN0ZW5lcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfdW5iaW5kU2Nyb2xsTGlzdGVuZXJzKCkge1xuICAgICAgdmFyIHNjcm9sbGVycyA9IHRoaXMuX3Njcm9sbGVycztcbiAgICAgIHZhciBpID0gdm9pZCAwO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgc2Nyb2xsZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNjcm9sbGVyc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLl9vblNjcm9sbCk7XG4gICAgICB9XG5cbiAgICAgIHNjcm9sbGVycy5sZW5ndGggPSAwO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogU2V0dXAgZGVmYXVsdCBzdGFydCBwcmVkaWNhdGUuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtRHJhZy5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3NldHVwU3RhcnRQcmVkaWNhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0dXBTdGFydFByZWRpY2F0ZShvcHRpb25zKSB7XG4gICAgICB2YXIgY29uZmlnID0gb3B0aW9ucyB8fCB0aGlzLl9nZXRHcmlkKCkuX3NldHRpbmdzLmRyYWdTdGFydFByZWRpY2F0ZSB8fCAwO1xuICAgICAgcmV0dXJuIHRoaXMuX3N0YXJ0UHJlZGljYXRlRGF0YSA9IHtcbiAgICAgICAgZGlzdGFuY2U6IE1hdGguYWJzKGNvbmZpZy5kaXN0YW5jZSkgfHwgMCxcbiAgICAgICAgZGVsYXk6IE1hdGgubWF4KGNvbmZpZy5kZWxheSwgMCkgfHwgMCxcbiAgICAgICAgaGFuZGxlOiB0eXBlb2YgY29uZmlnLmhhbmRsZSA9PT0gJ3N0cmluZycgPyBjb25maWcuaGFuZGxlIDogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBTZXR1cCBkZWZhdWx0IHN0YXJ0IHByZWRpY2F0ZSBoYW5kbGUuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtRHJhZy5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxyXG4gICAgICogQHJldHVybnMgez9IVE1MRWxlbWVudH1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfZ2V0U3RhcnRQcmVkaWNhdGVIYW5kbGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0U3RhcnRQcmVkaWNhdGVIYW5kbGUoZXZlbnQpIHtcbiAgICAgIHZhciBwcmVkaWNhdGUgPSB0aGlzLl9zdGFydFByZWRpY2F0ZURhdGE7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuX2l0ZW0uX2VsZW1lbnQ7XG4gICAgICB2YXIgaGFuZGxlRWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgIC8vIE5vIGhhbmRsZSwgbm8gaGFzc2xlIC0+IGxldCdzIHVzZSB0aGUgaXRlbSBlbGVtZW50IGFzIHRoZSBoYW5kbGUuXG4gICAgICBpZiAoIXByZWRpY2F0ZS5oYW5kbGUpIHJldHVybiBoYW5kbGVFbGVtZW50O1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBhIHNwZWNpZmljIHByZWRpY2F0ZSBoYW5kbGUgZGVmaW5lZCwgbGV0J3MgdHJ5IHRvIGdldCBpdC5cbiAgICAgIGhhbmRsZUVsZW1lbnQgPSAoZXZlbnQuY2hhbmdlZFBvaW50ZXJzWzBdIHx8IDApLnRhcmdldDtcbiAgICAgIHdoaWxlIChoYW5kbGVFbGVtZW50ICYmICFlbGVtZW50TWF0Y2hlcyhoYW5kbGVFbGVtZW50LCBwcmVkaWNhdGUuaGFuZGxlKSkge1xuICAgICAgICBoYW5kbGVFbGVtZW50ID0gaGFuZGxlRWxlbWVudCAhPT0gZWxlbWVudCA/IGhhbmRsZUVsZW1lbnQucGFyZW50RWxlbWVudCA6IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFuZGxlRWxlbWVudCB8fCBudWxsO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogVW5iaW5kIGN1cnJlbnRseSBib3VuZCBkcmFnIHNjcm9sbCBoYW5kbGVycyBmcm9tIGFsbCBzY3JvbGxhYmxlIGFuY2VzdG9yXHJcbiAgICAgKiBlbGVtZW50cyBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IGFuZCB0aGUgZHJhZyBjb250YWluZXIgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1EcmFnLnByb3RvdHlwZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfcmVzb2x2ZVN0YXJ0UHJlZGljYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc29sdmVTdGFydFByZWRpY2F0ZShldmVudCkge1xuICAgICAgdmFyIHByZWRpY2F0ZSA9IHRoaXMuX3N0YXJ0UHJlZGljYXRlRGF0YTtcbiAgICAgIHZhciBwb2ludGVyID0gZXZlbnQuY2hhbmdlZFBvaW50ZXJzWzBdO1xuICAgICAgdmFyIHBhZ2VYID0gcG9pbnRlciAmJiBwb2ludGVyLnBhZ2VYIHx8IDA7XG4gICAgICB2YXIgcGFnZVkgPSBwb2ludGVyICYmIHBvaW50ZXIucGFnZVkgfHwgMDtcbiAgICAgIHZhciBoYW5kbGVSZWN0ID0gdm9pZCAwO1xuICAgICAgdmFyIGhhbmRsZUxlZnQgPSB2b2lkIDA7XG4gICAgICB2YXIgaGFuZGxlVG9wID0gdm9pZCAwO1xuICAgICAgdmFyIGhhbmRsZVdpZHRoID0gdm9pZCAwO1xuICAgICAgdmFyIGhhbmRsZUhlaWdodCA9IHZvaWQgMDtcblxuICAgICAgLy8gSWYgdGhlIG1vdmVkIGRpc3RhbmNlIGlzIHNtYWxsZXIgdGhhbiB0aGUgdGhyZXNob2xkIGRpc3RhbmNlIG9yIHRoZXJlIGlzXG4gICAgICAvLyBzb21lIGRlbGF5IGxlZnQsIGlnbm9yZSB0aGlzIHByZWRpY2F0ZSBjeWNsZS5cbiAgICAgIGlmIChldmVudC5kaXN0YW5jZSA8IHByZWRpY2F0ZS5kaXN0YW5jZSB8fCBwcmVkaWNhdGUuZGVsYXkpIHJldHVybjtcblxuICAgICAgLy8gR2V0IGhhbmRsZSByZWN0IGRhdGEuXG4gICAgICBoYW5kbGVSZWN0ID0gcHJlZGljYXRlLmhhbmRsZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBoYW5kbGVMZWZ0ID0gaGFuZGxlUmVjdC5sZWZ0ICsgKHdpbmRvdy5wYWdlWE9mZnNldCB8fCAwKTtcbiAgICAgIGhhbmRsZVRvcCA9IGhhbmRsZVJlY3QudG9wICsgKHdpbmRvdy5wYWdlWU9mZnNldCB8fCAwKTtcbiAgICAgIGhhbmRsZVdpZHRoID0gaGFuZGxlUmVjdC53aWR0aDtcbiAgICAgIGhhbmRsZUhlaWdodCA9IGhhbmRsZVJlY3QuaGVpZ2h0O1xuXG4gICAgICAvLyBSZXNldCBwcmVkaWNhdGUgZGF0YS5cbiAgICAgIHRoaXMuX3Jlc2V0U3RhcnRQcmVkaWNhdGUoKTtcblxuICAgICAgLy8gSWYgdGhlIGN1cnNvciBpcyBzdGlsbCB3aXRoaW4gdGhlIGhhbmRsZSBsZXQncyBzdGFydCB0aGUgZHJhZy5cbiAgICAgIHJldHVybiBoYW5kbGVXaWR0aCAmJiBoYW5kbGVIZWlnaHQgJiYgcGFnZVggPj0gaGFuZGxlTGVmdCAmJiBwYWdlWCA8IGhhbmRsZUxlZnQgKyBoYW5kbGVXaWR0aCAmJiBwYWdlWSA+PSBoYW5kbGVUb3AgJiYgcGFnZVkgPCBoYW5kbGVUb3AgKyBoYW5kbGVIZWlnaHQ7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBGaW5hbGl6ZSBzdGFydCBwcmVkaWNhdGUuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtRHJhZy5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19maW5pc2hTdGFydFByZWRpY2F0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9maW5pc2hTdGFydFByZWRpY2F0ZShldmVudCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLl9pdGVtLl9lbGVtZW50O1xuXG4gICAgICAvLyBSZXNldCBwcmVkaWNhdGUuXG4gICAgICB0aGlzLl9yZXNldFN0YXJ0UHJlZGljYXRlKCk7XG5cbiAgICAgIC8vIElmIHRoZSBnZXN0dXJlIGNhbiBiZSBpbnRlcnByZXRlZCBhcyBjbGljayBsZXQncyB0cnkgdG8gb3BlbiB0aGUgZWxlbWVudCdzXG4gICAgICAvLyBocmVmIHVybCAoaWYgaXQgaXMgYW4gYW5jaG9yIGVsZW1lbnQpLlxuICAgICAgaWYgKGlzQ2xpY2soZXZlbnQpKSBvcGVuQW5jaG9ySHJlZihlbGVtZW50KTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFJlc2V0IGZvciBkZWZhdWx0IGRyYWcgc3RhcnQgcHJlZGljYXRlIGZ1bmN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbURyYWcucHJvdG90eXBlXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3Jlc2V0U3RhcnRQcmVkaWNhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzZXRTdGFydFByZWRpY2F0ZSgpIHtcbiAgICAgIHZhciBwcmVkaWNhdGUgPSB0aGlzLl9zdGFydFByZWRpY2F0ZURhdGE7XG4gICAgICBpZiAocHJlZGljYXRlKSB7XG4gICAgICAgIGlmIChwcmVkaWNhdGUuZGVsYXlUaW1lcikge1xuICAgICAgICAgIHByZWRpY2F0ZS5kZWxheVRpbWVyID0gd2luZG93LmNsZWFyVGltZW91dChwcmVkaWNhdGUuZGVsYXlUaW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhcnRQcmVkaWNhdGVEYXRhID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIChkdXJpbmcgZHJhZykgaWYgYW4gaXRlbSBpcyBvdmVybGFwcGluZyBvdGhlciBpdGVtcyBhbmQgYmFzZWQgb25cclxuICAgICAqIHRoZSBjb25maWd1cmF0aW9uIGxheW91dCB0aGUgaXRlbXMuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtRHJhZy5wcm90b3R5cGVcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfY2hlY2tPdmVybGFwJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2NoZWNrT3ZlcmxhcCgpIHtcbiAgICAgIGlmICghdGhpcy5faXNBY3RpdmUpIHJldHVybjtcblxuICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtO1xuICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5fZ2V0R3JpZCgpLl9zZXR0aW5ncztcbiAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG4gICAgICB2YXIgY3VycmVudEdyaWQgPSB2b2lkIDA7XG4gICAgICB2YXIgY3VycmVudEluZGV4ID0gdm9pZCAwO1xuICAgICAgdmFyIHRhcmdldEdyaWQgPSB2b2lkIDA7XG4gICAgICB2YXIgdGFyZ2V0SW5kZXggPSB2b2lkIDA7XG4gICAgICB2YXIgc29ydEFjdGlvbiA9IHZvaWQgMDtcbiAgICAgIHZhciBpc01pZ3JhdGlvbiA9IHZvaWQgMDtcblxuICAgICAgLy8gR2V0IG92ZXJsYXAgY2hlY2sgcmVzdWx0LlxuICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5kcmFnU29ydFByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHQgPSBzZXR0aW5ncy5kcmFnU29ydFByZWRpY2F0ZShpdGVtLCB0aGlzLl9sYXN0RXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gSXRlbURyYWcuZGVmYXVsdFNvcnRQcmVkaWNhdGUoaXRlbSwgc2V0dGluZ3MuZHJhZ1NvcnRQcmVkaWNhdGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBMZXQncyBtYWtlIHN1cmUgdGhlIHJlc3VsdCBvYmplY3QgaGFzIGEgdmFsaWQgaW5kZXggYmVmb3JlIGdvaW5nIGZ1cnRoZXIuXG4gICAgICBpZiAoIXJlc3VsdCB8fCB0eXBlb2YgcmVzdWx0LmluZGV4ICE9PSAnbnVtYmVyJykgcmV0dXJuO1xuXG4gICAgICBjdXJyZW50R3JpZCA9IGl0ZW0uZ2V0R3JpZCgpO1xuICAgICAgdGFyZ2V0R3JpZCA9IHJlc3VsdC5ncmlkIHx8IGN1cnJlbnRHcmlkO1xuICAgICAgaXNNaWdyYXRpb24gPSBjdXJyZW50R3JpZCAhPT0gdGFyZ2V0R3JpZDtcbiAgICAgIGN1cnJlbnRJbmRleCA9IGN1cnJlbnRHcmlkLl9pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgICAgdGFyZ2V0SW5kZXggPSBub3JtYWxpemVBcnJheUluZGV4KHRhcmdldEdyaWQuX2l0ZW1zLCByZXN1bHQuaW5kZXgsIGlzTWlncmF0aW9uKTtcbiAgICAgIHNvcnRBY3Rpb24gPSByZXN1bHQuYWN0aW9uID09PSAnc3dhcCcgPyAnc3dhcCcgOiAnbW92ZSc7XG5cbiAgICAgIC8vIElmIHRoZSBpdGVtIHdhcyBtb3ZlZCB3aXRoaW4gaXQncyBjdXJyZW50IGdyaWQuXG4gICAgICBpZiAoIWlzTWlncmF0aW9uKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgdGFyZ2V0IGluZGV4IGlzIG5vdCB0aGUgY3VycmVudCBpbmRleC5cbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCAhPT0gdGFyZ2V0SW5kZXgpIHtcbiAgICAgICAgICAvLyBEbyB0aGUgc29ydC5cbiAgICAgICAgICAoc29ydEFjdGlvbiA9PT0gJ3N3YXAnID8gYXJyYXlTd2FwIDogYXJyYXlNb3ZlKShjdXJyZW50R3JpZC5faXRlbXMsIGN1cnJlbnRJbmRleCwgdGFyZ2V0SW5kZXgpO1xuXG4gICAgICAgICAgLy8gRW1pdCBtb3ZlIGV2ZW50LlxuICAgICAgICAgIGlmIChjdXJyZW50R3JpZC5faGFzTGlzdGVuZXJzKGV2ZW50TW92ZSkpIHtcbiAgICAgICAgICAgIGN1cnJlbnRHcmlkLl9lbWl0KGV2ZW50TW92ZSwge1xuICAgICAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgICAgICBmcm9tSW5kZXg6IGN1cnJlbnRJbmRleCxcbiAgICAgICAgICAgICAgdG9JbmRleDogdGFyZ2V0SW5kZXgsXG4gICAgICAgICAgICAgIGFjdGlvbjogc29ydEFjdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTGF5b3V0IHRoZSBncmlkLlxuICAgICAgICAgIGN1cnJlbnRHcmlkLmxheW91dCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBpdGVtIHdhcyBtb3ZlZCB0byBhbm90aGVyIGdyaWQuXG4gICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBFbWl0IGJlZm9yZVNlbmQgZXZlbnQuXG4gICAgICAgICAgaWYgKGN1cnJlbnRHcmlkLl9oYXNMaXN0ZW5lcnMoZXZlbnRCZWZvcmVTZW5kKSkge1xuICAgICAgICAgICAgY3VycmVudEdyaWQuX2VtaXQoZXZlbnRCZWZvcmVTZW5kLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgIGZyb21HcmlkOiBjdXJyZW50R3JpZCxcbiAgICAgICAgICAgICAgZnJvbUluZGV4OiBjdXJyZW50SW5kZXgsXG4gICAgICAgICAgICAgIHRvR3JpZDogdGFyZ2V0R3JpZCxcbiAgICAgICAgICAgICAgdG9JbmRleDogdGFyZ2V0SW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEVtaXQgYmVmb3JlUmVjZWl2ZSBldmVudC5cbiAgICAgICAgICBpZiAodGFyZ2V0R3JpZC5faGFzTGlzdGVuZXJzKGV2ZW50QmVmb3JlUmVjZWl2ZSkpIHtcbiAgICAgICAgICAgIHRhcmdldEdyaWQuX2VtaXQoZXZlbnRCZWZvcmVSZWNlaXZlLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgIGZyb21HcmlkOiBjdXJyZW50R3JpZCxcbiAgICAgICAgICAgICAgZnJvbUluZGV4OiBjdXJyZW50SW5kZXgsXG4gICAgICAgICAgICAgIHRvR3JpZDogdGFyZ2V0R3JpZCxcbiAgICAgICAgICAgICAgdG9JbmRleDogdGFyZ2V0SW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFVwZGF0ZSBpdGVtJ3MgZ3JpZCBpZCByZWZlcmVuY2UuXG4gICAgICAgICAgaXRlbS5fZ3JpZElkID0gdGFyZ2V0R3JpZC5faWQ7XG5cbiAgICAgICAgICAvLyBVcGRhdGUgZHJhZyBpbnN0YW5jZSdzIG1pZ3JhdGluZyBpbmRpY2F0b3IuXG4gICAgICAgICAgdGhpcy5faXNNaWdyYXRpbmcgPSBpdGVtLl9ncmlkSWQgIT09IHRoaXMuX2dyaWRJZDtcblxuICAgICAgICAgIC8vIE1vdmUgaXRlbSBpbnN0YW5jZSBmcm9tIGN1cnJlbnQgZ3JpZCB0byB0YXJnZXQgZ3JpZC5cbiAgICAgICAgICBjdXJyZW50R3JpZC5faXRlbXMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG4gICAgICAgICAgYXJyYXlJbnNlcnQodGFyZ2V0R3JpZC5faXRlbXMsIGl0ZW0sIHRhcmdldEluZGV4KTtcblxuICAgICAgICAgIC8vIFNldCBzb3J0IGRhdGEgYXMgbnVsbCwgd2hpY2ggaXMgYW4gaW5kaWNhdG9yIGZvciB0aGUgaXRlbSBjb21wYXJpc29uXG4gICAgICAgICAgLy8gZnVuY3Rpb24gdGhhdCB0aGUgc29ydCBkYXRhIG9mIHRoaXMgc3BlY2lmaWMgaXRlbSBzaG91bGQgYmUgZmV0Y2hlZFxuICAgICAgICAgIC8vIGxhemlseS5cbiAgICAgICAgICBpdGVtLl9zb3J0RGF0YSA9IG51bGw7XG5cbiAgICAgICAgICAvLyBFbWl0IHNlbmQgZXZlbnQuXG4gICAgICAgICAgaWYgKGN1cnJlbnRHcmlkLl9oYXNMaXN0ZW5lcnMoZXZlbnRTZW5kKSkge1xuICAgICAgICAgICAgY3VycmVudEdyaWQuX2VtaXQoZXZlbnRTZW5kLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgIGZyb21HcmlkOiBjdXJyZW50R3JpZCxcbiAgICAgICAgICAgICAgZnJvbUluZGV4OiBjdXJyZW50SW5kZXgsXG4gICAgICAgICAgICAgIHRvR3JpZDogdGFyZ2V0R3JpZCxcbiAgICAgICAgICAgICAgdG9JbmRleDogdGFyZ2V0SW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEVtaXQgcmVjZWl2ZSBldmVudC5cbiAgICAgICAgICBpZiAodGFyZ2V0R3JpZC5faGFzTGlzdGVuZXJzKGV2ZW50UmVjZWl2ZSkpIHtcbiAgICAgICAgICAgIHRhcmdldEdyaWQuX2VtaXQoZXZlbnRSZWNlaXZlLCB7XG4gICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgIGZyb21HcmlkOiBjdXJyZW50R3JpZCxcbiAgICAgICAgICAgICAgZnJvbUluZGV4OiBjdXJyZW50SW5kZXgsXG4gICAgICAgICAgICAgIHRvR3JpZDogdGFyZ2V0R3JpZCxcbiAgICAgICAgICAgICAgdG9JbmRleDogdGFyZ2V0SW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIExheW91dCBib3RoIGdyaWRzLlxuICAgICAgICAgIGN1cnJlbnRHcmlkLmxheW91dCgpO1xuICAgICAgICAgIHRhcmdldEdyaWQubGF5b3V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIElmIGl0ZW0gaXMgZHJhZ2dlZCBpbnRvIGFub3RoZXIgZ3JpZCwgZmluaXNoIHRoZSBtaWdyYXRpb24gcHJvY2Vzc1xyXG4gICAgICogZ3JhY2VmdWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1EcmFnLnByb3RvdHlwZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19maW5pc2hNaWdyYXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZmluaXNoTWlncmF0aW9uKCkge1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtO1xuICAgICAgdmFyIHJlbGVhc2UgPSBpdGVtLl9yZWxlYXNlO1xuICAgICAgdmFyIGVsZW1lbnQgPSBpdGVtLl9lbGVtZW50O1xuICAgICAgdmFyIGlzQWN0aXZlID0gaXRlbS5faXNBY3RpdmU7XG4gICAgICB2YXIgdGFyZ2V0R3JpZCA9IGl0ZW0uZ2V0R3JpZCgpO1xuICAgICAgdmFyIHRhcmdldEdyaWRFbGVtZW50ID0gdGFyZ2V0R3JpZC5fZWxlbWVudDtcbiAgICAgIHZhciB0YXJnZXRTZXR0aW5ncyA9IHRhcmdldEdyaWQuX3NldHRpbmdzO1xuICAgICAgdmFyIHRhcmdldENvbnRhaW5lciA9IHRhcmdldFNldHRpbmdzLmRyYWdDb250YWluZXIgfHwgdGFyZ2V0R3JpZEVsZW1lbnQ7XG4gICAgICB2YXIgY3VycmVudFNldHRpbmdzID0gdGhpcy5fZ2V0R3JpZCgpLl9zZXR0aW5ncztcbiAgICAgIHZhciBjdXJyZW50Q29udGFpbmVyID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgdmFyIHRyYW5zbGF0ZSA9IHZvaWQgMDtcbiAgICAgIHZhciBvZmZzZXREaWZmID0gdm9pZCAwO1xuXG4gICAgICAvLyBEZXN0cm95IGN1cnJlbnQgZHJhZy4gTm90ZSB0aGF0IHdlIG5lZWQgdG8gc2V0IHRoZSBtaWdyYXRpbmcgZmxhZyB0b1xuICAgICAgLy8gZmFsc2UgZmlyc3QsIGJlY2F1c2Ugb3RoZXJ3aXNlIHdlIGNyZWF0ZSBhbiBpbmZpbml0ZSBsb29wIGJldHdlZW4gdGhpc1xuICAgICAgLy8gYW5kIHRoZSBkcmFnLnN0b3AoKSBtZXRob2QuXG4gICAgICB0aGlzLl9pc01pZ3JhdGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5kZXN0cm95KCk7XG5cbiAgICAgIC8vIFJlbW92ZSBjdXJyZW50IGNsYXNzbmFtZXMuXG4gICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBjdXJyZW50U2V0dGluZ3MuaXRlbUNsYXNzKTtcbiAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGN1cnJlbnRTZXR0aW5ncy5pdGVtVmlzaWJsZUNsYXNzKTtcbiAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGN1cnJlbnRTZXR0aW5ncy5pdGVtSGlkZGVuQ2xhc3MpO1xuXG4gICAgICAvLyBBZGQgbmV3IGNsYXNzbmFtZXMuXG4gICAgICBhZGRDbGFzcyhlbGVtZW50LCB0YXJnZXRTZXR0aW5ncy5pdGVtQ2xhc3MpO1xuICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgaXNBY3RpdmUgPyB0YXJnZXRTZXR0aW5ncy5pdGVtVmlzaWJsZUNsYXNzIDogdGFyZ2V0U2V0dGluZ3MuaXRlbUhpZGRlbkNsYXNzKTtcblxuICAgICAgLy8gTW92ZSB0aGUgaXRlbSBpbnNpZGUgdGhlIHRhcmdldCBjb250YWluZXIgaWYgaXQncyBkaWZmZXJlbnQgdGhhbiB0aGVcbiAgICAgIC8vIGN1cnJlbnQgY29udGFpbmVyLlxuICAgICAgaWYgKHRhcmdldENvbnRhaW5lciAhPT0gY3VycmVudENvbnRhaW5lcikge1xuICAgICAgICB0YXJnZXRDb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgIG9mZnNldERpZmYgPSBnZXRPZmZzZXREaWZmKGN1cnJlbnRDb250YWluZXIsIHRhcmdldENvbnRhaW5lciwgdHJ1ZSk7XG4gICAgICAgIHRyYW5zbGF0ZSA9IGdldFRyYW5zbGF0ZShlbGVtZW50KTtcbiAgICAgICAgdHJhbnNsYXRlLnggLT0gb2Zmc2V0RGlmZi5sZWZ0O1xuICAgICAgICB0cmFuc2xhdGUueSAtPSBvZmZzZXREaWZmLnRvcDtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGl0ZW0ncyBjYWNoZWQgZGltZW5zaW9ucyBhbmQgc29ydCBkYXRhLlxuICAgICAgaXRlbS5fcmVmcmVzaERpbWVuc2lvbnMoKTtcbiAgICAgIGl0ZW0uX3JlZnJlc2hTb3J0RGF0YSgpO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIG9mZnNldCBkaWZmZXJlbmNlIGJldHdlZW4gdGFyZ2V0J3MgZHJhZyBjb250YWluZXIgKGlmIGFueSlcbiAgICAgIC8vIGFuZCBhY3R1YWwgZ3JpZCBjb250YWluZXIgZWxlbWVudC4gV2Ugc2F2ZSBpdCBsYXRlciBmb3IgdGhlIHJlbGVhc2VcbiAgICAgIC8vIHByb2Nlc3MuXG4gICAgICBvZmZzZXREaWZmID0gZ2V0T2Zmc2V0RGlmZih0YXJnZXRDb250YWluZXIsIHRhcmdldEdyaWRFbGVtZW50LCB0cnVlKTtcbiAgICAgIHJlbGVhc2UuX2NvbnRhaW5lckRpZmZYID0gb2Zmc2V0RGlmZi5sZWZ0O1xuICAgICAgcmVsZWFzZS5fY29udGFpbmVyRGlmZlkgPSBvZmZzZXREaWZmLnRvcDtcblxuICAgICAgLy8gUmVjcmVhdGUgaXRlbSdzIGRyYWcgaGFuZGxlci5cbiAgICAgIGl0ZW0uX2RyYWcgPSB0YXJnZXRTZXR0aW5ncy5kcmFnRW5hYmxlZCA/IG5ldyBJdGVtRHJhZyhpdGVtKSA6IG51bGw7XG5cbiAgICAgIC8vIEFkanVzdCB0aGUgcG9zaXRpb24gb2YgdGhlIGl0ZW0gZWxlbWVudCBpZiBpdCB3YXMgbW92ZWQgZnJvbSBhIGNvbnRhaW5lclxuICAgICAgLy8gdG8gYW5vdGhlci5cbiAgICAgIGlmICh0YXJnZXRDb250YWluZXIgIT09IGN1cnJlbnRDb250YWluZXIpIHtcbiAgICAgICAgZWxlbWVudC5zdHlsZVt0cmFuc2Zvcm1Qcm9wXSA9IGdldFRyYW5zbGF0ZVN0cmluZyh0cmFuc2xhdGUueCwgdHJhbnNsYXRlLnkpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgY2hpbGQgZWxlbWVudCdzIHN0eWxlcyB0byByZWZsZWN0IHRoZSBjdXJyZW50IHZpc2liaWxpdHkgc3RhdGUuXG4gICAgICBpdGVtLl9jaGlsZC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICBzZXRTdHlsZXMoaXRlbS5fY2hpbGQsIGlzQWN0aXZlID8gdGFyZ2V0U2V0dGluZ3MudmlzaWJsZVN0eWxlcyA6IHRhcmdldFNldHRpbmdzLmhpZGRlblN0eWxlcyk7XG5cbiAgICAgIC8vIFN0YXJ0IHRoZSByZWxlYXNlLlxuICAgICAgcmVsZWFzZS5zdGFydCgpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogRHJhZyBzdGFydCBoYW5kbGVyLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbURyYWcucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnRcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfb25TdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vblN0YXJ0KGV2ZW50KSB7XG4gICAgICB2YXIgaXRlbSA9IHRoaXMuX2l0ZW07XG5cbiAgICAgIC8vIElmIGl0ZW0gaXMgbm90IGFjdGl2ZSwgZG9uJ3Qgc3RhcnQgdGhlIGRyYWcuXG4gICAgICBpZiAoIWl0ZW0uX2lzQWN0aXZlKSByZXR1cm47XG5cbiAgICAgIHZhciBlbGVtZW50ID0gaXRlbS5fZWxlbWVudDtcbiAgICAgIHZhciBncmlkID0gdGhpcy5fZ2V0R3JpZCgpO1xuICAgICAgdmFyIHNldHRpbmdzID0gZ3JpZC5fc2V0dGluZ3M7XG4gICAgICB2YXIgcmVsZWFzZSA9IGl0ZW0uX3JlbGVhc2U7XG4gICAgICB2YXIgbWlncmF0ZSA9IGl0ZW0uX21pZ3JhdGU7XG4gICAgICB2YXIgZ3JpZENvbnRhaW5lciA9IGdyaWQuX2VsZW1lbnQ7XG4gICAgICB2YXIgZHJhZ0NvbnRhaW5lciA9IHNldHRpbmdzLmRyYWdDb250YWluZXIgfHwgZ3JpZENvbnRhaW5lcjtcbiAgICAgIHZhciBjb250YWluaW5nQmxvY2sgPSBnZXRDb250YWluaW5nQmxvY2soZHJhZ0NvbnRhaW5lciwgdHJ1ZSk7XG4gICAgICB2YXIgdHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlKGVsZW1lbnQpO1xuICAgICAgdmFyIGN1cnJlbnRMZWZ0ID0gdHJhbnNsYXRlLng7XG4gICAgICB2YXIgY3VycmVudFRvcCA9IHRyYW5zbGF0ZS55O1xuICAgICAgdmFyIGVsZW1lbnRSZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBoYXNEcmFnQ29udGFpbmVyID0gZHJhZ0NvbnRhaW5lciAhPT0gZ3JpZENvbnRhaW5lcjtcbiAgICAgIHZhciBvZmZzZXREaWZmID0gdm9pZCAwO1xuXG4gICAgICAvLyBJZiBncmlkIGNvbnRhaW5lciBpcyBub3QgdGhlIGRyYWcgY29udGFpbmVyLCB3ZSBuZWVkIHRvIGNhbGN1bGF0ZSB0aGVcbiAgICAgIC8vIG9mZnNldCBkaWZmZXJlbmNlIGJldHdlZW4gZ3JpZCBjb250YWluZXIgYW5kIGRyYWcgY29udGFpbmVyJ3MgY29udGFpbmluZ1xuICAgICAgLy8gZWxlbWVudC5cbiAgICAgIGlmIChoYXNEcmFnQ29udGFpbmVyKSB7XG4gICAgICAgIG9mZnNldERpZmYgPSBnZXRPZmZzZXREaWZmKGNvbnRhaW5pbmdCbG9jaywgZ3JpZENvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0b3AgY3VycmVudCBwb3NpdGlvbmluZyBhbmltYXRpb24uXG4gICAgICBpZiAoaXRlbS5pc1Bvc2l0aW9uaW5nKCkpIHtcbiAgICAgICAgaXRlbS5fbGF5b3V0LnN0b3AodHJ1ZSwgeyB0cmFuc2Zvcm06IGdldFRyYW5zbGF0ZVN0cmluZyhjdXJyZW50TGVmdCwgY3VycmVudFRvcCkgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFN0b3AgY3VycmVudCBtaWdyYXRpb24gYW5pbWF0aW9uLlxuICAgICAgaWYgKG1pZ3JhdGUuX2lzQWN0aXZlKSB7XG4gICAgICAgIGN1cnJlbnRMZWZ0IC09IG1pZ3JhdGUuX2NvbnRhaW5lckRpZmZYO1xuICAgICAgICBjdXJyZW50VG9wIC09IG1pZ3JhdGUuX2NvbnRhaW5lckRpZmZZO1xuICAgICAgICBtaWdyYXRlLnN0b3AodHJ1ZSwgeyB0cmFuc2Zvcm06IGdldFRyYW5zbGF0ZVN0cmluZyhjdXJyZW50TGVmdCwgY3VycmVudFRvcCkgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGl0ZW0gaXMgYmVpbmcgcmVsZWFzZWQgcmVzZXQgcmVsZWFzZSBkYXRhLlxuICAgICAgaWYgKGl0ZW0uaXNSZWxlYXNpbmcoKSkgcmVsZWFzZS5fcmVzZXQoKTtcblxuICAgICAgLy8gU2V0dXAgZHJhZyBkYXRhLlxuICAgICAgdGhpcy5faXNBY3RpdmUgPSB0cnVlO1xuICAgICAgdGhpcy5fbGFzdEV2ZW50ID0gZXZlbnQ7XG4gICAgICB0aGlzLl9jb250YWluZXIgPSBkcmFnQ29udGFpbmVyO1xuICAgICAgdGhpcy5fY29udGFpbmluZ0Jsb2NrID0gY29udGFpbmluZ0Jsb2NrO1xuICAgICAgdGhpcy5fZWxlbWVudENsaWVudFggPSBlbGVtZW50UmVjdC5sZWZ0O1xuICAgICAgdGhpcy5fZWxlbWVudENsaWVudFkgPSBlbGVtZW50UmVjdC50b3A7XG4gICAgICB0aGlzLl9sZWZ0ID0gdGhpcy5fZ3JpZFggPSBjdXJyZW50TGVmdDtcbiAgICAgIHRoaXMuX3RvcCA9IHRoaXMuX2dyaWRZID0gY3VycmVudFRvcDtcblxuICAgICAgLy8gRW1pdCBkcmFnSW5pdCBldmVudC5cbiAgICAgIGdyaWQuX2VtaXQoZXZlbnREcmFnSW5pdCwgaXRlbSwgZXZlbnQpO1xuXG4gICAgICAvLyBJZiBhIHNwZWNpZmljIGRyYWcgY29udGFpbmVyIGlzIHNldCBhbmQgaXQgaXMgZGlmZmVyZW50IGZyb20gdGhlXG4gICAgICAvLyBncmlkJ3MgY29udGFpbmVyIGVsZW1lbnQgd2UgbmVlZCB0byBjYXN0IHNvbWUgZXh0cmEgc3BlbGxzLlxuICAgICAgaWYgKGhhc0RyYWdDb250YWluZXIpIHtcbiAgICAgICAgLy8gU3RvcmUgdGhlIGNvbnRhaW5lciBvZmZzZXQgZGlmZnMgdG8gZHJhZyBkYXRhLlxuICAgICAgICB0aGlzLl9jb250YWluZXJEaWZmWCA9IG9mZnNldERpZmYubGVmdDtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyRGlmZlkgPSBvZmZzZXREaWZmLnRvcDtcblxuICAgICAgICAvLyBJZiB0aGUgZHJhZ2dlZCBlbGVtZW50IGlzIGEgY2hpbGQgb2YgdGhlIGRyYWcgY29udGFpbmVyIGFsbCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIGRvIGlzIHNldHVwIHRoZSByZWxhdGl2ZSBkcmFnIHBvc2l0aW9uIGRhdGEuXG4gICAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUgPT09IGRyYWdDb250YWluZXIpIHtcbiAgICAgICAgICB0aGlzLl9ncmlkWCA9IGN1cnJlbnRMZWZ0IC0gdGhpcy5fY29udGFpbmVyRGlmZlg7XG4gICAgICAgICAgdGhpcy5fZ3JpZFkgPSBjdXJyZW50VG9wIC0gdGhpcy5fY29udGFpbmVyRGlmZlk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPdGhlcndpc2Ugd2UgbmVlZCB0byBhcHBlbmQgdGhlIGVsZW1lbnQgaW5zaWRlIHRoZSBjb3JyZWN0IGNvbnRhaW5lcixcbiAgICAgICAgLy8gc2V0dXAgdGhlIGFjdHVhbCBkcmFnIHBvc2l0aW9uIGRhdGEgYW5kIGFkanVzdCB0aGUgZWxlbWVudCdzIHRyYW5zbGF0ZVxuICAgICAgICAvLyB2YWx1ZXMgdG8gYWNjb3VudCBmb3IgdGhlIERPTSBwb3NpdGlvbiBzaGlmdC5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9sZWZ0ID0gY3VycmVudExlZnQgKyB0aGlzLl9jb250YWluZXJEaWZmWDtcbiAgICAgICAgICAgIHRoaXMuX3RvcCA9IGN1cnJlbnRUb3AgKyB0aGlzLl9jb250YWluZXJEaWZmWTtcbiAgICAgICAgICAgIGRyYWdDb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3RyYW5zZm9ybVByb3BdID0gZ2V0VHJhbnNsYXRlU3RyaW5nKHRoaXMuX2xlZnQsIHRoaXMuX3RvcCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBTZXQgZHJhZyBjbGFzcyBhbmQgYmluZCBzY3JvbGxlcnMuXG4gICAgICBhZGRDbGFzcyhlbGVtZW50LCBzZXR0aW5ncy5pdGVtRHJhZ2dpbmdDbGFzcyk7XG4gICAgICB0aGlzLl9iaW5kU2Nyb2xsTGlzdGVuZXJzKCk7XG5cbiAgICAgIC8vIEVtaXQgZHJhZ1N0YXJ0IGV2ZW50LlxuICAgICAgZ3JpZC5fZW1pdChldmVudERyYWdTdGFydCwgaXRlbSwgZXZlbnQpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogRHJhZyBtb3ZlIGhhbmRsZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtRHJhZy5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19vbk1vdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Nb3ZlKGV2ZW50KSB7XG4gICAgICB2YXIgaXRlbSA9IHRoaXMuX2l0ZW07XG5cbiAgICAgIC8vIElmIGl0ZW0gaXMgbm90IGFjdGl2ZSwgcmVzZXQgZHJhZy5cbiAgICAgIGlmICghaXRlbS5faXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5fZ2V0R3JpZCgpLl9zZXR0aW5ncztcbiAgICAgIHZhciBheGlzID0gc2V0dGluZ3MuZHJhZ0F4aXM7XG4gICAgICB2YXIgeERpZmYgPSBldmVudC5kZWx0YVggLSB0aGlzLl9sYXN0RXZlbnQuZGVsdGFYO1xuICAgICAgdmFyIHlEaWZmID0gZXZlbnQuZGVsdGFZIC0gdGhpcy5fbGFzdEV2ZW50LmRlbHRhWTtcblxuICAgICAgLy8gVXBkYXRlIGxhc3QgZXZlbnQuXG4gICAgICB0aGlzLl9sYXN0RXZlbnQgPSBldmVudDtcblxuICAgICAgLy8gVXBkYXRlIGhvcml6b250YWwgcG9zaXRpb24gZGF0YS5cbiAgICAgIGlmIChheGlzICE9PSAneScpIHtcbiAgICAgICAgdGhpcy5fbGVmdCArPSB4RGlmZjtcbiAgICAgICAgdGhpcy5fZ3JpZFggKz0geERpZmY7XG4gICAgICAgIHRoaXMuX2VsZW1lbnRDbGllbnRYICs9IHhEaWZmO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdmVydGljYWwgcG9zaXRpb24gZGF0YS5cbiAgICAgIGlmIChheGlzICE9PSAneCcpIHtcbiAgICAgICAgdGhpcy5fdG9wICs9IHlEaWZmO1xuICAgICAgICB0aGlzLl9ncmlkWSArPSB5RGlmZjtcbiAgICAgICAgdGhpcy5fZWxlbWVudENsaWVudFkgKz0geURpZmY7XG4gICAgICB9XG5cbiAgICAgIC8vIERvIG1vdmUgcHJlcGFyZS9hcHBseSBoYW5kbGluZyBpbiB0aGUgbmV4dCB0aWNrLlxuICAgICAgYWRkTW92ZVRpY2soaXRlbS5faWQsIHRoaXMuX3ByZXBhcmVNb3ZlLCB0aGlzLl9hcHBseU1vdmUpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogUHJlcGFyZSBkcmFnZ2VkIGl0ZW0gZm9yIG1vdmluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1EcmFnLnByb3RvdHlwZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19wcmVwYXJlTW92ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9wcmVwYXJlTW92ZSgpIHtcbiAgICAgIC8vIERvIG5vdGhpbmcgaWYgaXRlbSBpcyBub3QgYWN0aXZlLlxuICAgICAgaWYgKCF0aGlzLl9pdGVtLl9pc0FjdGl2ZSkgcmV0dXJuO1xuXG4gICAgICAvLyBJZiBkcmFnIHNvcnQgaXMgZW5hYmxlZCAtPiBjaGVjayBvdmVybGFwLlxuICAgICAgaWYgKHRoaXMuX2dldEdyaWQoKS5fc2V0dGluZ3MuZHJhZ1NvcnQpIHRoaXMuX2NoZWNrT3ZlcmxhcERlYm91bmNlKCk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBBcHBseSBtb3ZlbWVudCB0byBkcmFnZ2VkIGl0ZW0uXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtRHJhZy5wcm90b3R5cGVcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfYXBwbHlNb3ZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGx5TW92ZSgpIHtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5faXRlbTtcblxuICAgICAgLy8gRG8gbm90aGluZyBpZiBpdGVtIGlzIG5vdCBhY3RpdmUuXG4gICAgICBpZiAoIWl0ZW0uX2lzQWN0aXZlKSByZXR1cm47XG5cbiAgICAgIC8vIFVwZGF0ZSBlbGVtZW50J3MgdHJhbnNsYXRlWC9ZIHZhbHVlcy5cbiAgICAgIGl0ZW0uX2VsZW1lbnQuc3R5bGVbdHJhbnNmb3JtUHJvcF0gPSBnZXRUcmFuc2xhdGVTdHJpbmcodGhpcy5fbGVmdCwgdGhpcy5fdG9wKTtcblxuICAgICAgLy8gRW1pdCBkcmFnTW92ZSBldmVudC5cbiAgICAgIHRoaXMuX2dldEdyaWQoKS5fZW1pdChldmVudERyYWdNb3ZlLCBpdGVtLCB0aGlzLl9sYXN0RXZlbnQpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogRHJhZyBzY3JvbGwgaGFuZGxlci5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1EcmFnLnByb3RvdHlwZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX29uU2Nyb2xsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX29uU2Nyb2xsKGV2ZW50KSB7XG4gICAgICB2YXIgaXRlbSA9IHRoaXMuX2l0ZW07XG5cbiAgICAgIC8vIElmIGl0ZW0gaXMgbm90IGFjdGl2ZSwgcmVzZXQgZHJhZy5cbiAgICAgIGlmICghaXRlbS5faXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGxhc3Qgc2Nyb2xsIGV2ZW50LlxuICAgICAgdGhpcy5fbGFzdFNjcm9sbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgIC8vIERvIHNjcm9sbCBwcmVwYXJlL2FwcGx5IGhhbmRsaW5nIGluIHRoZSBuZXh0IHRpY2suXG4gICAgICBhZGRTY3JvbGxUaWNrKGl0ZW0uX2lkLCB0aGlzLl9wcmVwYXJlU2Nyb2xsLCB0aGlzLl9hcHBseVNjcm9sbCk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBQcmVwYXJlIGRyYWdnZWQgaXRlbSBmb3Igc2Nyb2xsaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbURyYWcucHJvdG90eXBlXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3ByZXBhcmVTY3JvbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJlcGFyZVNjcm9sbCgpIHtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5faXRlbTtcblxuICAgICAgLy8gSWYgaXRlbSBpcyBub3QgYWN0aXZlIGRvIG5vdGhpbmcuXG4gICAgICBpZiAoIWl0ZW0uX2lzQWN0aXZlKSByZXR1cm47XG5cbiAgICAgIHZhciBlbGVtZW50ID0gaXRlbS5fZWxlbWVudDtcbiAgICAgIHZhciBncmlkID0gdGhpcy5fZ2V0R3JpZCgpO1xuICAgICAgdmFyIHNldHRpbmdzID0gZ3JpZC5fc2V0dGluZ3M7XG4gICAgICB2YXIgYXhpcyA9IHNldHRpbmdzLmRyYWdBeGlzO1xuICAgICAgdmFyIGdyaWRDb250YWluZXIgPSBncmlkLl9lbGVtZW50O1xuICAgICAgdmFyIG9mZnNldERpZmYgPSB2b2lkIDA7XG5cbiAgICAgIC8vIENhbGN1bGF0ZSBlbGVtZW50J3MgcmVjdCBhbmQgeC95IGRpZmYuXG4gICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgeERpZmYgPSB0aGlzLl9lbGVtZW50Q2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICAgIHZhciB5RGlmZiA9IHRoaXMuX2VsZW1lbnRDbGllbnRZIC0gcmVjdC50b3A7XG5cbiAgICAgIC8vIFVwZGF0ZSBjb250YWluZXIgZGlmZi5cbiAgICAgIGlmICh0aGlzLl9jb250YWluZXIgIT09IGdyaWRDb250YWluZXIpIHtcbiAgICAgICAgb2Zmc2V0RGlmZiA9IGdldE9mZnNldERpZmYodGhpcy5fY29udGFpbmluZ0Jsb2NrLCBncmlkQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyRGlmZlggPSBvZmZzZXREaWZmLmxlZnQ7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lckRpZmZZID0gb2Zmc2V0RGlmZi50b3A7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBob3Jpem9udGFsIHBvc2l0aW9uIGRhdGEuXG4gICAgICBpZiAoYXhpcyAhPT0gJ3knKSB7XG4gICAgICAgIHRoaXMuX2xlZnQgKz0geERpZmY7XG4gICAgICAgIHRoaXMuX2dyaWRYID0gdGhpcy5fbGVmdCAtIHRoaXMuX2NvbnRhaW5lckRpZmZYO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgdmVydGljYWwgcG9zaXRpb24gZGF0YS5cbiAgICAgIGlmIChheGlzICE9PSAneCcpIHtcbiAgICAgICAgdGhpcy5fdG9wICs9IHlEaWZmO1xuICAgICAgICB0aGlzLl9ncmlkWSA9IHRoaXMuX3RvcCAtIHRoaXMuX2NvbnRhaW5lckRpZmZZO1xuICAgICAgfVxuXG4gICAgICAvLyBPdmVybGFwIGhhbmRsaW5nLlxuICAgICAgaWYgKHNldHRpbmdzLmRyYWdTb3J0KSB0aGlzLl9jaGVja092ZXJsYXBEZWJvdW5jZSgpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgc2Nyb2xsIHRvIGRyYWdnZWQgaXRlbS5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1EcmFnLnByb3RvdHlwZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19hcHBseVNjcm9sbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBseVNjcm9sbCgpIHtcbiAgICAgIHZhciBpdGVtID0gdGhpcy5faXRlbTtcblxuICAgICAgLy8gSWYgaXRlbSBpcyBub3QgYWN0aXZlIGRvIG5vdGhpbmcuXG4gICAgICBpZiAoIWl0ZW0uX2lzQWN0aXZlKSByZXR1cm47XG5cbiAgICAgIC8vIFVwZGF0ZSBlbGVtZW50J3MgdHJhbnNsYXRlWC9ZIHZhbHVlcy5cbiAgICAgIGl0ZW0uX2VsZW1lbnQuc3R5bGVbdHJhbnNmb3JtUHJvcF0gPSBnZXRUcmFuc2xhdGVTdHJpbmcodGhpcy5fbGVmdCwgdGhpcy5fdG9wKTtcblxuICAgICAgLy8gRW1pdCBkcmFnU2Nyb2xsIGV2ZW50LlxuICAgICAgdGhpcy5fZ2V0R3JpZCgpLl9lbWl0KGV2ZW50RHJhZ1Njcm9sbCwgaXRlbSwgdGhpcy5fbGFzdFNjcm9sbEV2ZW50KTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIERyYWcgZW5kIGhhbmRsZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtRHJhZy5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19vbkVuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkVuZChldmVudCkge1xuICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtO1xuICAgICAgdmFyIGVsZW1lbnQgPSBpdGVtLl9lbGVtZW50O1xuICAgICAgdmFyIGdyaWQgPSB0aGlzLl9nZXRHcmlkKCk7XG4gICAgICB2YXIgc2V0dGluZ3MgPSBncmlkLl9zZXR0aW5ncztcbiAgICAgIHZhciByZWxlYXNlID0gaXRlbS5fcmVsZWFzZTtcblxuICAgICAgLy8gSWYgaXRlbSBpcyBub3QgYWN0aXZlLCByZXNldCBkcmFnLlxuICAgICAgaWYgKCFpdGVtLl9pc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBDYW5jZWwgcXVldWVkIG1vdmUgYW5kIHNjcm9sbCB0aWNrcy5cbiAgICAgIGNhbmNlbE1vdmVUaWNrKGl0ZW0uX2lkKTtcbiAgICAgIGNhbmNlbFNjcm9sbFRpY2soaXRlbS5faWQpO1xuXG4gICAgICAvLyBGaW5pc2ggY3VycmVudGx5IHF1ZXVlZCBvdmVybGFwIGNoZWNrLlxuICAgICAgc2V0dGluZ3MuZHJhZ1NvcnQgJiYgdGhpcy5fY2hlY2tPdmVybGFwRGVib3VuY2UoJ2ZpbmlzaCcpO1xuXG4gICAgICAvLyBSZW1vdmUgc2Nyb2xsIGxpc3RlbmVycy5cbiAgICAgIHRoaXMuX3VuYmluZFNjcm9sbExpc3RlbmVycygpO1xuXG4gICAgICAvLyBTZXR1cCByZWxlYXNlIGRhdGEuXG4gICAgICByZWxlYXNlLl9jb250YWluZXJEaWZmWCA9IHRoaXMuX2NvbnRhaW5lckRpZmZYO1xuICAgICAgcmVsZWFzZS5fY29udGFpbmVyRGlmZlkgPSB0aGlzLl9jb250YWluZXJEaWZmWTtcblxuICAgICAgLy8gUmVzZXQgZHJhZyBkYXRhLlxuICAgICAgdGhpcy5fcmVzZXQoKTtcblxuICAgICAgLy8gUmVtb3ZlIGRyYWcgY2xhc3MgbmFtZSBmcm9tIGVsZW1lbnQuXG4gICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBzZXR0aW5ncy5pdGVtRHJhZ2dpbmdDbGFzcyk7XG5cbiAgICAgIC8vIEVtaXQgZHJhZ0VuZCBldmVudC5cbiAgICAgIGdyaWQuX2VtaXQoZXZlbnREcmFnRW5kLCBpdGVtLCBldmVudCk7XG5cbiAgICAgIC8vIEZpbmlzaCB1cCB0aGUgbWlncmF0aW9uIHByb2Nlc3Mgb3Igc3RhcnQgdGhlIHJlbGVhc2UgcHJvY2Vzcy5cbiAgICAgIHRoaXMuX2lzTWlncmF0aW5nID8gdGhpcy5fZmluaXNoTWlncmF0aW9uKCkgOiByZWxlYXNlLnN0YXJ0KCk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBJdGVtRHJhZztcbn0oQ29tcG9uZW50KTtcblxuLyoqXHJcbiAqIFB1YmxpYyBzdGF0aWMgbWV0aG9kc1xyXG4gKiAqKioqKioqKioqKioqKioqKioqKipcclxuICovXG5cbi8qKlxyXG4gKiBEZWZhdWx0IGRyYWcgc3RhcnQgcHJlZGljYXRlIGhhbmRsZXIgdGhhdCBoYW5kbGVzIGFuY2hvciBlbGVtZW50c1xyXG4gKiBncmFjZWZ1bGx5LiBUaGUgcmV0dXJuIHZhbHVlIG9mIHRoaXMgZnVuY3Rpb24gZGVmaW5lcyBpZiB0aGUgZHJhZyBpc1xyXG4gKiBzdGFydGVkLCByZWplY3RlZCBvciBwZW5kaW5nLiBXaGVuIHRydWUgaXMgcmV0dXJuZWQgdGhlIGRyYWdnaW5nIGlzIHN0YXJ0ZWRcclxuICogYW5kIHdoZW4gZmFsc2UgaXMgcmV0dXJuZWQgdGhlIGRyYWdnaW5nIGlzIHJlamVjdGVkLiBJZiBub3RoaW5nIGlzIHJldHVybmVkXHJcbiAqIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjYWxsZWQgYWdhaW4gb24gdGhlIG5leHQgZHJhZyBtb3ZlbWVudC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKiBAbWVtYmVyb2YgSXRlbURyYWdcclxuICogQHBhcmFtIHtJdGVtfSBpdGVtXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBldmVudFxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAqICAgLSBBbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdCB3aGljaCBjYW4gYmUgdXNlZCB0byBwYXNzIHRoZSBwcmVkaWNhdGVcclxuICogICAgIGl0J3Mgb3B0aW9ucyBtYW51YWxseS4gQnkgZGVmYXVsdCB0aGUgcHJlZGljYXRlIHJldHJpZXZlcyB0aGUgb3B0aW9uc1xyXG4gKiAgICAgZnJvbSB0aGUgZ3JpZCdzIHNldHRpbmdzLlxyXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICovXG5cblxuSXRlbURyYWcuZGVmYXVsdFN0YXJ0UHJlZGljYXRlID0gZnVuY3Rpb24gKGl0ZW0sIGV2ZW50LCBvcHRpb25zKSB7XG4gIHZhciBkcmFnID0gaXRlbS5fZHJhZztcbiAgdmFyIHByZWRpY2F0ZSA9IGRyYWcuX3N0YXJ0UHJlZGljYXRlRGF0YSB8fCBkcmFnLl9zZXR1cFN0YXJ0UHJlZGljYXRlKG9wdGlvbnMpO1xuXG4gIC8vIEZpbmFsIGV2ZW50IGxvZ2ljLiBBdCB0aGlzIHN0YWdlIHJldHVybiB2YWx1ZSBkb2VzIG5vdCBtYXR0ZXIgYW55bW9yZSxcbiAgLy8gdGhlIHByZWRpY2F0ZSBpcyBlaXRoZXIgcmVzb2x2ZWQgb3IgaXQncyBub3QgYW5kIHRoZXJlJ3Mgbm90aGluZyB0byBkb1xuICAvLyBhYm91dCBpdC4gSGVyZSB3ZSBqdXN0IHJlc2V0IGRhdGEgYW5kIGlmIHRoZSBpdGVtIGVsZW1lbnQgaXMgYSBsaW5rXG4gIC8vIHdlIGZvbGxvdyBpdCAoaWYgdGhlcmUgaGFzIG9ubHkgYmVlbiBzbGlnaHQgbW92ZW1lbnQpLlxuICBpZiAoZXZlbnQuaXNGaW5hbCkge1xuICAgIGRyYWcuX2ZpbmlzaFN0YXJ0UHJlZGljYXRlKGV2ZW50KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGaW5kIGFuZCBzdG9yZSB0aGUgaGFuZGxlIGVsZW1lbnQgc28gd2UgY2FuIGNoZWNrIGxhdGVyIG9uIGlmIHRoZVxuICAvLyBjdXJzb3IgaXMgd2l0aGluIHRoZSBoYW5kbGUuIElmIHdlIGhhdmUgYSBoYW5kbGUgc2VsZWN0b3IgbGV0J3MgZmluZFxuICAvLyB0aGUgY29ycmVzcG9uZGluZyBlbGVtZW50LiBPdGhlcndpc2UgbGV0J3MgdXNlIHRoZSBpdGVtIGVsZW1lbnQgYXMgdGhlXG4gIC8vIGhhbmRsZS5cbiAgaWYgKCFwcmVkaWNhdGUuaGFuZGxlRWxlbWVudCkge1xuICAgIHByZWRpY2F0ZS5oYW5kbGVFbGVtZW50ID0gZHJhZy5fZ2V0U3RhcnRQcmVkaWNhdGVIYW5kbGUoZXZlbnQpO1xuICAgIGlmICghcHJlZGljYXRlLmhhbmRsZUVsZW1lbnQpIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIElmIGRlbGF5IGlzIGRlZmluZWQgbGV0J3Mga2VlcCB0cmFjayBvZiB0aGUgbGF0ZXN0IGV2ZW50IGFuZCBpbml0aWF0ZVxuICAvLyBkZWxheSBpZiBpdCBoYXMgbm90IGJlZW4gZG9uZSB5ZXQuXG4gIGlmIChwcmVkaWNhdGUuZGVsYXkpIHtcbiAgICBwcmVkaWNhdGUuZXZlbnQgPSBldmVudDtcbiAgICBpZiAoIXByZWRpY2F0ZS5kZWxheVRpbWVyKSB7XG4gICAgICBwcmVkaWNhdGUuZGVsYXlUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcHJlZGljYXRlLmRlbGF5ID0gMDtcbiAgICAgICAgaWYgKGRyYWcuX3Jlc29sdmVTdGFydFByZWRpY2F0ZShwcmVkaWNhdGUuZXZlbnQpKSB7XG4gICAgICAgICAgZHJhZy5fZm9yY2VSZXNvbHZlU3RhcnRQcmVkaWNhdGUocHJlZGljYXRlLmV2ZW50KTtcbiAgICAgICAgICBkcmFnLl9yZXNldFN0YXJ0UHJlZGljYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHByZWRpY2F0ZS5kZWxheSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRyYWcuX3Jlc29sdmVTdGFydFByZWRpY2F0ZShldmVudCk7XG59O1xuXG4vKipcclxuICogRGVmYXVsdCBkcmFnIHNvcnQgcHJlZGljYXRlLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqIEBtZW1iZXJvZiBJdGVtRHJhZ1xyXG4gKiBAcGFyYW0ge0l0ZW19IGl0ZW1cclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudGhyZXNob2xkPTUwXVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWN0aW9uPSdtb3ZlJ11cclxuICogQHJldHVybnMgeyhCb29sZWFufERyYWdTb3J0Q29tbWFuZCl9XHJcbiAqICAgLSBSZXR1cm5zIGZhbHNlIGlmIG5vIHZhbGlkIGluZGV4IHdhcyBmb3VuZC4gT3RoZXJ3aXNlIHJldHVybnMgZHJhZyBzb3J0XHJcbiAqICAgICBjb21tYW5kLlxyXG4gKi9cbkl0ZW1EcmFnLmRlZmF1bHRTb3J0UHJlZGljYXRlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaXRlbVJlY3QgPSB7fTtcbiAgdmFyIHRhcmdldFJlY3QgPSB7fTtcbiAgdmFyIHJldHVybkRhdGEgPSB7fTtcbiAgdmFyIHJvb3RHcmlkQXJyYXkgPSBbXTtcblxuICBmdW5jdGlvbiBnZXRUYXJnZXRHcmlkKGl0ZW0sIHJvb3RHcmlkLCB0aHJlc2hvbGQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gbnVsbDtcbiAgICB2YXIgZHJhZ1NvcnQgPSByb290R3JpZC5fc2V0dGluZ3MuZHJhZ1NvcnQ7XG4gICAgdmFyIGJlc3RTY29yZSA9IC0xO1xuICAgIHZhciBncmlkU2NvcmUgPSB2b2lkIDA7XG4gICAgdmFyIGdyaWRzID0gdm9pZCAwO1xuICAgIHZhciBncmlkID0gdm9pZCAwO1xuICAgIHZhciBpID0gdm9pZCAwO1xuXG4gICAgLy8gR2V0IHBvdGVudGlhbCB0YXJnZXQgZ3JpZHMuXG4gICAgaWYgKGRyYWdTb3J0ID09PSB0cnVlKSB7XG4gICAgICByb290R3JpZEFycmF5WzBdID0gcm9vdEdyaWQ7XG4gICAgICBncmlkcyA9IHJvb3RHcmlkQXJyYXk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdyaWRzID0gZHJhZ1NvcnQuY2FsbChyb290R3JpZCwgaXRlbSk7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyBncmlkcy5cbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ3JpZHMpKSByZXR1cm4gdGFyZ2V0O1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBncmlkcyBhbmQgZ2V0IHRoZSBiZXN0IG1hdGNoLlxuICAgIGZvciAoaSA9IDA7IGkgPCBncmlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgZ3JpZCA9IGdyaWRzW2ldO1xuXG4gICAgICAvLyBGaWx0ZXIgb3V0IGFsbCBkZXN0cm95ZWQgZ3JpZHMuXG4gICAgICBpZiAoZ3JpZC5faXNEZXN0cm95ZWQpIGNvbnRpbnVlO1xuXG4gICAgICAvLyBXZSBuZWVkIHRvIHVwZGF0ZSB0aGUgZ3JpZCdzIG9mZnNldHMgYW5kIGRpbWVuc2lvbnMgc2luY2UgdGhleSBtaWdodFxuICAgICAgLy8gaGF2ZSBjaGFuZ2VkIChlLmcgZHVyaW5nIHNjcm9sbGluZykuXG4gICAgICBncmlkLl91cGRhdGVCb3VuZGluZ1JlY3QoKTtcblxuICAgICAgLy8gQ2hlY2sgaG93IG11Y2ggZHJhZ2dlZCBlbGVtZW50IG92ZXJsYXBzIHRoZSBjb250YWluZXIgZWxlbWVudC5cbiAgICAgIHRhcmdldFJlY3Qud2lkdGggPSBncmlkLl93aWR0aDtcbiAgICAgIHRhcmdldFJlY3QuaGVpZ2h0ID0gZ3JpZC5faGVpZ2h0O1xuICAgICAgdGFyZ2V0UmVjdC5sZWZ0ID0gZ3JpZC5fbGVmdDtcbiAgICAgIHRhcmdldFJlY3QudG9wID0gZ3JpZC5fdG9wO1xuICAgICAgZ3JpZFNjb3JlID0gZ2V0UmVjdE92ZXJsYXBTY29yZShpdGVtUmVjdCwgdGFyZ2V0UmVjdCk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgZ3JpZCBpcyB0aGUgYmVzdCBtYXRjaCBzbyBmYXIuXG4gICAgICBpZiAoZ3JpZFNjb3JlID4gdGhyZXNob2xkICYmIGdyaWRTY29yZSA+IGJlc3RTY29yZSkge1xuICAgICAgICBiZXN0U2NvcmUgPSBncmlkU2NvcmU7XG4gICAgICAgIHRhcmdldCA9IGdyaWQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWx3YXlzIHJlc2V0IHJvb3QgZ3JpZCBhcnJheS5cbiAgICByb290R3JpZEFycmF5Lmxlbmd0aCA9IDA7XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChpdGVtLCBvcHRpb25zKSB7XG4gICAgdmFyIGRyYWcgPSBpdGVtLl9kcmFnO1xuICAgIHZhciByb290R3JpZCA9IGRyYWcuX2dldEdyaWQoKTtcblxuICAgIC8vIEdldCBkcmFnIHNvcnQgcHJlZGljYXRlIHNldHRpbmdzLlxuICAgIHZhciBzb3J0VGhyZXNob2xkID0gb3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy50aHJlc2hvbGQgPT09ICdudW1iZXInID8gb3B0aW9ucy50aHJlc2hvbGQgOiA1MDtcbiAgICB2YXIgc29ydEFjdGlvbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5hY3Rpb24gPT09ICdzd2FwJyA/ICdzd2FwJyA6ICdtb3ZlJztcblxuICAgIC8vIFBvcHVsYXRlIGl0ZW0gcmVjdCBkYXRhLlxuICAgIGl0ZW1SZWN0LndpZHRoID0gaXRlbS5fd2lkdGg7XG4gICAgaXRlbVJlY3QuaGVpZ2h0ID0gaXRlbS5faGVpZ2h0O1xuICAgIGl0ZW1SZWN0LmxlZnQgPSBkcmFnLl9lbGVtZW50Q2xpZW50WDtcbiAgICBpdGVtUmVjdC50b3AgPSBkcmFnLl9lbGVtZW50Q2xpZW50WTtcblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgdGFyZ2V0IGdyaWQuXG4gICAgdmFyIGdyaWQgPSBnZXRUYXJnZXRHcmlkKGl0ZW0sIHJvb3RHcmlkLCBzb3J0VGhyZXNob2xkKTtcblxuICAgIC8vIFJldHVybiBlYXJseSBpZiB3ZSBmb3VuZCBubyBncmlkIGNvbnRhaW5lciBlbGVtZW50IHRoYXQgb3ZlcmxhcHMgdGhlXG4gICAgLy8gZHJhZ2dlZCBpdGVtIGVub3VnaC5cbiAgICBpZiAoIWdyaWQpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBncmlkT2Zmc2V0TGVmdCA9IDA7XG4gICAgdmFyIGdyaWRPZmZzZXRUb3AgPSAwO1xuICAgIHZhciBtYXRjaFNjb3JlID0gLTE7XG4gICAgdmFyIG1hdGNoSW5kZXggPSB2b2lkIDA7XG4gICAgdmFyIGhhc1ZhbGlkVGFyZ2V0cyA9IHZvaWQgMDtcbiAgICB2YXIgdGFyZ2V0ID0gdm9pZCAwO1xuICAgIHZhciBzY29yZSA9IHZvaWQgMDtcbiAgICB2YXIgaSA9IHZvaWQgMDtcblxuICAgIC8vIElmIGl0ZW0gaXMgbW92ZWQgd2l0aGluIGl0J3Mgb3JpZ2luYXRpbmcgZ3JpZCBhZGp1c3QgaXRlbSdzIGxlZnQgYW5kXG4gICAgLy8gdG9wIHByb3BzLiBPdGhlcndpc2UgaWYgaXRlbSBpcyBtb3ZlZCB0by93aXRoaW4gYW5vdGhlciBncmlkIGdldCB0aGVcbiAgICAvLyBjb250YWluZXIgZWxlbWVudCdzIG9mZnNldCAoZnJvbSB0aGUgZWxlbWVudCdzIGNvbnRlbnQgZWRnZSkuXG4gICAgaWYgKGdyaWQgPT09IHJvb3RHcmlkKSB7XG4gICAgICBpdGVtUmVjdC5sZWZ0ID0gZHJhZy5fZ3JpZFggKyBpdGVtLl9tYXJnaW5MZWZ0O1xuICAgICAgaXRlbVJlY3QudG9wID0gZHJhZy5fZ3JpZFkgKyBpdGVtLl9tYXJnaW5Ub3A7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdyaWQuX3VwZGF0ZUJvcmRlcnMoMSwgMCwgMSwgMCk7XG4gICAgICBncmlkT2Zmc2V0TGVmdCA9IGdyaWQuX2xlZnQgKyBncmlkLl9ib3JkZXJMZWZ0O1xuICAgICAgZ3JpZE9mZnNldFRvcCA9IGdyaWQuX3RvcCArIGdyaWQuX2JvcmRlclRvcDtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggdGhlIHRhcmdldCBncmlkIGl0ZW1zIGFuZCB0cnkgdG8gZmluZCB0aGUgYmVzdCBtYXRjaC5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZ3JpZC5faXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRhcmdldCA9IGdyaWQuX2l0ZW1zW2ldO1xuXG4gICAgICAvLyBJZiB0aGUgdGFyZ2V0IGl0ZW0gaXMgbm90IGFjdGl2ZSBvciB0aGUgdGFyZ2V0IGl0ZW0gaXMgdGhlIGRyYWdnZWRcbiAgICAgIC8vIGl0ZW0gbGV0J3Mgc2tpcCB0byB0aGUgbmV4dCBpdGVtLlxuICAgICAgaWYgKCF0YXJnZXQuX2lzQWN0aXZlIHx8IHRhcmdldCA9PT0gaXRlbSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gTWFyayB0aGUgZ3JpZCBhcyBoYXZpbmcgdmFsaWQgdGFyZ2V0IGl0ZW1zLlxuICAgICAgaGFzVmFsaWRUYXJnZXRzID0gdHJ1ZTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB0YXJnZXQncyBvdmVybGFwIHNjb3JlIHdpdGggdGhlIGRyYWdnZWQgaXRlbS5cbiAgICAgIHRhcmdldFJlY3Qud2lkdGggPSB0YXJnZXQuX3dpZHRoO1xuICAgICAgdGFyZ2V0UmVjdC5oZWlnaHQgPSB0YXJnZXQuX2hlaWdodDtcbiAgICAgIHRhcmdldFJlY3QubGVmdCA9IHRhcmdldC5fbGVmdCArIHRhcmdldC5fbWFyZ2luTGVmdCArIGdyaWRPZmZzZXRMZWZ0O1xuICAgICAgdGFyZ2V0UmVjdC50b3AgPSB0YXJnZXQuX3RvcCArIHRhcmdldC5fbWFyZ2luVG9wICsgZ3JpZE9mZnNldFRvcDtcbiAgICAgIHNjb3JlID0gZ2V0UmVjdE92ZXJsYXBTY29yZShpdGVtUmVjdCwgdGFyZ2V0UmVjdCk7XG5cbiAgICAgIC8vIFVwZGF0ZSBiZXN0IG1hdGNoIGluZGV4IGFuZCBzY29yZSBpZiB0aGUgdGFyZ2V0J3Mgb3ZlcmxhcCBzY29yZSB3aXRoXG4gICAgICAvLyB0aGUgZHJhZ2dlZCBpdGVtIGlzIGhpZ2hlciB0aGFuIHRoZSBjdXJyZW50IGJlc3QgbWF0Y2ggc2NvcmUuXG4gICAgICBpZiAoc2NvcmUgPiBtYXRjaFNjb3JlKSB7XG4gICAgICAgIG1hdGNoSW5kZXggPSBpO1xuICAgICAgICBtYXRjaFNjb3JlID0gc2NvcmU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gdmFsaWQgbWF0Y2ggYW5kIHRoZSBpdGVtIGlzIGJlaW5nIG1vdmVkIGludG8gYW5vdGhlclxuICAgIC8vIGdyaWQuXG4gICAgaWYgKG1hdGNoU2NvcmUgPCBzb3J0VGhyZXNob2xkICYmIGl0ZW0uZ2V0R3JpZCgpICE9PSBncmlkKSB7XG4gICAgICBtYXRjaEluZGV4ID0gaGFzVmFsaWRUYXJnZXRzID8gLTEgOiAwO1xuICAgICAgbWF0Y2hTY29yZSA9IEluZmluaXR5O1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoZSBiZXN0IG1hdGNoIG92ZXJsYXBzIGVub3VnaCB0byBqdXN0aWZ5IGEgcGxhY2VtZW50IHN3aXRjaC5cbiAgICBpZiAobWF0Y2hTY29yZSA+PSBzb3J0VGhyZXNob2xkKSB7XG4gICAgICByZXR1cm5EYXRhLmdyaWQgPSBncmlkO1xuICAgICAgcmV0dXJuRGF0YS5pbmRleCA9IG1hdGNoSW5kZXg7XG4gICAgICByZXR1cm5EYXRhLmFjdGlvbiA9IHNvcnRBY3Rpb247XG4gICAgICByZXR1cm4gcmV0dXJuRGF0YTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG59KCk7XG5cbi8qKlxyXG4gKiBQcml2YXRlIGhlbHBlcnNcclxuICogKioqKioqKioqKioqKioqXHJcbiAqL1xuXG4vKipcclxuICogUHJldmVudCBkZWZhdWx0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gZVxyXG4gKi9cbmZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KGUpIHtcbiAgaWYgKGUucHJldmVudERlZmF1bHQpIGUucHJldmVudERlZmF1bHQoKTtcbn1cblxuLyoqXHJcbiAqIENhbGN1bGF0ZSBob3cgbWFueSBwZXJjZW50IHRoZSBpbnRlcnNlY3Rpb24gYXJlYSBvZiB0d28gcmVjdGFuZ2xlcyBpcyBmcm9tXHJcbiAqIHRoZSBtYXhpbXVtIHBvdGVudGlhbCBpbnRlcnNlY3Rpb24gYXJlYSBiZXR3ZWVuIHRoZSByZWN0YW5nbGVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1JlY3RhbmdsZX0gYVxyXG4gKiBAcGFyYW0ge1JlY3RhbmdsZX0gYlxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gKiAgIC0gQSBudW1iZXIgYmV0d2VlbiAwLTEwMC5cclxuICovXG5mdW5jdGlvbiBnZXRSZWN0T3ZlcmxhcFNjb3JlKGEsIGIpIHtcbiAgLy8gUmV0dXJuIDAgaW1tZWRpYXRlbHkgaWYgdGhlIHJlY3RhbmdsZXMgZG8gbm90IG92ZXJsYXAuXG4gIGlmIChhLmxlZnQgKyBhLndpZHRoIDw9IGIubGVmdCB8fCBiLmxlZnQgKyBiLndpZHRoIDw9IGEubGVmdCB8fCBhLnRvcCArIGEuaGVpZ2h0IDw9IGIudG9wIHx8IGIudG9wICsgYi5oZWlnaHQgPD0gYS50b3ApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBpbnRlcnNlY3Rpb24gYXJlYSdzIHdpZHRoLCBoZWlnaHQsIG1heCBoZWlnaHQgYW5kIG1heCB3aWR0aC5cbiAgdmFyIHdpZHRoID0gTWF0aC5taW4oYS5sZWZ0ICsgYS53aWR0aCwgYi5sZWZ0ICsgYi53aWR0aCkgLSBNYXRoLm1heChhLmxlZnQsIGIubGVmdCk7XG4gIHZhciBoZWlnaHQgPSBNYXRoLm1pbihhLnRvcCArIGEuaGVpZ2h0LCBiLnRvcCArIGIuaGVpZ2h0KSAtIE1hdGgubWF4KGEudG9wLCBiLnRvcCk7XG4gIHZhciBtYXhXaWR0aCA9IE1hdGgubWluKGEud2lkdGgsIGIud2lkdGgpO1xuICB2YXIgbWF4SGVpZ2h0ID0gTWF0aC5taW4oYS5oZWlnaHQsIGIuaGVpZ2h0KTtcblxuICByZXR1cm4gd2lkdGggKiBoZWlnaHQgLyAobWF4V2lkdGggKiBtYXhIZWlnaHQpICogMTAwO1xufVxuXG4vKipcclxuICogR2V0IGVsZW1lbnQncyBzY3JvbGwgcGFyZW50cy5cclxuICpcclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudFxyXG4gKiBAcGFyYW0ge0FycmF5fSBbZGF0YV1cclxuICogQHJldHVybnMge0hUTUxFbGVtZW50W119XHJcbiAqL1xuZnVuY3Rpb24gZ2V0U2Nyb2xsUGFyZW50cyhlbGVtZW50LCBkYXRhKSB7XG4gIHZhciByZXQgPSBkYXRhIHx8IFtdO1xuICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuXG4gIC8vXG4gIC8vIElmIHRyYW5zZm9ybWVkIGVsZW1lbnRzIGxlYWsgZml4ZWQgZWxlbWVudHMuXG4gIC8vXG5cbiAgaWYgKGhhc1RyYW5zZm9ybUxlYWspIHtcbiAgICAvLyBJZiB0aGUgZWxlbWVudCBpcyBmaXhlZCBpdCBjYW4gbm90IGhhdmUgYW55IHNjcm9sbCBwYXJlbnRzLlxuICAgIGlmIChnZXRTdHlsZShlbGVtZW50LCAncG9zaXRpb24nKSA9PT0gJ2ZpeGVkJykgcmV0dXJuIHJldDtcblxuICAgIC8vIEZpbmQgc2Nyb2xsIHBhcmVudHMuXG4gICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQgIT09IGRvY3VtZW50ICYmIHBhcmVudCAhPT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgICBpZiAoaXNTY3JvbGxhYmxlKHBhcmVudCkpIHJldC5wdXNoKHBhcmVudCk7XG4gICAgICBwYXJlbnQgPSBnZXRTdHlsZShwYXJlbnQsICdwb3NpdGlvbicpID09PSAnZml4ZWQnID8gbnVsbCA6IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIC8vIElmIHBhcmVudCBpcyBub3QgZml4ZWQgZWxlbWVudCwgYWRkIHdpbmRvdyBvYmplY3QgYXMgdGhlIGxhc3Qgc2Nyb2xsXG4gICAgLy8gcGFyZW50LlxuICAgIHBhcmVudCAhPT0gbnVsbCAmJiByZXQucHVzaCh3aW5kb3cpO1xuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvL1xuICAvLyBJZiBmaXhlZCBlbGVtZW50cyBiZWhhdmUgYXMgZGVmaW5lZCBpbiB0aGUgVzNDIHNwZWNpZmljYXRpb24uXG4gIC8vXG5cbiAgLy8gRmluZCBzY3JvbGwgcGFyZW50cy5cbiAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQgIT09IGRvY3VtZW50KSB7XG4gICAgLy8gSWYgdGhlIGN1cnJlbnRseSBsb29wZWQgZWxlbWVudCBpcyBmaXhlZCBpZ25vcmUgYWxsIHBhcmVudHMgdGhhdCBhcmVcbiAgICAvLyBub3QgdHJhbnNmb3JtZWQuXG4gICAgaWYgKGdldFN0eWxlKGVsZW1lbnQsICdwb3NpdGlvbicpID09PSAnZml4ZWQnICYmICFpc1RyYW5zZm9ybWVkKHBhcmVudCkpIHtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBwYXJlbnQgZWxlbWVudCB0byByZXR1cm4gaXRlbXMgaWYgaXQgaXMgc2Nyb2xsYWJsZS5cbiAgICBpZiAoaXNTY3JvbGxhYmxlKHBhcmVudCkpIHJldC5wdXNoKHBhcmVudCk7XG5cbiAgICAvLyBVcGRhdGUgZWxlbWVudCBhbmQgcGFyZW50IHJlZmVyZW5jZXMuXG4gICAgZWxlbWVudCA9IHBhcmVudDtcbiAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgfVxuXG4gIC8vIElmIHRoZSBsYXN0IGl0ZW0gaXMgdGhlIHJvb3QgZWxlbWVudCwgcmVwbGFjZSBpdCB3aXRoIHdpbmRvdy4gVGhlIHJvb3RcbiAgLy8gZWxlbWVudCBzY3JvbGwgaXMgcHJvcGFnYXRlZCB0byB0aGUgd2luZG93LlxuICBpZiAocmV0W3JldC5sZW5ndGggLSAxXSA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgcmV0W3JldC5sZW5ndGggLSAxXSA9IHdpbmRvdztcbiAgfVxuICAvLyBPdGhlcndpc2UgYWRkIHdpbmRvdyBhcyB0aGUgbGFzdCBzY3JvbGwgcGFyZW50LlxuICBlbHNlIHtcbiAgICAgIHJldC5wdXNoKHdpbmRvdyk7XG4gICAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbi8qKlxyXG4gKiBDaGVjayBpZiBhbiBlbGVtZW50IGlzIHNjcm9sbGFibGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAqL1xuZnVuY3Rpb24gaXNTY3JvbGxhYmxlKGVsZW1lbnQpIHtcbiAgdmFyIG92ZXJmbG93ID0gZ2V0U3R5bGUoZWxlbWVudCwgJ292ZXJmbG93Jyk7XG4gIGlmIChvdmVyZmxvdyA9PT0gJ2F1dG8nIHx8IG92ZXJmbG93ID09PSAnc2Nyb2xsJykgcmV0dXJuIHRydWU7XG5cbiAgb3ZlcmZsb3cgPSBnZXRTdHlsZShlbGVtZW50LCAnb3ZlcmZsb3cteCcpO1xuICBpZiAob3ZlcmZsb3cgPT09ICdhdXRvJyB8fCBvdmVyZmxvdyA9PT0gJ3Njcm9sbCcpIHJldHVybiB0cnVlO1xuXG4gIG92ZXJmbG93ID0gZ2V0U3R5bGUoZWxlbWVudCwgJ292ZXJmbG93LXknKTtcbiAgaWYgKG92ZXJmbG93ID09PSAnYXV0bycgfHwgb3ZlcmZsb3cgPT09ICdzY3JvbGwnKSByZXR1cm4gdHJ1ZTtcblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxyXG4gKiBDaGVjayBpZiBkcmFnIGdlc3R1cmUgY2FuIGJlIGludGVycHJldGVkIGFzIGEgY2xpY2ssIGJhc2VkIG9uIGZpbmFsIGRyYWdcclxuICogZXZlbnQgZGF0YS5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGVsZW1lbnRcclxuICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAqL1xuZnVuY3Rpb24gaXNDbGljayhldmVudCkge1xuICByZXR1cm4gTWF0aC5hYnMoZXZlbnQuZGVsdGFYKSA8IDIgJiYgTWF0aC5hYnMoZXZlbnQuZGVsdGFZKSA8IDIgJiYgZXZlbnQuZGVsdGFUaW1lIDwgMjAwO1xufVxuXG4vKipcclxuICogQ2hlY2sgaWYgYW4gZWxlbWVudCBpcyBhbiBhbmNob3IgZWxlbWVudCBhbmQgb3BlbiB0aGUgaHJlZiB1cmwgaWYgcG9zc2libGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICovXG5mdW5jdGlvbiBvcGVuQW5jaG9ySHJlZihlbGVtZW50KSB7XG4gIC8vIE1ha2Ugc3VyZSB0aGUgZWxlbWVudCBpcyBhbmNob3IgZWxlbWVudC5cbiAgaWYgKGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHJldHVybjtcblxuICAvLyBHZXQgaHJlZiBhbmQgbWFrZSBzdXJlIGl0IGV4aXN0cy5cbiAgdmFyIGhyZWYgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICBpZiAoIWhyZWYpIHJldHVybjtcblxuICAvLyBGaW5hbGx5IGxldCdzIG5hdmlnYXRlIHRvIHRoZSBsaW5rIGhyZWYuXG4gIHZhciB0YXJnZXQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgndGFyZ2V0Jyk7XG4gIGlmICh0YXJnZXQgJiYgdGFyZ2V0ICE9PSAnX3NlbGYnKSB7XG4gICAgd2luZG93Lm9wZW4oaHJlZiwgdGFyZ2V0KTtcbiAgfSBlbHNlIHtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gIH1cbn1cblxuLyoqXHJcbiAqIERldGVjdHMgaWYgdHJhbnNmb3JtZWQgZWxlbWVudHMgbGVhayBmaXhlZCBlbGVtZW50cy4gQWNjb3JkaW5nIFczQ1xyXG4gKiB0cmFuc2Zvcm0gcmVuZGVyaW5nIHNwZWMgYSB0cmFuc2Zvcm1lZCBlbGVtZW50IHNob3VsZCBjb250YWluIGV2ZW4gZml4ZWRcclxuICogZWxlbWVudHMuIE1lYW5pbmcgdGhhdCBmaXhlZCBlbGVtZW50cyBhcmUgcG9zaXRpb25lZCByZWxhdGl2ZSB0byB0aGVcclxuICogY2xvc2VzdCB0cmFuc2Zvcm1lZCBhbmNlc3RvciBlbGVtZW50IGluc3RlYWQgb2Ygd2luZG93LiBIb3dldmVyLCBub3QgZXZlcnlcclxuICogYnJvd3NlciBmb2xsb3dzIHRoZSBzcGVjIChJRSBhbmQgb2xkZXIgRmlyZWZveCkuIFNvIHdlIG5lZWQgdG8gdGVzdCBpdC5cclxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2NzczMtMmQtdHJhbnNmb3Jtcy8jdHJhbnNmb3JtLXJlbmRlcmluZ1xyXG4gKlxyXG4gKiBCb3Jyb3dlZCBmcm9tIE1lenIgKHYwLjYuMSk6XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9uaWtsYXNyYW1vL21lenIvYmxvYi8wLjYuMS9tZXpyLmpzI0w2MDdcclxuICovXG5mdW5jdGlvbiBjaGVja1RyYW5zZm9ybUxlYWsoKSB7XG4gIC8vIE5vIHRyYW5zZm9ybXMgLT4gZGVmaW5pdGVseSBsZWFrcy5cbiAgaWYgKCFpc1RyYW5zZm9ybVN1cHBvcnRlZCkgcmV0dXJuIHRydWU7XG5cbiAgLy8gTm8gYm9keSBhdmFpbGFibGUgLT4gY2FuJ3QgY2hlY2sgaXQuXG4gIGlmICghZG9jdW1lbnQuYm9keSkgcmV0dXJuIG51bGw7XG5cbiAgLy8gRG8gdGhlIHRlc3QuXG4gIHZhciBlbGVtcyA9IFswLCAxXS5tYXAoZnVuY3Rpb24gKGVsZW0sIGlzSW5uZXIpIHtcbiAgICBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9IGlzSW5uZXIgPyAnZml4ZWQnIDogJ2Fic29sdXRlJztcbiAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIGVsZW0uc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgIGVsZW0uc3R5bGUubGVmdCA9IGlzSW5uZXIgPyAnMHB4JyA6ICcxcHgnO1xuICAgIGVsZW0uc3R5bGVbdHJhbnNmb3JtUHJvcF0gPSAnbm9uZSc7XG4gICAgcmV0dXJuIGVsZW07XG4gIH0pO1xuICB2YXIgb3V0ZXIgPSBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1zWzBdKTtcbiAgdmFyIGlubmVyID0gb3V0ZXIuYXBwZW5kQ2hpbGQoZWxlbXNbMV0pO1xuICB2YXIgbGVmdCA9IGlubmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gIG91dGVyLnN0eWxlW3RyYW5zZm9ybVByb3BdID0gJ3NjYWxlKDEpJztcbiAgdmFyIHJldCA9IGxlZnQgPT09IGlubmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3V0ZXIpO1xuICByZXR1cm4gcmV0O1xufVxuXG4vKipcclxuICogTXV1cmkgUXVldWVcclxuICogQ29weXJpZ2h0IChjKSAyMDE4LXByZXNlbnQsIE5pa2xhcyBSw6Rtw7YgPGlucmFtb0BnbWFpbC5jb20+XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvc3JjL1F1ZXVlL0xJQ0VOU0UubWRcclxuICovXG5cbi8qKlxyXG4gKiBRdWV1ZSBjb25zdHJ1Y3Rvci5cclxuICpcclxuICogQGNsYXNzXHJcbiAqL1xuXG52YXIgUXVldWUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhRdWV1ZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUXVldWUoKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgUXVldWUpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUXVldWUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihRdWV1ZSkpLmNhbGwodGhpcykpO1xuXG4gICAgX3RoaXMuX3F1ZXVlID0gW107XG4gICAgX3RoaXMuX2lzRGVzdHJveWVkID0gZmFsc2U7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoUXVldWUsIFt7XG4gICAga2V5OiAnYWRkJyxcblxuXG4gICAgLyoqXHJcbiAgICAqIFB1YmxpYyBwcm90b3R5cGUgbWV0aG9kc1xyXG4gICAgKiAqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgICovXG5cbiAgICAvKipcclxuICAgICogQWRkIGNhbGxiYWNrIHRvIHRoZSBxdWV1ZS5cclxuICAgICpcclxuICAgICogQHB1YmxpY1xyXG4gICAgKiBAbWVtYmVyb2YgUXVldWUucHJvdG90eXBlXHJcbiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAqIEByZXR1cm5zIHtRdWV1ZX1cclxuICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChjYWxsYmFjaykge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcbiAgICAgIHRoaXMuX3F1ZXVlLnB1c2goY2FsbGJhY2spO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZmx1c2gnLFxuXG5cbiAgICAvKipcclxuICAgICogUHJvY2VzcyBxdWV1ZSBjYWxsYmFja3MgYW5kIHJlc2V0IHRoZSBxdWV1ZS5cclxuICAgICpcclxuICAgICogQHB1YmxpY1xyXG4gICAgKiBAbWVtYmVyb2YgUXVldWUucHJvdG90eXBlXHJcbiAgICAqIEBwYXJhbSB7Kn0gYXJnMVxyXG4gICAgKiBAcGFyYW0geyp9IGFyZzJcclxuICAgICogQHJldHVybnMge1F1ZXVlfVxyXG4gICAgKi9cbiAgICB2YWx1ZTogZnVuY3Rpb24gZmx1c2goYXJnMSwgYXJnMikge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcblxuICAgICAgdmFyIHF1ZXVlID0gdGhpcy5fcXVldWU7XG4gICAgICB2YXIgbGVuZ3RoID0gcXVldWUubGVuZ3RoO1xuICAgICAgdmFyIGkgPSB2b2lkIDA7XG5cbiAgICAgIC8vIFF1aXQgZWFybHkgaWYgdGhlIHF1ZXVlIGlzIGVtcHR5LlxuICAgICAgaWYgKCFsZW5ndGgpIHJldHVybiB0aGlzO1xuXG4gICAgICB2YXIgc2luZ2xlQ2FsbGJhY2sgPSBsZW5ndGggPT09IDE7XG4gICAgICB2YXIgc25hcHNob3QgPSBzaW5nbGVDYWxsYmFjayA/IHF1ZXVlWzBdIDogcXVldWUuc2xpY2UoMCk7XG5cbiAgICAgIC8vIFJlc2V0IHF1ZXVlLlxuICAgICAgcXVldWUubGVuZ3RoID0gMDtcblxuICAgICAgLy8gSWYgd2Ugb25seSBoYXZlIGEgc2luZ2xlIGNhbGxiYWNrIGxldCdzIGp1c3QgY2FsbCBpdC5cbiAgICAgIGlmIChzaW5nbGVDYWxsYmFjaykge1xuICAgICAgICBzbmFwc2hvdChhcmcxLCBhcmcyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlIGhhdmUgbXVsdGlwbGUgY2FsbGJhY2tzLCBsZXQncyBwcm9jZXNzIHRoZW0uXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgc25hcHNob3RbaV0oYXJnMSwgYXJnMik7XG4gICAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgKiBEZXN0cm95IFF1ZXVlIGluc3RhbmNlLlxyXG4gICAgKlxyXG4gICAgKiBAcHVibGljXHJcbiAgICAqIEBtZW1iZXJvZiBRdWV1ZS5wcm90b3R5cGVcclxuICAgICogQHJldHVybnMge1F1ZXVlfVxyXG4gICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZGVzdHJveScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybiB0aGlzO1xuXG4gICAgICB0aGlzLl9pc0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICB0aGlzLl9xdWV1ZS5sZW5ndGggPSAwO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFF1ZXVlO1xufShDb21wb25lbnQpO1xuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuLyoqXHJcbiAqIExheW91dCBtYW5hZ2VyIGZvciBJdGVtIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAY2xhc3NcclxuICogQHBhcmFtIHtJdGVtfSBpdGVtXHJcbiAqL1xuXG52YXIgSXRlbUxheW91dCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgaW5oZXJpdHMoSXRlbUxheW91dCwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBJdGVtTGF5b3V0KGl0ZW0pIHtcbiAgICAgICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgSXRlbUxheW91dCk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSXRlbUxheW91dC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEl0ZW1MYXlvdXQpKS5jYWxsKHRoaXMsIGl0ZW0pKTtcblxuICAgICAgICBfdGhpcy5faXRlbSA9IGl0ZW07XG4gICAgICAgIF90aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5faXNEZXN0cm95ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2lzSW50ZXJydXB0ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2N1cnJlbnRTdHlsZXMgPSB7fTtcbiAgICAgICAgX3RoaXMuX3RhcmdldFN0eWxlcyA9IHt9O1xuICAgICAgICBfdGhpcy5fY3VycmVudExlZnQgPSAwO1xuICAgICAgICBfdGhpcy5fY3VycmVudFRvcCA9IDA7XG4gICAgICAgIF90aGlzLl9vZmZzZXRMZWZ0ID0gMDtcbiAgICAgICAgX3RoaXMuX29mZnNldFRvcCA9IDA7XG4gICAgICAgIF90aGlzLl9za2lwTmV4dEFuaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fYW5pbWF0ZU9wdGlvbnMgPSB7XG4gICAgICAgICAgICBvbkZpbmlzaDogX3RoaXMuX2ZpbmlzaC5iaW5kKF90aGlzKVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5fcXVldWUgPSBuZXcgUXVldWUoKTtcblxuICAgICAgICAvLyBCaW5kIGFuaW1hdGlvbiBoYW5kbGVycyBhbmQgZmluaXNoIG1ldGhvZC5cbiAgICAgICAgX3RoaXMuX3NldHVwQW5pbWF0aW9uID0gX3RoaXMuX3NldHVwQW5pbWF0aW9uLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5fc3RhcnRBbmltYXRpb24gPSBfdGhpcy5fc3RhcnRBbmltYXRpb24uYmluZChfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFB1YmxpYyBwcm90b3R5cGUgbWV0aG9kc1xyXG4gICAgICogKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgKi9cblxuICAgIC8qKlxyXG4gICAgICogU3RhcnQgaXRlbSBsYXlvdXQgYmFzZWQgb24gaXQncyBjdXJyZW50IGRhdGEuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1MYXlvdXQucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpbnN0YW50PWZhbHNlXVxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uRmluaXNoXVxyXG4gICAgICogQHJldHVybnMge0l0ZW1MYXlvdXR9XHJcbiAgICAgKi9cblxuXG4gICAgY3JlYXRlQ2xhc3MoSXRlbUxheW91dCwgW3tcbiAgICAgICAga2V5OiAnc3RhcnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoaW5zdGFudCwgb25GaW5pc2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuX2l0ZW07XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGl0ZW0uX2VsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgcmVsZWFzZSA9IGl0ZW0uX3JlbGVhc2U7XG4gICAgICAgICAgICB2YXIgZ3JpZFNldHRpbmdzID0gaXRlbS5nZXRHcmlkKCkuX3NldHRpbmdzO1xuICAgICAgICAgICAgdmFyIGlzUG9zaXRpb25pbmcgPSB0aGlzLl9pc0FjdGl2ZTtcbiAgICAgICAgICAgIHZhciBpc0p1c3RSZWxlYXNlZCA9IHJlbGVhc2UuX2lzQWN0aXZlICYmIHJlbGVhc2UuX2lzUG9zaXRpb25pbmdTdGFydGVkID09PSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBhbmltRHVyYXRpb24gPSBpc0p1c3RSZWxlYXNlZCA/IGdyaWRTZXR0aW5ncy5kcmFnUmVsZWFzZUR1cmF0aW9uIDogZ3JpZFNldHRpbmdzLmxheW91dER1cmF0aW9uO1xuICAgICAgICAgICAgdmFyIGFuaW1FYXNpbmcgPSBpc0p1c3RSZWxlYXNlZCA/IGdyaWRTZXR0aW5ncy5kcmFnUmVsZWFzZUVhc2luZyA6IGdyaWRTZXR0aW5ncy5sYXlvdXRFYXNpbmc7XG4gICAgICAgICAgICB2YXIgYW5pbUVuYWJsZWQgPSAhaW5zdGFudCAmJiAhdGhpcy5fc2tpcE5leHRBbmltYXRpb24gJiYgYW5pbUR1cmF0aW9uID4gMDtcbiAgICAgICAgICAgIHZhciBpc0FuaW1hdGluZyA9IHZvaWQgMDtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGl0ZW0gaXMgY3VycmVudGx5IHBvc2l0aW9uaW5nIHByb2Nlc3MgY3VycmVudCBsYXlvdXQgY2FsbGJhY2tcbiAgICAgICAgICAgIC8vIHF1ZXVlIHdpdGggaW50ZXJydXB0ZWQgZmxhZyBvbi5cbiAgICAgICAgICAgIGlmIChpc1Bvc2l0aW9uaW5nKSB0aGlzLl9xdWV1ZS5mbHVzaCh0cnVlLCBpdGVtKTtcblxuICAgICAgICAgICAgLy8gTWFyayByZWxlYXNlIHBvc2l0aW9uaW5nIGFzIHN0YXJ0ZWQuXG4gICAgICAgICAgICBpZiAoaXNKdXN0UmVsZWFzZWQpIHJlbGVhc2UuX2lzUG9zaXRpb25pbmdTdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gUHVzaCB0aGUgY2FsbGJhY2sgdG8gdGhlIGNhbGxiYWNrIHF1ZXVlLlxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkZpbmlzaCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fcXVldWUuYWRkKG9uRmluaXNoKTtcblxuICAgICAgICAgICAgLy8gSWYgbm8gYW5pbWF0aW9ucyBhcmUgbmVlZGVkLCBlYXN5IHBlYXN5IVxuICAgICAgICAgICAgaWYgKCFhbmltRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU9mZnNldHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVUYXJnZXRTdHlsZXMoKTtcbiAgICAgICAgICAgICAgICBpc1Bvc2l0aW9uaW5nICYmIGNhbmNlbExheW91dFRpY2soaXRlbS5faWQpO1xuICAgICAgICAgICAgICAgIGlzQW5pbWF0aW5nID0gaXRlbS5fYW5pbWF0ZS5pc0FuaW1hdGluZygpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcChmYWxzZSwgdGhpcy5fdGFyZ2V0U3R5bGVzKTtcbiAgICAgICAgICAgICAgICAhaXNBbmltYXRpbmcgJiYgc2V0U3R5bGVzKGVsZW1lbnQsIHRoaXMuX3RhcmdldFN0eWxlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2tpcE5leHRBbmltYXRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmluaXNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldCBpdGVtIGFjdGl2ZSBhbmQgc3RvcmUgc29tZSBkYXRhIGZvciB0aGUgYW5pbWF0aW9uIHRoYXQgaXMgYWJvdXQgdG8gYmVcbiAgICAgICAgICAgIC8vIHRyaWdnZXJlZC5cbiAgICAgICAgICAgIHRoaXMuX2lzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2FuaW1hdGVPcHRpb25zLmVhc2luZyA9IGFuaW1FYXNpbmc7XG4gICAgICAgICAgICB0aGlzLl9hbmltYXRlT3B0aW9ucy5kdXJhdGlvbiA9IGFuaW1EdXJhdGlvbjtcbiAgICAgICAgICAgIHRoaXMuX2lzSW50ZXJydXB0ZWQgPSBpc1Bvc2l0aW9uaW5nO1xuXG4gICAgICAgICAgICAvLyBTdGFydCB0aGUgaXRlbSdzIGxheW91dCBhbmltYXRpb24gaW4gdGhlIG5leHQgdGljay5cbiAgICAgICAgICAgIGFkZExheW91dFRpY2soaXRlbS5faWQsIHRoaXMuX3NldHVwQW5pbWF0aW9uLCB0aGlzLl9zdGFydEFuaW1hdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3RvcCBpdGVtJ3MgcG9zaXRpb24gYW5pbWF0aW9uIGlmIGl0IGlzIGN1cnJlbnRseSBhbmltYXRpbmcuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQG1lbWJlcm9mIEl0ZW1MYXlvdXQucHJvdG90eXBlXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSBbcHJvY2Vzc0NhbGxiYWNrUXVldWU9ZmFsc2VdXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IFt0YXJnZXRTdHlsZXNdXHJcbiAgICAgICAgICogQHJldHVybnMge0l0ZW1MYXlvdXR9XHJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3N0b3AnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcChwcm9jZXNzQ2FsbGJhY2tRdWV1ZSwgdGFyZ2V0U3R5bGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQgfHwgIXRoaXMuX2lzQWN0aXZlKSByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtO1xuXG4gICAgICAgICAgICAvLyBDYW5jZWwgYW5pbWF0aW9uIGluaXQuXG4gICAgICAgICAgICBjYW5jZWxMYXlvdXRUaWNrKGl0ZW0uX2lkKTtcblxuICAgICAgICAgICAgLy8gU3RvcCBhbmltYXRpb24uXG4gICAgICAgICAgICBpdGVtLl9hbmltYXRlLnN0b3AodGFyZ2V0U3R5bGVzKTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHBvc2l0aW9uaW5nIGNsYXNzLlxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoaXRlbS5fZWxlbWVudCwgaXRlbS5nZXRHcmlkKCkuX3NldHRpbmdzLml0ZW1Qb3NpdGlvbmluZ0NsYXNzKTtcblxuICAgICAgICAgICAgLy8gUmVzZXQgYWN0aXZlIHN0YXRlLlxuICAgICAgICAgICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gUHJvY2VzcyBjYWxsYmFjayBxdWV1ZSBpZiBuZWVkZWQuXG4gICAgICAgICAgICBpZiAocHJvY2Vzc0NhbGxiYWNrUXVldWUpIHRoaXMuX3F1ZXVlLmZsdXNoKHRydWUsIGl0ZW0pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlc3Ryb3kgdGhlIGluc3RhbmNlIGFuZCBzdG9wIGN1cnJlbnQgYW5pbWF0aW9uIGlmIGl0IGlzIHJ1bm5pbmcuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQG1lbWJlcm9mIEl0ZW1MYXlvdXQucHJvdG90eXBlXHJcbiAgICAgICAgICogQHJldHVybnMge0l0ZW1MYXlvdXR9XHJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB0aGlzLnN0b3AodHJ1ZSwge30pO1xuICAgICAgICAgICAgdGhpcy5fcXVldWUuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5faXRlbSA9IHRoaXMuX2N1cnJlbnRTdHlsZXMgPSB0aGlzLl90YXJnZXRTdHlsZXMgPSB0aGlzLl9hbmltYXRlT3B0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9pc0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByaXZhdGUgcHJvdG90eXBlIG1ldGhvZHNcclxuICAgICAgICAgKiAqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FsY3VsYXRlIGFuZCB1cGRhdGUgaXRlbSdzIGN1cnJlbnQgbGF5b3V0IG9mZnNldCBkYXRhLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAbWVtYmVyb2YgSXRlbUxheW91dC5wcm90b3R5cGVcclxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3VwZGF0ZU9mZnNldHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZU9mZnNldHMoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtO1xuICAgICAgICAgICAgdmFyIG1pZ3JhdGUgPSBpdGVtLl9taWdyYXRlO1xuICAgICAgICAgICAgdmFyIHJlbGVhc2UgPSBpdGVtLl9yZWxlYXNlO1xuXG4gICAgICAgICAgICB0aGlzLl9vZmZzZXRMZWZ0ID0gcmVsZWFzZS5faXNBY3RpdmUgPyByZWxlYXNlLl9jb250YWluZXJEaWZmWCA6IG1pZ3JhdGUuX2lzQWN0aXZlID8gbWlncmF0ZS5fY29udGFpbmVyRGlmZlggOiAwO1xuXG4gICAgICAgICAgICB0aGlzLl9vZmZzZXRUb3AgPSByZWxlYXNlLl9pc0FjdGl2ZSA/IHJlbGVhc2UuX2NvbnRhaW5lckRpZmZZIDogbWlncmF0ZS5faXNBY3RpdmUgPyBtaWdyYXRlLl9jb250YWluZXJEaWZmWSA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYWxjdWxhdGUgYW5kIHVwZGF0ZSBpdGVtJ3MgbGF5b3V0IHRhcmdldCBzdHlsZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEBtZW1iZXJvZiBJdGVtTGF5b3V0LnByb3RvdHlwZVxyXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfdXBkYXRlVGFyZ2V0U3R5bGVzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVUYXJnZXRTdHlsZXMoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtO1xuXG4gICAgICAgICAgICB0aGlzLl90YXJnZXRTdHlsZXMudHJhbnNmb3JtID0gZ2V0VHJhbnNsYXRlU3RyaW5nKGl0ZW0uX2xlZnQgKyB0aGlzLl9vZmZzZXRMZWZ0LCBpdGVtLl90b3AgKyB0aGlzLl9vZmZzZXRUb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRmluaXNoIGl0ZW0gbGF5b3V0IHByb2NlZHVyZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQG1lbWJlcm9mIEl0ZW1MYXlvdXQucHJvdG90eXBlXHJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19maW5pc2gnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmlzaCgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuX2l0ZW07XG4gICAgICAgICAgICB2YXIgbWlncmF0ZSA9IGl0ZW0uX21pZ3JhdGU7XG4gICAgICAgICAgICB2YXIgcmVsZWFzZSA9IGl0ZW0uX3JlbGVhc2U7XG5cbiAgICAgICAgICAgIC8vIE1hcmsgdGhlIGl0ZW0gYXMgaW5hY3RpdmUgYW5kIHJlbW92ZSBwb3NpdGlvbmluZyBjbGFzc2VzLlxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhpdGVtLl9lbGVtZW50LCBpdGVtLmdldEdyaWQoKS5fc2V0dGluZ3MuaXRlbVBvc2l0aW9uaW5nQ2xhc3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGaW5pc2ggdXAgcmVsZWFzZSBhbmQgbWlncmF0aW9uLlxuICAgICAgICAgICAgaWYgKHJlbGVhc2UuX2lzQWN0aXZlKSByZWxlYXNlLnN0b3AoKTtcbiAgICAgICAgICAgIGlmIChtaWdyYXRlLl9pc0FjdGl2ZSkgbWlncmF0ZS5zdG9wKCk7XG5cbiAgICAgICAgICAgIC8vIFByb2Nlc3MgdGhlIGNhbGxiYWNrIHF1ZXVlLlxuICAgICAgICAgICAgdGhpcy5fcXVldWUuZmx1c2goZmFsc2UsIGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUHJlcGFyZSBpdGVtIGZvciBsYXlvdXQgYW5pbWF0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKiBAbWVtYmVyb2YgSXRlbUxheW91dC5wcm90b3R5cGVcclxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3NldHVwQW5pbWF0aW9uJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZXR1cEFuaW1hdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5faXRlbS5fZWxlbWVudDtcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSBnZXRUcmFuc2xhdGUoZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TGVmdCA9IHRyYW5zbGF0ZS54O1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFRvcCA9IHRyYW5zbGF0ZS55O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3RhcnQgbGF5b3V0IGFuaW1hdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICogQG1lbWJlcm9mIEl0ZW1MYXlvdXQucHJvdG90eXBlXHJcbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ19zdGFydEFuaW1hdGlvbicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc3RhcnRBbmltYXRpb24oKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuX2l0ZW07XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGl0ZW0uX2VsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgZ3JpZCA9IGl0ZW0uZ2V0R3JpZCgpO1xuICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gZ3JpZC5fc2V0dGluZ3M7XG5cbiAgICAgICAgICAgIC8vIExldCdzIHVwZGF0ZSB0aGUgb2Zmc2V0IGRhdGEgYW5kIHRhcmdldCBzdHlsZXMuXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVPZmZzZXRzKCk7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVUYXJnZXRTdHlsZXMoKTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGl0ZW0gaXMgYWxyZWFkeSBpbiBjb3JyZWN0IHBvc2l0aW9uIGxldCdzIHF1aXQgZWFybHkuXG4gICAgICAgICAgICBpZiAoaXRlbS5fbGVmdCA9PT0gdGhpcy5fY3VycmVudExlZnQgLSB0aGlzLl9vZmZzZXRMZWZ0ICYmIGl0ZW0uX3RvcCA9PT0gdGhpcy5fY3VycmVudFRvcCAtIHRoaXMuX29mZnNldFRvcCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc0ludGVycnVwdGVkKSB0aGlzLnN0b3AoZmFsc2UsIHRoaXMuX3RhcmdldFN0eWxlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNldCBpdGVtJ3MgcG9zaXRpb25pbmcgY2xhc3MgaWYgbmVlZGVkLlxuICAgICAgICAgICAgIXRoaXMuX2lzSW50ZXJydXB0ZWQgJiYgYWRkQ2xhc3MoZWxlbWVudCwgc2V0dGluZ3MuaXRlbVBvc2l0aW9uaW5nQ2xhc3MpO1xuXG4gICAgICAgICAgICAvLyBHZXQgY3VycmVudCBzdHlsZXMgZm9yIGFuaW1hdGlvbi5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRTdHlsZXMudHJhbnNmb3JtID0gZ2V0VHJhbnNsYXRlU3RyaW5nKHRoaXMuX2N1cnJlbnRMZWZ0LCB0aGlzLl9jdXJyZW50VG9wKTtcblxuICAgICAgICAgICAgLy8gQW5pbWF0ZS5cbiAgICAgICAgICAgIGl0ZW0uX2FuaW1hdGUuc3RhcnQodGhpcy5fY3VycmVudFN0eWxlcywgdGhpcy5fdGFyZ2V0U3R5bGVzLCB0aGlzLl9hbmltYXRlT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XSk7XG4gICAgcmV0dXJuIEl0ZW1MYXlvdXQ7XG59KENvbXBvbmVudCk7XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgSGFsdHUgT3lcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oYWx0dS9tdXVyaS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcbiAqL1xuXG52YXIgdGVtcFN0eWxlcyA9IHt9O1xuXG4vKipcclxuICogVGhlIG1pZ3JhdGUgcHJvY2VzcyBoYW5kbGVyIGNvbnN0cnVjdG9yLlxyXG4gKlxyXG4gKiBAY2xhc3NcclxuICogQHBhcmFtIHtJdGVtfSBpdGVtXHJcbiAqL1xuXG52YXIgSXRlbU1pZ3JhdGUgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhJdGVtTWlncmF0ZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSXRlbU1pZ3JhdGUoaXRlbSkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEl0ZW1NaWdyYXRlKTtcblxuICAgIC8vIFByaXZhdGUgcHJvcHMuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSXRlbU1pZ3JhdGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJdGVtTWlncmF0ZSkpLmNhbGwodGhpcywgaXRlbSkpO1xuXG4gICAgX3RoaXMuX2l0ZW0gPSBpdGVtO1xuICAgIF90aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIF90aGlzLl9pc0Rlc3Ryb3llZCA9IGZhbHNlO1xuICAgIF90aGlzLl9jb250YWluZXIgPSBmYWxzZTtcbiAgICBfdGhpcy5fY29udGFpbmVyRGlmZlggPSAwO1xuICAgIF90aGlzLl9jb250YWluZXJEaWZmWSA9IDA7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXHJcbiAgICogUHVibGljIHByb3RvdHlwZSBtZXRob2RzXHJcbiAgICogKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICovXG5cbiAgLyoqXHJcbiAgICogU3RhcnQgdGhlIG1pZ3JhdGUgcHJvY2VzcyBvZiBhbiBpdGVtLlxyXG4gICAqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBtZW1iZXJvZiBJdGVtTWlncmF0ZS5wcm90b3R5cGVcclxuICAgKiBAcGFyYW0ge0dyaWR9IHRhcmdldEdyaWRcclxuICAgKiBAcGFyYW0ge0dyaWRTaW5nbGVJdGVtUXVlcnl9IHBvc2l0aW9uXHJcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2NvbnRhaW5lcl1cclxuICAgKiBAcmV0dXJucyB7SXRlbU1pZ3JhdGV9XHJcbiAgICovXG5cblxuICBjcmVhdGVDbGFzcyhJdGVtTWlncmF0ZSwgW3tcbiAgICBrZXk6ICdzdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KHRhcmdldEdyaWQsIHBvc2l0aW9uLCBjb250YWluZXIpIHtcbiAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHZhciBpdGVtID0gdGhpcy5faXRlbTtcbiAgICAgIHZhciBlbGVtZW50ID0gaXRlbS5fZWxlbWVudDtcbiAgICAgIHZhciBpc1Zpc2libGUgPSBpdGVtLmlzVmlzaWJsZSgpO1xuICAgICAgdmFyIGdyaWQgPSBpdGVtLmdldEdyaWQoKTtcbiAgICAgIHZhciBzZXR0aW5ncyA9IGdyaWQuX3NldHRpbmdzO1xuICAgICAgdmFyIHRhcmdldFNldHRpbmdzID0gdGFyZ2V0R3JpZC5fc2V0dGluZ3M7XG4gICAgICB2YXIgdGFyZ2V0RWxlbWVudCA9IHRhcmdldEdyaWQuX2VsZW1lbnQ7XG4gICAgICB2YXIgdGFyZ2V0SXRlbXMgPSB0YXJnZXRHcmlkLl9pdGVtcztcbiAgICAgIHZhciBjdXJyZW50SW5kZXggPSBncmlkLl9pdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgICAgdmFyIHRhcmdldENvbnRhaW5lciA9IGNvbnRhaW5lciB8fCBkb2N1bWVudC5ib2R5O1xuICAgICAgdmFyIHRhcmdldEluZGV4ID0gdm9pZCAwO1xuICAgICAgdmFyIHRhcmdldEl0ZW0gPSB2b2lkIDA7XG4gICAgICB2YXIgY3VycmVudENvbnRhaW5lciA9IHZvaWQgMDtcbiAgICAgIHZhciBvZmZzZXREaWZmID0gdm9pZCAwO1xuICAgICAgdmFyIGNvbnRhaW5lckRpZmYgPSB2b2lkIDA7XG4gICAgICB2YXIgdHJhbnNsYXRlID0gdm9pZCAwO1xuICAgICAgdmFyIHRyYW5zbGF0ZVggPSB2b2lkIDA7XG4gICAgICB2YXIgdHJhbnNsYXRlWSA9IHZvaWQgMDtcblxuICAgICAgLy8gR2V0IHRhcmdldCBpbmRleC5cbiAgICAgIGlmICh0eXBlb2YgcG9zaXRpb24gPT09ICdudW1iZXInKSB7XG4gICAgICAgIHRhcmdldEluZGV4ID0gbm9ybWFsaXplQXJyYXlJbmRleCh0YXJnZXRJdGVtcywgcG9zaXRpb24sIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0SXRlbSA9IHRhcmdldEdyaWQuX2dldEl0ZW0ocG9zaXRpb24pO1xuICAgICAgICAvKiogQHRvZG8gQ29uc2lkZXIgdGhyb3dpbmcgYW4gZXJyb3IgaGVyZSBpbnN0ZWFkIG9mIHNpbGVudGx5IGZhaWxpbmcuICovXG4gICAgICAgIGlmICghdGFyZ2V0SXRlbSkgcmV0dXJuIHRoaXM7XG4gICAgICAgIHRhcmdldEluZGV4ID0gdGFyZ2V0SXRlbXMuaW5kZXhPZih0YXJnZXRJdGVtKTtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IGN1cnJlbnQgdHJhbnNsYXRlWCBhbmQgdHJhbnNsYXRlWSB2YWx1ZXMgaWYgbmVlZGVkLlxuICAgICAgaWYgKGl0ZW0uaXNQb3NpdGlvbmluZygpIHx8IHRoaXMuX2lzQWN0aXZlIHx8IGl0ZW0uaXNSZWxlYXNpbmcoKSkge1xuICAgICAgICB0cmFuc2xhdGUgPSBnZXRUcmFuc2xhdGUoZWxlbWVudCk7XG4gICAgICAgIHRyYW5zbGF0ZVggPSB0cmFuc2xhdGUueDtcbiAgICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZS55O1xuICAgICAgfVxuXG4gICAgICAvLyBBYm9ydCBjdXJyZW50IHBvc2l0aW9uaW5nLlxuICAgICAgaWYgKGl0ZW0uaXNQb3NpdGlvbmluZygpKSB7XG4gICAgICAgIGl0ZW0uX2xheW91dC5zdG9wKHRydWUsIHsgdHJhbnNmb3JtOiBnZXRUcmFuc2xhdGVTdHJpbmcodHJhbnNsYXRlWCwgdHJhbnNsYXRlWSkgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFib3J0IGN1cnJlbnQgbWlncmF0aW9uLlxuICAgICAgaWYgKHRoaXMuX2lzQWN0aXZlKSB7XG4gICAgICAgIHRyYW5zbGF0ZVggLT0gdGhpcy5fY29udGFpbmVyRGlmZlg7XG4gICAgICAgIHRyYW5zbGF0ZVkgLT0gdGhpcy5fY29udGFpbmVyRGlmZlk7XG4gICAgICAgIHRoaXMuc3RvcCh0cnVlLCB7IHRyYW5zZm9ybTogZ2V0VHJhbnNsYXRlU3RyaW5nKHRyYW5zbGF0ZVgsIHRyYW5zbGF0ZVkpIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBBYm9ydCBjdXJyZW50IHJlbGVhc2UuXG4gICAgICBpZiAoaXRlbS5pc1JlbGVhc2luZygpKSB7XG4gICAgICAgIHRyYW5zbGF0ZVggLT0gaXRlbS5fcmVsZWFzZS5fY29udGFpbmVyRGlmZlg7XG4gICAgICAgIHRyYW5zbGF0ZVkgLT0gaXRlbS5fcmVsZWFzZS5fY29udGFpbmVyRGlmZlk7XG4gICAgICAgIGl0ZW0uX3JlbGVhc2Uuc3RvcCh0cnVlLCB7IHRyYW5zZm9ybTogZ2V0VHJhbnNsYXRlU3RyaW5nKHRyYW5zbGF0ZVgsIHRyYW5zbGF0ZVkpIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBTdG9wIGN1cnJlbnQgdmlzaWJpbGl0eSBhbmltYXRpb25zLlxuICAgICAgaXRlbS5fdmlzaWJpbGl0eS5fc3RvcEFuaW1hdGlvbigpO1xuXG4gICAgICAvLyBEZXN0cm95IGN1cnJlbnQgZHJhZy5cbiAgICAgIGlmIChpdGVtLl9kcmFnKSBpdGVtLl9kcmFnLmRlc3Ryb3koKTtcblxuICAgICAgLy8gUHJvY2VzcyBjdXJyZW50IHZpc2liaWxpdHkgYW5pbWF0aW9uIHF1ZXVlLlxuICAgICAgaXRlbS5fdmlzaWJpbGl0eS5fcXVldWUuZmx1c2godHJ1ZSwgaXRlbSk7XG5cbiAgICAgIC8vIEVtaXQgYmVmb3JlU2VuZCBldmVudC5cbiAgICAgIGlmIChncmlkLl9oYXNMaXN0ZW5lcnMoZXZlbnRCZWZvcmVTZW5kKSkge1xuICAgICAgICBncmlkLl9lbWl0KGV2ZW50QmVmb3JlU2VuZCwge1xuICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgZnJvbUdyaWQ6IGdyaWQsXG4gICAgICAgICAgZnJvbUluZGV4OiBjdXJyZW50SW5kZXgsXG4gICAgICAgICAgdG9HcmlkOiB0YXJnZXRHcmlkLFxuICAgICAgICAgIHRvSW5kZXg6IHRhcmdldEluZGV4XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBFbWl0IGJlZm9yZVJlY2VpdmUgZXZlbnQuXG4gICAgICBpZiAodGFyZ2V0R3JpZC5faGFzTGlzdGVuZXJzKGV2ZW50QmVmb3JlUmVjZWl2ZSkpIHtcbiAgICAgICAgdGFyZ2V0R3JpZC5fZW1pdChldmVudEJlZm9yZVJlY2VpdmUsIHtcbiAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgIGZyb21HcmlkOiBncmlkLFxuICAgICAgICAgIGZyb21JbmRleDogY3VycmVudEluZGV4LFxuICAgICAgICAgIHRvR3JpZDogdGFyZ2V0R3JpZCxcbiAgICAgICAgICB0b0luZGV4OiB0YXJnZXRJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIGN1cnJlbnQgY2xhc3NuYW1lcy5cbiAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIHNldHRpbmdzLml0ZW1DbGFzcyk7XG4gICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBzZXR0aW5ncy5pdGVtVmlzaWJsZUNsYXNzKTtcbiAgICAgIHJlbW92ZUNsYXNzKGVsZW1lbnQsIHNldHRpbmdzLml0ZW1IaWRkZW5DbGFzcyk7XG5cbiAgICAgIC8vIEFkZCBuZXcgY2xhc3NuYW1lcy5cbiAgICAgIGFkZENsYXNzKGVsZW1lbnQsIHRhcmdldFNldHRpbmdzLml0ZW1DbGFzcyk7XG4gICAgICBhZGRDbGFzcyhlbGVtZW50LCBpc1Zpc2libGUgPyB0YXJnZXRTZXR0aW5ncy5pdGVtVmlzaWJsZUNsYXNzIDogdGFyZ2V0U2V0dGluZ3MuaXRlbUhpZGRlbkNsYXNzKTtcblxuICAgICAgLy8gTW92ZSBpdGVtIGluc3RhbmNlIGZyb20gY3VycmVudCBncmlkIHRvIHRhcmdldCBncmlkLlxuICAgICAgZ3JpZC5faXRlbXMuc3BsaWNlKGN1cnJlbnRJbmRleCwgMSk7XG4gICAgICBhcnJheUluc2VydCh0YXJnZXRJdGVtcywgaXRlbSwgdGFyZ2V0SW5kZXgpO1xuXG4gICAgICAvLyBVcGRhdGUgaXRlbSdzIGdyaWQgaWQgcmVmZXJlbmNlLlxuICAgICAgaXRlbS5fZ3JpZElkID0gdGFyZ2V0R3JpZC5faWQ7XG5cbiAgICAgIC8vIEdldCBjdXJyZW50IGNvbnRhaW5lci5cbiAgICAgIGN1cnJlbnRDb250YWluZXIgPSBlbGVtZW50LnBhcmVudE5vZGU7XG5cbiAgICAgIC8vIE1vdmUgdGhlIGl0ZW0gaW5zaWRlIHRoZSB0YXJnZXQgY29udGFpbmVyIGlmIGl0J3MgZGlmZmVyZW50IHRoYW4gdGhlXG4gICAgICAvLyBjdXJyZW50IGNvbnRhaW5lci5cbiAgICAgIGlmICh0YXJnZXRDb250YWluZXIgIT09IGN1cnJlbnRDb250YWluZXIpIHtcbiAgICAgICAgdGFyZ2V0Q29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICBvZmZzZXREaWZmID0gZ2V0T2Zmc2V0RGlmZih0YXJnZXRDb250YWluZXIsIGN1cnJlbnRDb250YWluZXIsIHRydWUpO1xuICAgICAgICBpZiAoIXRyYW5zbGF0ZSkge1xuICAgICAgICAgIHRyYW5zbGF0ZSA9IGdldFRyYW5zbGF0ZShlbGVtZW50KTtcbiAgICAgICAgICB0cmFuc2xhdGVYID0gdHJhbnNsYXRlLng7XG4gICAgICAgICAgdHJhbnNsYXRlWSA9IHRyYW5zbGF0ZS55O1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQuc3R5bGVbdHJhbnNmb3JtUHJvcF0gPSBnZXRUcmFuc2xhdGVTdHJpbmcodHJhbnNsYXRlWCArIG9mZnNldERpZmYubGVmdCwgdHJhbnNsYXRlWSArIG9mZnNldERpZmYudG9wKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGNoaWxkIGVsZW1lbnQncyBzdHlsZXMgdG8gcmVmbGVjdCB0aGUgY3VycmVudCB2aXNpYmlsaXR5IHN0YXRlLlxuICAgICAgaXRlbS5fY2hpbGQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgc2V0U3R5bGVzKGl0ZW0uX2NoaWxkLCBpc1Zpc2libGUgPyB0YXJnZXRTZXR0aW5ncy52aXNpYmxlU3R5bGVzIDogdGFyZ2V0U2V0dGluZ3MuaGlkZGVuU3R5bGVzKTtcblxuICAgICAgLy8gVXBkYXRlIGRpc3BsYXkgc3R5bGUuXG4gICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBpc1Zpc2libGUgPyAnYmxvY2snIDogJ2hpZGRlbic7XG5cbiAgICAgIC8vIEdldCBvZmZzZXQgZGlmZiBmb3IgdGhlIG1pZ3JhdGlvbiBkYXRhLlxuICAgICAgY29udGFpbmVyRGlmZiA9IGdldE9mZnNldERpZmYodGFyZ2V0Q29udGFpbmVyLCB0YXJnZXRFbGVtZW50LCB0cnVlKTtcblxuICAgICAgLy8gVXBkYXRlIGl0ZW0ncyBjYWNoZWQgZGltZW5zaW9ucyBhbmQgc29ydCBkYXRhLlxuICAgICAgaXRlbS5fcmVmcmVzaERpbWVuc2lvbnMoKTtcbiAgICAgIGl0ZW0uX3JlZnJlc2hTb3J0RGF0YSgpO1xuXG4gICAgICAvLyBDcmVhdGUgbmV3IGRyYWcgaGFuZGxlci5cbiAgICAgIGl0ZW0uX2RyYWcgPSB0YXJnZXRTZXR0aW5ncy5kcmFnRW5hYmxlZCA/IG5ldyBJdGVtRHJhZyhpdGVtKSA6IG51bGw7XG5cbiAgICAgIC8vIFNldHVwIG1pZ3JhdGlvbiBkYXRhLlxuICAgICAgdGhpcy5faXNBY3RpdmUgPSB0cnVlO1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gdGFyZ2V0Q29udGFpbmVyO1xuICAgICAgdGhpcy5fY29udGFpbmVyRGlmZlggPSBjb250YWluZXJEaWZmLmxlZnQ7XG4gICAgICB0aGlzLl9jb250YWluZXJEaWZmWSA9IGNvbnRhaW5lckRpZmYudG9wO1xuXG4gICAgICAvLyBFbWl0IHNlbmQgZXZlbnQuXG4gICAgICBpZiAoZ3JpZC5faGFzTGlzdGVuZXJzKGV2ZW50U2VuZCkpIHtcbiAgICAgICAgZ3JpZC5fZW1pdChldmVudFNlbmQsIHtcbiAgICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICAgIGZyb21HcmlkOiBncmlkLFxuICAgICAgICAgIGZyb21JbmRleDogY3VycmVudEluZGV4LFxuICAgICAgICAgIHRvR3JpZDogdGFyZ2V0R3JpZCxcbiAgICAgICAgICB0b0luZGV4OiB0YXJnZXRJbmRleFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gRW1pdCByZWNlaXZlIGV2ZW50LlxuICAgICAgaWYgKHRhcmdldEdyaWQuX2hhc0xpc3RlbmVycyhldmVudFJlY2VpdmUpKSB7XG4gICAgICAgIHRhcmdldEdyaWQuX2VtaXQoZXZlbnRSZWNlaXZlLCB7XG4gICAgICAgICAgaXRlbTogaXRlbSxcbiAgICAgICAgICBmcm9tR3JpZDogZ3JpZCxcbiAgICAgICAgICBmcm9tSW5kZXg6IGN1cnJlbnRJbmRleCxcbiAgICAgICAgICB0b0dyaWQ6IHRhcmdldEdyaWQsXG4gICAgICAgICAgdG9JbmRleDogdGFyZ2V0SW5kZXhcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogRW5kIHRoZSBtaWdyYXRlIHByb2Nlc3Mgb2YgYW4gaXRlbS4gVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gYWJvcnQgYW5cclxuICAgICAqIG9uZ29pbmcgbWlncmF0ZSBwcm9jZXNzIChhbmltYXRpb24pIG9yIGZpbmlzaCB0aGUgbWlncmF0ZSBwcm9jZXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtTWlncmF0ZS5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Fib3J0PWZhbHNlXVxyXG4gICAgICogIC0gU2hvdWxkIHRoZSBtaWdyYXRpb24gYmUgYWJvcnRlZD9cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY3VycmVudFN0eWxlc11cclxuICAgICAqICAtIE9wdGlvbmFsIGN1cnJlbnQgdHJhbnNsYXRlWCBhbmQgdHJhbnNsYXRlWSBzdHlsZXMuXHJcbiAgICAgKiBAcmV0dXJucyB7SXRlbU1pZ3JhdGV9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3RvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoYWJvcnQsIGN1cnJlbnRTdHlsZXMpIHtcbiAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCB8fCAhdGhpcy5faXNBY3RpdmUpIHJldHVybiB0aGlzO1xuXG4gICAgICB2YXIgaXRlbSA9IHRoaXMuX2l0ZW07XG4gICAgICB2YXIgZWxlbWVudCA9IGl0ZW0uX2VsZW1lbnQ7XG4gICAgICB2YXIgZ3JpZCA9IGl0ZW0uZ2V0R3JpZCgpO1xuICAgICAgdmFyIGdyaWRFbGVtZW50ID0gZ3JpZC5fZWxlbWVudDtcbiAgICAgIHZhciB0cmFuc2xhdGUgPSB2b2lkIDA7XG5cbiAgICAgIGlmICh0aGlzLl9jb250YWluZXIgIT09IGdyaWRFbGVtZW50KSB7XG4gICAgICAgIGlmICghY3VycmVudFN0eWxlcykge1xuICAgICAgICAgIGlmIChhYm9ydCkge1xuICAgICAgICAgICAgdHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlKGVsZW1lbnQpO1xuICAgICAgICAgICAgdGVtcFN0eWxlcy50cmFuc2Zvcm0gPSBnZXRUcmFuc2xhdGVTdHJpbmcodHJhbnNsYXRlLnggLSB0aGlzLl9jb250YWluZXJEaWZmWCwgdHJhbnNsYXRlLnkgLSB0aGlzLl9jb250YWluZXJEaWZmWSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRlbXBTdHlsZXMudHJhbnNmb3JtID0gZ2V0VHJhbnNsYXRlU3RyaW5nKGl0ZW0uX2xlZnQsIGl0ZW0uX3RvcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnRTdHlsZXMgPSB0ZW1wU3R5bGVzO1xuICAgICAgICB9XG4gICAgICAgIGdyaWRFbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICBzZXRTdHlsZXMoZWxlbWVudCwgY3VycmVudFN0eWxlcyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLl9jb250YWluZXIgPSBudWxsO1xuICAgICAgdGhpcy5fY29udGFpbmVyRGlmZlggPSAwO1xuICAgICAgdGhpcy5fY29udGFpbmVyRGlmZlkgPSAwO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIERlc3Ryb3kgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEl0ZW1NaWdyYXRlLnByb3RvdHlwZVxyXG4gICAgICogQHJldHVybnMge0l0ZW1NaWdyYXRlfVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcbiAgICAgIHRoaXMuc3RvcCh0cnVlKTtcbiAgICAgIHRoaXMuX2l0ZW0gPSBudWxsO1xuICAgICAgdGhpcy5faXNEZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBJdGVtTWlncmF0ZTtcbn0oQ29tcG9uZW50KTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbnZhciB0ZW1wU3R5bGVzJDEgPSB7fTtcblxuLyoqXHJcbiAqIFRoZSByZWxlYXNlIHByb2Nlc3MgaGFuZGxlciBjb25zdHJ1Y3Rvci4gQWx0aG91Z2ggdGhpcyBtaWdodCBzZWVtIGFzIHByb3BlclxyXG4gKiBmaXQgZm9yIHRoZSBkcmFnIHByb2Nlc3MgdGhpcyBuZWVkcyB0byBiZSBzZXBhcmF0ZWQgaW50byBpdCdzIG93biBsb2dpY1xyXG4gKiBiZWNhdXNlIHRoZXJlIG1pZ2h0IGJlIGEgc2NlbmFyaW8gd2hlcmUgZHJhZyBpcyBkaXNhYmxlZCwgYnV0IHRoZSByZWxlYXNlXHJcbiAqIHByb2Nlc3Mgc3RpbGwgbmVlZHMgdG8gYmUgaW1wbGVtZW50ZWQgKGRyYWdnaW5nIGZyb20gYSBncmlkIHRvIGFub3RoZXIpLlxyXG4gKlxyXG4gKiBAY2xhc3NcclxuICogQHBhcmFtIHtJdGVtfSBpdGVtXHJcbiAqL1xuXG52YXIgSXRlbVJlbGVhc2UgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhJdGVtUmVsZWFzZSwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSXRlbVJlbGVhc2UoaXRlbSkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEl0ZW1SZWxlYXNlKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEl0ZW1SZWxlYXNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoSXRlbVJlbGVhc2UpKS5jYWxsKHRoaXMsIGl0ZW0pKTtcblxuICAgIF90aGlzLl9pdGVtID0gaXRlbTtcbiAgICBfdGhpcy5faXNBY3RpdmUgPSBmYWxzZTtcbiAgICBfdGhpcy5faXNEZXN0cm95ZWQgPSBmYWxzZTtcbiAgICBfdGhpcy5faXNQb3NpdGlvbmluZ1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICBfdGhpcy5fY29udGFpbmVyRGlmZlggPSAwO1xuICAgIF90aGlzLl9jb250YWluZXJEaWZmWSA9IDA7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXHJcbiAgICogUHVibGljIHByb3RvdHlwZSBtZXRob2RzXHJcbiAgICogKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICovXG5cbiAgLyoqXHJcbiAgICogU3RhcnQgdGhlIHJlbGVhc2UgcHJvY2VzcyBvZiBhbiBpdGVtLlxyXG4gICAqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBtZW1iZXJvZiBJdGVtUmVsZWFzZS5wcm90b3R5cGVcclxuICAgKiBAcmV0dXJucyB7SXRlbVJlbGVhc2V9XHJcbiAgICovXG5cblxuICBjcmVhdGVDbGFzcyhJdGVtUmVsZWFzZSwgW3tcbiAgICBrZXk6ICdzdGFydCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkIHx8IHRoaXMuX2lzQWN0aXZlKSByZXR1cm4gdGhpcztcblxuICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtO1xuICAgICAgdmFyIGdyaWQgPSBpdGVtLmdldEdyaWQoKTtcblxuICAgICAgLy8gRmxhZyByZWxlYXNlIGFzIGFjdGl2ZS5cbiAgICAgIHRoaXMuX2lzQWN0aXZlID0gdHJ1ZTtcblxuICAgICAgLy8gQWRkIHJlbGVhc2UgY2xhc3MgbmFtZSB0byB0aGUgcmVsZWFzZWQgZWxlbWVudC5cbiAgICAgIGFkZENsYXNzKGl0ZW0uX2VsZW1lbnQsIGdyaWQuX3NldHRpbmdzLml0ZW1SZWxlYXNpbmdDbGFzcyk7XG5cbiAgICAgIC8vIEVtaXQgZHJhZ1JlbGVhc2VTdGFydCBldmVudC5cbiAgICAgIGdyaWQuX2VtaXQoZXZlbnREcmFnUmVsZWFzZVN0YXJ0LCBpdGVtKTtcblxuICAgICAgLy8gUG9zaXRpb24gdGhlIHJlbGVhc2VkIGl0ZW0uXG4gICAgICBpdGVtLl9sYXlvdXQuc3RhcnQoZmFsc2UpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEVuZCB0aGUgcmVsZWFzZSBwcm9jZXNzIG9mIGFuIGl0ZW0uIFRoaXMgbWV0aG9kIGNhbiBiZSB1c2VkIHRvIGFib3J0IGFuXHJcbiAgICAgKiBvbmdvaW5nIHJlbGVhc2UgcHJvY2VzcyAoYW5pbWF0aW9uKSBvciBmaW5pc2ggdGhlIHJlbGVhc2UgcHJvY2Vzcy5cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbVJlbGVhc2UucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFthYm9ydD1mYWxzZV1cclxuICAgICAqICAtIFNob3VsZCB0aGUgcmVsZWFzZSBiZSBhYm9ydGVkPyBXaGVuIHRydWUsIHRoZSByZWxlYXNlIGVuZCBldmVudCB3b24ndCBiZVxyXG4gICAgICogICAgZW1pdHRlZC4gU2V0IHRvIHRydWUgb25seSB3aGVuIHlvdSBuZWVkIHRvIGFib3J0IHRoZSByZWxlYXNlIHByb2Nlc3NcclxuICAgICAqICAgIHdoaWxlIHRoZSBpdGVtIGlzIGFuaW1hdGluZyB0byBpdCdzIHBvc2l0aW9uLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjdXJyZW50U3R5bGVzXVxyXG4gICAgICogIC0gT3B0aW9uYWwgY3VycmVudCB0cmFuc2xhdGVYIGFuZCB0cmFuc2xhdGVZIHN0eWxlcy5cclxuICAgICAqIEByZXR1cm5zIHtJdGVtUmVsZWFzZX1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzdG9wJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RvcChhYm9ydCwgY3VycmVudFN0eWxlcykge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkIHx8ICF0aGlzLl9pc0FjdGl2ZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHZhciBpdGVtID0gdGhpcy5faXRlbTtcbiAgICAgIHZhciBlbGVtZW50ID0gaXRlbS5fZWxlbWVudDtcbiAgICAgIHZhciBncmlkID0gaXRlbS5nZXRHcmlkKCk7XG4gICAgICB2YXIgY29udGFpbmVyID0gZ3JpZC5fZWxlbWVudDtcbiAgICAgIHZhciB0cmFuc2xhdGUgPSB2b2lkIDA7XG5cbiAgICAgIC8vIFJlc2V0IGRhdGEgYW5kIHJlbW92ZSByZWxlYXNpbmcgY2xhc3MgbmFtZSBmcm9tIHRoZSBlbGVtZW50LlxuICAgICAgdGhpcy5fcmVzZXQoKTtcblxuICAgICAgLy8gSWYgdGhlIHJlbGVhc2VkIGVsZW1lbnQgaXMgb3V0c2lkZSB0aGUgZ3JpZCdzIGNvbnRhaW5lciBlbGVtZW50IHB1dCBpdFxuICAgICAgLy8gYmFjayB0aGVyZSBhbmQgYWRqdXN0IHBvc2l0aW9uIGFjY29yZGluZ2x5LlxuICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSAhPT0gY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghY3VycmVudFN0eWxlcykge1xuICAgICAgICAgIGlmIChhYm9ydCkge1xuICAgICAgICAgICAgdHJhbnNsYXRlID0gZ2V0VHJhbnNsYXRlKGVsZW1lbnQpO1xuICAgICAgICAgICAgdGVtcFN0eWxlcyQxLnRyYW5zZm9ybSA9IGdldFRyYW5zbGF0ZVN0cmluZyh0cmFuc2xhdGUueCAtIHRoaXMuX2NvbnRhaW5lckRpZmZYLCB0cmFuc2xhdGUueSAtIHRoaXMuX2NvbnRhaW5lckRpZmZZKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGVtcFN0eWxlcyQxLnRyYW5zZm9ybSA9IGdldFRyYW5zbGF0ZVN0cmluZyhpdGVtLl9sZWZ0LCBpdGVtLl90b3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50U3R5bGVzID0gdGVtcFN0eWxlcyQxO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgc2V0U3R5bGVzKGVsZW1lbnQsIGN1cnJlbnRTdHlsZXMpO1xuICAgICAgfVxuXG4gICAgICAvLyBFbWl0IGRyYWdSZWxlYXNlRW5kIGV2ZW50LlxuICAgICAgaWYgKCFhYm9ydCkgZ3JpZC5fZW1pdChldmVudERyYWdSZWxlYXNlRW5kLCBpdGVtKTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtUmVsZWFzZS5wcm90b3R5cGVcclxuICAgICAqIEByZXR1cm5zIHtJdGVtUmVsZWFzZX1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkZXN0cm95JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuIHRoaXM7XG4gICAgICB0aGlzLnN0b3AodHJ1ZSk7XG4gICAgICB0aGlzLl9pdGVtID0gbnVsbDtcbiAgICAgIHRoaXMuX2lzRGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogUHJpdmF0ZSBwcm90b3R5cGUgbWV0aG9kc1xyXG4gICAgICogKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICovXG5cbiAgICAvKipcclxuICAgICAqIFJlc2V0IHB1YmxpYyBkYXRhIGFuZCByZW1vdmUgcmVsZWFzaW5nIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbVJlbGVhc2UucHJvdG90eXBlXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3Jlc2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3Jlc2V0KCkge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm47XG4gICAgICB2YXIgaXRlbSA9IHRoaXMuX2l0ZW07XG4gICAgICB0aGlzLl9pc0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgdGhpcy5faXNQb3NpdGlvbmluZ1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2NvbnRhaW5lckRpZmZYID0gMDtcbiAgICAgIHRoaXMuX2NvbnRhaW5lckRpZmZZID0gMDtcbiAgICAgIHJlbW92ZUNsYXNzKGl0ZW0uX2VsZW1lbnQsIGl0ZW0uZ2V0R3JpZCgpLl9zZXR0aW5ncy5pdGVtUmVsZWFzaW5nQ2xhc3MpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSXRlbVJlbGVhc2U7XG59KENvbXBvbmVudCk7XG5cbi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgSGFsdHUgT3lcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9oYWx0dS9tdXVyaS9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXHJcbiAqL1xuXG4vKipcclxuICogR2V0IGN1cnJlbnQgdmFsdWVzIG9mIHRoZSBwcm92aWRlZCBzdHlsZXMgZGVmaW5pdGlvbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcclxuICogQHBhcmFtIHtPYmplY3R9IHN0eWxlc1xyXG4gKiBAcmV0dXJuIHtPYmplY3R9XHJcbiAqL1xuZnVuY3Rpb24gZ2V0Q3VycmVudFN0eWxlcyhlbGVtZW50LCBzdHlsZXMpIHtcbiAgdmFyIGN1cnJlbnQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzdHlsZXMpIHtcbiAgICBjdXJyZW50W3Byb3BdID0gZ2V0U3R5bGUoZWxlbWVudCwgZ2V0U3R5bGVOYW1lKHByb3ApKTtcbiAgfVxuICByZXR1cm4gY3VycmVudDtcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbi8qKlxyXG4gKiBWaXNpYmlsaXR5IG1hbmFnZXIgZm9yIEl0ZW0gaW5zdGFuY2UuXHJcbiAqXHJcbiAqIEBjbGFzc1xyXG4gKiBAcGFyYW0ge0l0ZW19IGl0ZW1cclxuICovXG5cbnZhciBJdGVtVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gICAgaW5oZXJpdHMoSXRlbVZpc2liaWxpdHksIF9Db21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gSXRlbVZpc2liaWxpdHkoaXRlbSkge1xuICAgICAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBJdGVtVmlzaWJpbGl0eSk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSXRlbVZpc2liaWxpdHkuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJdGVtVmlzaWJpbGl0eSkpLmNhbGwodGhpcywgaXRlbSkpO1xuXG4gICAgICAgIHZhciBpc0FjdGl2ZSA9IGl0ZW0uX2lzQWN0aXZlO1xuICAgICAgICB2YXIgZWxlbWVudCA9IGl0ZW0uX2VsZW1lbnQ7XG4gICAgICAgIHZhciBzZXR0aW5ncyA9IGl0ZW0uZ2V0R3JpZCgpLl9zZXR0aW5ncztcblxuICAgICAgICBfdGhpcy5faXRlbSA9IGl0ZW07XG4gICAgICAgIF90aGlzLl9pc0Rlc3Ryb3llZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIFNldCB1cCB2aXNpYmlsaXR5IHN0YXRlcy5cbiAgICAgICAgX3RoaXMuX2lzSGlkZGVuID0gIWlzQWN0aXZlO1xuICAgICAgICBfdGhpcy5faXNIaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2lzU2hvd2luZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIENhbGxiYWNrIHF1ZXVlLlxuICAgICAgICBfdGhpcy5fcXVldWUgPSBuZXcgUXVldWUoKTtcblxuICAgICAgICAvLyBCaW5kIHNob3cvaGlkZSBmaW5pc2hlcnMuXG4gICAgICAgIF90aGlzLl9maW5pc2hTaG93ID0gX3RoaXMuX2ZpbmlzaFNob3cuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLl9maW5pc2hIaWRlID0gX3RoaXMuX2ZpbmlzaEhpZGUuYmluZChfdGhpcyk7XG5cbiAgICAgICAgLy8gRm9yY2UgaXRlbSB0byBiZSBlaXRoZXIgdmlzaWJsZSBvciBoaWRkZW4gb24gaW5pdC5cbiAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gaXNBY3RpdmUgPyAnYmxvY2snIDogJ25vbmUnO1xuXG4gICAgICAgIC8vIFNldCB2aXNpYmxlL2hpZGRlbiBjbGFzcy5cbiAgICAgICAgYWRkQ2xhc3MoZWxlbWVudCwgaXNBY3RpdmUgPyBzZXR0aW5ncy5pdGVtVmlzaWJsZUNsYXNzIDogc2V0dGluZ3MuaXRlbUhpZGRlbkNsYXNzKTtcblxuICAgICAgICAvLyBTZXQgaW5pdGlhbCBzdHlsZXMgZm9yIHRoZSBjaGlsZCBlbGVtZW50LlxuICAgICAgICBzZXRTdHlsZXMoaXRlbS5fY2hpbGQsIGlzQWN0aXZlID8gc2V0dGluZ3MudmlzaWJsZVN0eWxlcyA6IHNldHRpbmdzLmhpZGRlblN0eWxlcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFB1YmxpYyBwcm90b3R5cGUgbWV0aG9kc1xyXG4gICAgICogKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgKi9cblxuICAgIC8qKlxyXG4gICAgICogU2hvdyBpdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtVmlzaWJpbGl0eS5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaW5zdGFudFxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uRmluaXNoXVxyXG4gICAgICogQHJldHVybnMge0l0ZW1WaXNpYmlsaXR5fVxyXG4gICAgICovXG5cblxuICAgIGNyZWF0ZUNsYXNzKEl0ZW1WaXNpYmlsaXR5LCBbe1xuICAgICAgICBrZXk6ICdzaG93JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coaW5zdGFudCwgb25GaW5pc2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5faXRlbTtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gaXRlbS5fZWxlbWVudDtcbiAgICAgICAgICAgIHZhciBxdWV1ZSA9IHRoaXMuX3F1ZXVlO1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gdHlwZW9mIG9uRmluaXNoID09PSAnZnVuY3Rpb24nID8gb25GaW5pc2ggOiBudWxsO1xuICAgICAgICAgICAgdmFyIGdyaWQgPSBpdGVtLmdldEdyaWQoKTtcbiAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IGdyaWQuX3NldHRpbmdzO1xuXG4gICAgICAgICAgICAvLyBJZiBpdGVtIGlzIHZpc2libGUgY2FsbCB0aGUgY2FsbGJhY2sgYW5kIGJlIGRvbmUgd2l0aCBpdC5cbiAgICAgICAgICAgIGlmICghdGhpcy5faXNTaG93aW5nICYmICF0aGlzLl9pc0hpZGRlbikge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGZhbHNlLCBpdGVtKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgaXRlbSBpcyBzaG93aW5nIGFuZCBkb2VzIG5vdCBuZWVkIHRvIGJlIHNob3duIGluc3RhbnRseSwgbGV0J3MganVzdFxuICAgICAgICAgICAgLy8gcHVzaCBjYWxsYmFjayB0byB0aGUgY2FsbGJhY2sgcXVldWUgYW5kIGJlIGRvbmUgd2l0aCBpdC5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1Nob3dpbmcgJiYgIWluc3RhbnQpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBxdWV1ZS5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGUgaXRlbSBpcyBoaWRpbmcgb3IgaGlkZGVuIHByb2Nlc3MgdGhlIGN1cnJlbnQgdmlzaWJpbGl0eSBjYWxsYmFja1xuICAgICAgICAgICAgLy8gcXVldWUgd2l0aCB0aGUgaW50ZXJydXB0ZWQgZmxhZyBhY3RpdmUsIHVwZGF0ZSBjbGFzc2VzIGFuZCBzZXQgZGlzcGxheVxuICAgICAgICAgICAgLy8gdG8gYmxvY2sgaWYgbmVjZXNzYXJ5LlxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1Nob3dpbmcpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZS5mbHVzaCh0cnVlLCBpdGVtKTtcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBzZXR0aW5ncy5pdGVtSGlkZGVuQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIHNldHRpbmdzLml0ZW1WaXNpYmxlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNIaWRpbmcpIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFB1c2ggY2FsbGJhY2sgdG8gdGhlIGNhbGxiYWNrIHF1ZXVlLlxuICAgICAgICAgICAgY2FsbGJhY2sgJiYgcXVldWUuYWRkKGNhbGxiYWNrKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHZpc2liaWxpdHkgc3RhdGVzLlxuICAgICAgICAgICAgaXRlbS5faXNBY3RpdmUgPSB0aGlzLl9pc1Nob3dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5faXNIaWRpbmcgPSB0aGlzLl9pc0hpZGRlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBGaW5hbGx5IGxldCdzIHN0YXJ0IHNob3cgYW5pbWF0aW9uLlxuICAgICAgICAgICAgdGhpcy5fc3RhcnRBbmltYXRpb24odHJ1ZSwgaW5zdGFudCwgdGhpcy5fZmluaXNoU2hvdyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGlkZSBpdGVtLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHB1YmxpY1xyXG4gICAgICAgICAqIEBtZW1iZXJvZiBJdGVtVmlzaWJpbGl0eS5wcm90b3R5cGVcclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGluc3RhbnRcclxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb25GaW5pc2hdXHJcbiAgICAgICAgICogQHJldHVybnMge0l0ZW1WaXNpYmlsaXR5fVxyXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdoaWRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoaW5zdGFudCwgb25GaW5pc2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5faXRlbTtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gaXRlbS5fZWxlbWVudDtcbiAgICAgICAgICAgIHZhciBxdWV1ZSA9IHRoaXMuX3F1ZXVlO1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gdHlwZW9mIG9uRmluaXNoID09PSAnZnVuY3Rpb24nID8gb25GaW5pc2ggOiBudWxsO1xuICAgICAgICAgICAgdmFyIGdyaWQgPSBpdGVtLmdldEdyaWQoKTtcbiAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IGdyaWQuX3NldHRpbmdzO1xuXG4gICAgICAgICAgICAvLyBJZiBpdGVtIGlzIGFscmVhZHkgaGlkZGVuIGNhbGwgdGhlIGNhbGxiYWNrIGFuZCBiZSBkb25lIHdpdGggaXQuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzSGlkaW5nICYmIHRoaXMuX2lzSGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZmFsc2UsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBpdGVtIGlzIGhpZGluZyBhbmQgZG9lcyBub3QgbmVlZCB0byBiZSBoaWRkZW4gaW5zdGFudGx5LCBsZXQncyBqdXN0XG4gICAgICAgICAgICAvLyBwdXNoIGNhbGxiYWNrIHRvIHRoZSBjYWxsYmFjayBxdWV1ZSBhbmQgYmUgZG9uZSB3aXRoIGl0LlxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzSGlkaW5nICYmICFpbnN0YW50KSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgcXVldWUuYWRkKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhlIGl0ZW0gaXMgc2hvd2luZyBvciB2aXNpYmxlIHByb2Nlc3MgdGhlIGN1cnJlbnQgdmlzaWJpbGl0eSBjYWxsYmFja1xuICAgICAgICAgICAgLy8gcXVldWUgd2l0aCB0aGUgaW50ZXJydXB0ZWQgZmxhZyBhY3RpdmUsIHVwZGF0ZSBjbGFzc2VzIGFuZCBzZXQgZGlzcGxheVxuICAgICAgICAgICAgLy8gdG8gYmxvY2sgaWYgbmVjZXNzYXJ5LlxuICAgICAgICAgICAgaWYgKCF0aGlzLl9pc0hpZGluZykge1xuICAgICAgICAgICAgICAgIHF1ZXVlLmZsdXNoKHRydWUsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKGVsZW1lbnQsIHNldHRpbmdzLml0ZW1IaWRkZW5DbGFzcyk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgc2V0dGluZ3MuaXRlbVZpc2libGVDbGFzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFB1c2ggY2FsbGJhY2sgdG8gdGhlIGNhbGxiYWNrIHF1ZXVlLlxuICAgICAgICAgICAgY2FsbGJhY2sgJiYgcXVldWUuYWRkKGNhbGxiYWNrKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIHZpc2liaWxpdHkgc3RhdGVzLlxuICAgICAgICAgICAgdGhpcy5faXNIaWRkZW4gPSB0aGlzLl9pc0hpZGluZyA9IHRydWU7XG4gICAgICAgICAgICBpdGVtLl9pc0FjdGl2ZSA9IHRoaXMuX2lzU2hvd2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBGaW5hbGx5IGxldCdzIHN0YXJ0IGhpZGUgYW5pbWF0aW9uLlxuICAgICAgICAgICAgdGhpcy5fc3RhcnRBbmltYXRpb24oZmFsc2UsIGluc3RhbnQsIHRoaXMuX2ZpbmlzaEhpZGUpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERlc3Ryb3kgdGhlIGluc3RhbmNlIGFuZCBzdG9wIGN1cnJlbnQgYW5pbWF0aW9uIGlmIGl0IGlzIHJ1bm5pbmcuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQG1lbWJlcm9mIEl0ZW1WaXNpYmlsaXR5LnByb3RvdHlwZVxyXG4gICAgICAgICAqIEByZXR1cm5zIHtJdGVtVmlzaWJpbGl0eX1cclxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcblxuICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLl9pdGVtO1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBpdGVtLl9lbGVtZW50O1xuICAgICAgICAgICAgdmFyIGdyaWQgPSBpdGVtLmdldEdyaWQoKTtcbiAgICAgICAgICAgIHZhciBxdWV1ZSA9IHRoaXMuX3F1ZXVlO1xuICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gZ3JpZC5fc2V0dGluZ3M7XG5cbiAgICAgICAgICAgIC8vIFN0b3AgdmlzaWJpbGl0eSBhbmltYXRpb24uXG4gICAgICAgICAgICB0aGlzLl9zdG9wQW5pbWF0aW9uKHt9KTtcblxuICAgICAgICAgICAgLy8gRmlyZSBhbGwgdW5jb21wbGV0ZWQgY2FsbGJhY2tzIHdpdGggaW50ZXJydXB0ZWQgZmxhZyBhbmQgZGVzdHJveSB0aGUgcXVldWUuXG4gICAgICAgICAgICBxdWV1ZS5mbHVzaCh0cnVlLCBpdGVtKS5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB2aXNpYmxlL2hpZGRlbiBjbGFzc2VzLlxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgc2V0dGluZ3MuaXRlbVZpc2libGVDbGFzcyk7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBzZXR0aW5ncy5pdGVtSGlkZGVuQ2xhc3MpO1xuXG4gICAgICAgICAgICAvLyBSZXNldCBzdGF0ZS5cbiAgICAgICAgICAgIHRoaXMuX2l0ZW0gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5faXNIaWRpbmcgPSB0aGlzLl9pc1Nob3dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2lzRGVzdHJveWVkID0gdGhpcy5faXNIaWRkZW4gPSB0cnVlO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByaXZhdGUgcHJvdG90eXBlIG1ldGhvZHNcclxuICAgICAgICAgKiAqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3RhcnQgdmlzaWJpbGl0eSBhbmltYXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEBtZW1iZXJvZiBJdGVtVmlzaWJpbGl0eS5wcm90b3R5cGVcclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHRvVmlzaWJsZVxyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2luc3RhbnRdXHJcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29uRmluaXNoXVxyXG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfc3RhcnRBbmltYXRpb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3N0YXJ0QW5pbWF0aW9uKHRvVmlzaWJsZSwgaW5zdGFudCwgb25GaW5pc2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXMuX2l0ZW07XG4gICAgICAgICAgICB2YXIgc2V0dGluZ3MgPSBpdGVtLmdldEdyaWQoKS5fc2V0dGluZ3M7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0U3R5bGVzID0gdG9WaXNpYmxlID8gc2V0dGluZ3MudmlzaWJsZVN0eWxlcyA6IHNldHRpbmdzLmhpZGRlblN0eWxlcztcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IHBhcnNlSW50KHRvVmlzaWJsZSA/IHNldHRpbmdzLnNob3dEdXJhdGlvbiA6IHNldHRpbmdzLmhpZGVEdXJhdGlvbikgfHwgMDtcbiAgICAgICAgICAgIHZhciBlYXNpbmcgPSAodG9WaXNpYmxlID8gc2V0dGluZ3Muc2hvd0Vhc2luZyA6IHNldHRpbmdzLmhpZGVFYXNpbmcpIHx8ICdlYXNlJztcbiAgICAgICAgICAgIHZhciBpc0luc3RhbnQgPSBpbnN0YW50IHx8IGR1cmF0aW9uIDw9IDA7XG4gICAgICAgICAgICB2YXIgY3VycmVudFN0eWxlcyA9IHZvaWQgMDtcblxuICAgICAgICAgICAgLy8gTm8gdGFyZ2V0IHN0eWxlcz8gTGV0J3MgcXVpdCBlYXJseS5cbiAgICAgICAgICAgIGlmICghdGFyZ2V0U3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgb25GaW5pc2ggJiYgb25GaW5pc2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENhbmNlbCBxdWV1ZWQgdmlzaWJpbGl0eSB0aWNrLlxuICAgICAgICAgICAgY2FuY2VsVmlzaWJpbGl0eVRpY2soaXRlbS5faWQpO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSBuZWVkIHRvIGFwcGx5IHRoZSBzdHlsZXMgaW5zdGFudGx5IHdpdGhvdXQgYW5pbWF0aW9uLlxuICAgICAgICAgICAgaWYgKGlzSW5zdGFudCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLl9hbmltYXRlQ2hpbGQuaXNBbmltYXRpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLl9hbmltYXRlQ2hpbGQuc3RvcCh0YXJnZXRTdHlsZXMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFN0eWxlcyhpdGVtLl9jaGlsZCwgdGFyZ2V0U3R5bGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25GaW5pc2ggJiYgb25GaW5pc2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IHRoZSBhbmltYXRpb24gaW4gdGhlIG5leHQgdGljayAodG8gYXZvaWQgbGF5b3V0IHRocmFzaGluZykuXG4gICAgICAgICAgICBhZGRWaXNpYmlsaXR5VGljayhpdGVtLl9pZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTdHlsZXMgPSBnZXRDdXJyZW50U3R5bGVzKGl0ZW0uX2NoaWxkLCB0YXJnZXRTdHlsZXMpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGl0ZW0uX2FuaW1hdGVDaGlsZC5zdGFydChjdXJyZW50U3R5bGVzLCB0YXJnZXRTdHlsZXMsIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IGVhc2luZyxcbiAgICAgICAgICAgICAgICAgICAgb25GaW5pc2g6IG9uRmluaXNoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFN0b3AgdmlzaWJpbGl0eSBhbmltYXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEBtZW1iZXJvZiBJdGVtVmlzaWJpbGl0eS5wcm90b3R5cGVcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gW3RhcmdldFN0eWxlc11cclxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX3N0b3BBbmltYXRpb24nLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3N0b3BBbmltYXRpb24odGFyZ2V0U3R5bGVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5faXRlbTtcbiAgICAgICAgICAgIGNhbmNlbFZpc2liaWxpdHlUaWNrKGl0ZW0uX2lkKTtcbiAgICAgICAgICAgIGl0ZW0uX2FuaW1hdGVDaGlsZC5zdG9wKHRhcmdldFN0eWxlcyk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBGaW5pc2ggc2hvdyBwcm9jZWR1cmUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqIEBtZW1iZXJvZiBJdGVtVmlzaWJpbGl0eS5wcm90b3R5cGVcclxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnX2ZpbmlzaFNob3cnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2ZpbmlzaFNob3coKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNIaWRkZW4pIHJldHVybjtcbiAgICAgICAgICAgIHRoaXMuX2lzU2hvd2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fcXVldWUuZmx1c2goZmFsc2UsIHRoaXMuX2l0ZW0pO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdfZmluaXNoSGlkZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZmluaXNoSGlkZSgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faXNIaWRkZW4pIHJldHVybjtcbiAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5faXRlbTtcbiAgICAgICAgICAgIHRoaXMuX2lzSGlkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBmaW5pc2hTdHlsZXMudHJhbnNmb3JtID0gZ2V0VHJhbnNsYXRlU3RyaW5nKDAsIDApO1xuICAgICAgICAgICAgaXRlbS5fbGF5b3V0LnN0b3AodHJ1ZSwgZmluaXNoU3R5bGVzKTtcbiAgICAgICAgICAgIGl0ZW0uX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLmZsdXNoKGZhbHNlLCBpdGVtKTtcbiAgICAgICAgfVxuICAgIH1dKTtcbiAgICByZXR1cm4gSXRlbVZpc2liaWxpdHk7XG59KENvbXBvbmVudCk7XG5cbi8qKlxyXG4gKiBGaW5pc2ggaGlkZSBwcm9jZWR1cmUuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtZW1iZXJvZiBJdGVtVmlzaWJpbGl0eS5wcm90b3R5cGVcclxuICovXG5cblxudmFyIGZpbmlzaFN0eWxlcyA9IHt9O1xuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxudmFyIGlkID0gMDtcblxuLyoqXHJcbiAqIFJldHVybnMgYSB1bmlxdWUgbnVtZXJpYyBpZCAoaW5jcmVtZW50cyBhIGJhc2UgdmFsdWUgb24gZXZlcnkgY2FsbCkuXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9XHJcbiAqL1xuZnVuY3Rpb24gY3JlYXRlVWlkKCkge1xuICByZXR1cm4gKytpZDtcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IEl0ZW0gaW5zdGFuY2UgZm9yIGEgR3JpZCBpbnN0YW5jZS5cclxuICpcclxuICogQGNsYXNzXHJcbiAqIEBwYXJhbSB7R3JpZH0gZ3JpZFxyXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2lzQWN0aXZlXVxyXG4gKi9cblxudmFyIEl0ZW0gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEl0ZW0oZ3JpZCwgZWxlbWVudCwgaXNBY3RpdmUpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBJdGVtKTtcblxuICAgIHZhciBzZXR0aW5ncyA9IGdyaWQuX3NldHRpbmdzO1xuXG4gICAgLy8gQ3JlYXRlIGluc3RhbmNlIGlkLlxuICAgIHRoaXMuX2lkID0gY3JlYXRlVWlkKCk7XG5cbiAgICAvLyBSZWZlcmVuY2UgdG8gY29ubmVjdGVkIEdyaWQgaW5zdGFuY2UncyBpZC5cbiAgICB0aGlzLl9ncmlkSWQgPSBncmlkLl9pZDtcblxuICAgIC8vIERlc3Ryb3llZCBmbGFnLlxuICAgIHRoaXMuX2lzRGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAvLyBTZXQgdXAgaW5pdGlhbCBwb3NpdGlvbnMuXG4gICAgdGhpcy5fbGVmdCA9IDA7XG4gICAgdGhpcy5fdG9wID0gMDtcblxuICAgIC8vIFRoZSBlbGVtZW50cy5cbiAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLl9jaGlsZCA9IGVsZW1lbnQuY2hpbGRyZW5bMF07XG5cbiAgICAvLyBJZiB0aGUgcHJvdmlkZWQgaXRlbSBlbGVtZW50IGlzIG5vdCBhIGRpcmVjdCBjaGlsZCBvZiB0aGUgZ3JpZCBjb250YWluZXJcbiAgICAvLyBlbGVtZW50LCBhcHBlbmQgaXQgdG8gdGhlIGdyaWQgY29udGFpbmVyLlxuICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUgIT09IGdyaWQuX2VsZW1lbnQpIHtcbiAgICAgIGdyaWQuX2VsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGl0ZW0gY2xhc3MuXG4gICAgYWRkQ2xhc3MoZWxlbWVudCwgc2V0dGluZ3MuaXRlbUNsYXNzKTtcblxuICAgIC8vIElmIGlzQWN0aXZlIGlzIG5vdCBkZWZpbmVkLCBsZXQncyB0cnkgdG8gYXV0by1kZXRlY3QgaXQuXG4gICAgaWYgKHR5cGVvZiBpc0FjdGl2ZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBpc0FjdGl2ZSA9IGdldFN0eWxlKGVsZW1lbnQsICdkaXNwbGF5JykgIT09ICdub25lJztcbiAgICB9XG5cbiAgICAvLyBTZXQgdXAgYWN0aXZlIHN0YXRlIChkZWZpbmVzIGlmIHRoZSBpdGVtIGlzIGNvbnNpZGVyZWQgcGFydCBvZiB0aGUgbGF5b3V0XG4gICAgLy8gb3Igbm90KS5cbiAgICB0aGlzLl9pc0FjdGl2ZSA9IGlzQWN0aXZlO1xuXG4gICAgLy8gU2V0IGVsZW1lbnQncyBpbml0aWFsIHBvc2l0aW9uIHN0eWxlcy5cbiAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSAnMCc7XG4gICAgZWxlbWVudC5zdHlsZS50b3AgPSAnMCc7XG4gICAgZWxlbWVudC5zdHlsZVt0cmFuc2Zvcm1Qcm9wXSA9IGdldFRyYW5zbGF0ZVN0cmluZygwLCAwKTtcblxuICAgIC8vIEluaXRpYXRlIGl0ZW0ncyBhbmltYXRpb24gY29udHJvbGxlcnMuXG4gICAgdGhpcy5fYW5pbWF0ZSA9IG5ldyBJdGVtQW5pbWF0ZShlbGVtZW50KTtcbiAgICB0aGlzLl9hbmltYXRlQ2hpbGQgPSBuZXcgSXRlbUFuaW1hdGUodGhpcy5fY2hpbGQpO1xuXG4gICAgLy8gU2V0dXAgdmlzaWJpbGl0eSBoYW5kbGVyLlxuICAgIHRoaXMuX3Zpc2liaWxpdHkgPSBuZXcgSXRlbVZpc2liaWxpdHkodGhpcyk7XG5cbiAgICAvLyBTZXQgdXAgbGF5b3V0IGhhbmRsZXIuXG4gICAgdGhpcy5fbGF5b3V0ID0gbmV3IEl0ZW1MYXlvdXQodGhpcyk7XG5cbiAgICAvLyBTZXQgdXAgbWlncmF0aW9uIGhhbmRsZXIgZGF0YS5cbiAgICB0aGlzLl9taWdyYXRlID0gbmV3IEl0ZW1NaWdyYXRlKHRoaXMpO1xuXG4gICAgLy8gU2V0IHVwIHJlbGVhc2UgaGFuZGxlclxuICAgIHRoaXMuX3JlbGVhc2UgPSBuZXcgSXRlbVJlbGVhc2UodGhpcyk7XG5cbiAgICAvLyBTZXQgdXAgZHJhZyBoYW5kbGVyLlxuICAgIHRoaXMuX2RyYWcgPSBzZXR0aW5ncy5kcmFnRW5hYmxlZCA/IG5ldyBJdGVtRHJhZyh0aGlzKSA6IG51bGw7XG5cbiAgICAvLyBTZXQgdXAgdGhlIGluaXRpYWwgZGltZW5zaW9ucyBhbmQgc29ydCBkYXRhLlxuICAgIHRoaXMuX3JlZnJlc2hEaW1lbnNpb25zKCk7XG4gICAgdGhpcy5fcmVmcmVzaFNvcnREYXRhKCk7XG4gIH1cblxuICAvKipcclxuICAgKiBQdWJsaWMgcHJvdG90eXBlIG1ldGhvZHNcclxuICAgKiAqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAgKi9cblxuICAvKipcclxuICAgKiBHZXQgdGhlIGluc3RhbmNlIGdyaWQgcmVmZXJlbmNlLlxyXG4gICAqXHJcbiAgICogQHB1YmxpY1xyXG4gICAqIEBtZW1iZXJvZiBJdGVtLnByb3RvdHlwZVxyXG4gICAqIEByZXR1cm5zIHtHcmlkfVxyXG4gICAqL1xuXG5cbiAgY3JlYXRlQ2xhc3MoSXRlbSwgW3tcbiAgICBrZXk6ICdnZXRHcmlkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0R3JpZCgpIHtcbiAgICAgIHJldHVybiBncmlkSW5zdGFuY2VzW3RoaXMuX2dyaWRJZF07XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIGluc3RhbmNlIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEl0ZW0ucHJvdG90eXBlXHJcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0RWxlbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEdldCBpbnN0YW5jZSBlbGVtZW50J3MgY2FjaGVkIHdpZHRoLlxyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtLnByb3RvdHlwZVxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRXaWR0aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdpZHRoKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogR2V0IGluc3RhbmNlIGVsZW1lbnQncyBjYWNoZWQgaGVpZ2h0LlxyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtLnByb3RvdHlwZVxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWlnaHQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogR2V0IGluc3RhbmNlIGVsZW1lbnQncyBjYWNoZWQgbWFyZ2lucy5cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbS5wcm90b3R5cGVcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgKiAgIC0gVGhlIHJldHVybmVkIG9iamVjdCBjb250YWlucyBsZWZ0LCByaWdodCwgdG9wIGFuZCBib3R0b20gcHJvcGVydGllc1xyXG4gICAgICogICAgIHdoaWNoIGluZGljYXRlIHRoZSBpdGVtIGVsZW1lbnQncyBjYWNoZWQgbWFyZ2lucy5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNYXJnaW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRNYXJnaW4oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiB0aGlzLl9tYXJnaW5MZWZ0LFxuICAgICAgICByaWdodDogdGhpcy5fbWFyZ2luUmlnaHQsXG4gICAgICAgIHRvcDogdGhpcy5fbWFyZ2luVG9wLFxuICAgICAgICBib3R0b206IHRoaXMuX21hcmdpbkJvdHRvbVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEdldCBpbnN0YW5jZSBlbGVtZW50J3MgY2FjaGVkIHBvc2l0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtLnByb3RvdHlwZVxyXG4gICAgICogQHJldHVybnMge09iamVjdH1cclxuICAgICAqICAgLSBUaGUgcmV0dXJuZWQgb2JqZWN0IGNvbnRhaW5zIGxlZnQgYW5kIHRvcCBwcm9wZXJ0aWVzIHdoaWNoIGluZGljYXRlIHRoZVxyXG4gICAgICogICAgIGl0ZW0gZWxlbWVudCdzIGNhY2hlZCBwb3NpdGlvbiBpbiB0aGUgZ3JpZC5cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRQb3NpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBvc2l0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogdGhpcy5fbGVmdCxcbiAgICAgICAgdG9wOiB0aGlzLl90b3BcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBJcyB0aGUgaXRlbSBhY3RpdmU/XHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEl0ZW0ucHJvdG90eXBlXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc0FjdGl2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzQWN0aXZlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzQWN0aXZlO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogSXMgdGhlIGl0ZW0gdmlzaWJsZT9cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbS5wcm90b3R5cGVcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2lzVmlzaWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmlzaWJsZSgpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuX3Zpc2liaWxpdHkgJiYgIXRoaXMuX3Zpc2liaWxpdHkuX2lzSGlkZGVuO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogSXMgdGhlIGl0ZW0gYmVpbmcgYW5pbWF0ZWQgdG8gdmlzaWJsZT9cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbS5wcm90b3R5cGVcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2lzU2hvd2luZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzU2hvd2luZygpIHtcbiAgICAgIHJldHVybiAhISh0aGlzLl92aXNpYmlsaXR5ICYmIHRoaXMuX3Zpc2liaWxpdHkuX2lzU2hvd2luZyk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBJcyB0aGUgaXRlbSBiZWluZyBhbmltYXRlZCB0byBoaWRkZW4/XHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEl0ZW0ucHJvdG90eXBlXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc0hpZGluZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzSGlkaW5nKCkge1xuICAgICAgcmV0dXJuICEhKHRoaXMuX3Zpc2liaWxpdHkgJiYgdGhpcy5fdmlzaWJpbGl0eS5faXNIaWRpbmcpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogSXMgdGhlIGl0ZW0gcG9zaXRpb25pbmc/XHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEl0ZW0ucHJvdG90eXBlXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc1Bvc2l0aW9uaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNQb3NpdGlvbmluZygpIHtcbiAgICAgIHJldHVybiAhISh0aGlzLl9sYXlvdXQgJiYgdGhpcy5fbGF5b3V0Ll9pc0FjdGl2ZSk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBJcyB0aGUgaXRlbSBiZWluZyBkcmFnZ2VkP1xyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtLnByb3RvdHlwZVxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaXNEcmFnZ2luZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRHJhZ2dpbmcoKSB7XG4gICAgICByZXR1cm4gISEodGhpcy5fZHJhZyAmJiB0aGlzLl9kcmFnLl9pc0FjdGl2ZSk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBJcyB0aGUgaXRlbSBiZWluZyByZWxlYXNlZD9cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbS5wcm90b3R5cGVcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2lzUmVsZWFzaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNSZWxlYXNpbmcoKSB7XG4gICAgICByZXR1cm4gISEodGhpcy5fcmVsZWFzZSAmJiB0aGlzLl9yZWxlYXNlLl9pc0FjdGl2ZSk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBJcyB0aGUgaXRlbSBkZXN0cm95ZWQ/XHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEl0ZW0ucHJvdG90eXBlXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdpc0Rlc3Ryb3llZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRGVzdHJveWVkKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzRGVzdHJveWVkO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogUHJpdmF0ZSBwcm90b3R5cGUgbWV0aG9kc1xyXG4gICAgICogKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICAgICovXG5cbiAgICAvKipcclxuICAgICAqIFJlY2FsY3VsYXRlIGl0ZW0ncyBkaW1lbnNpb25zLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbS5wcm90b3R5cGVcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfcmVmcmVzaERpbWVuc2lvbnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVmcmVzaERpbWVuc2lvbnMoKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQgfHwgdGhpcy5fdmlzaWJpbGl0eS5faXNIaWRkZW4pIHJldHVybjtcblxuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50O1xuICAgICAgdmFyIHJlY3QgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgIHRoaXMuX3dpZHRoID0gcmVjdC53aWR0aDtcbiAgICAgIHRoaXMuX2hlaWdodCA9IHJlY3QuaGVpZ2h0O1xuXG4gICAgICAvLyBDYWxjdWxhdGUgbWFyZ2lucyAoaWdub3JlIG5lZ2F0aXZlIG1hcmdpbnMpLlxuICAgICAgdGhpcy5fbWFyZ2luTGVmdCA9IE1hdGgubWF4KDAsIGdldFN0eWxlQXNGbG9hdChlbGVtZW50LCAnbWFyZ2luLWxlZnQnKSk7XG4gICAgICB0aGlzLl9tYXJnaW5SaWdodCA9IE1hdGgubWF4KDAsIGdldFN0eWxlQXNGbG9hdChlbGVtZW50LCAnbWFyZ2luLXJpZ2h0JykpO1xuICAgICAgdGhpcy5fbWFyZ2luVG9wID0gTWF0aC5tYXgoMCwgZ2V0U3R5bGVBc0Zsb2F0KGVsZW1lbnQsICdtYXJnaW4tdG9wJykpO1xuICAgICAgdGhpcy5fbWFyZ2luQm90dG9tID0gTWF0aC5tYXgoMCwgZ2V0U3R5bGVBc0Zsb2F0KGVsZW1lbnQsICdtYXJnaW4tYm90dG9tJykpO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogRmV0Y2ggYW5kIHN0b3JlIGl0ZW0ncyBzb3J0IGRhdGEuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBJdGVtLnByb3RvdHlwZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19yZWZyZXNoU29ydERhdGEnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVmcmVzaFNvcnREYXRhKCkge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgIHZhciBkYXRhID0gdGhpcy5fc29ydERhdGEgPSB7fTtcbiAgICAgIHZhciBnZXR0ZXJzID0gdGhpcy5nZXRHcmlkKCkuX3NldHRpbmdzLnNvcnREYXRhO1xuICAgICAgdmFyIHByb3AgPSB2b2lkIDA7XG5cbiAgICAgIGZvciAocHJvcCBpbiBnZXR0ZXJzKSB7XG4gICAgICAgIGRhdGFbcHJvcF0gPSBnZXR0ZXJzW3Byb3BdKHRoaXMsIHRoaXMuX2VsZW1lbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveSBpdGVtIGluc3RhbmNlLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgSXRlbS5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZUVsZW1lbnQ9ZmFsc2VdXHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVzdHJveShyZW1vdmVFbGVtZW50KSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybjtcblxuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLl9lbGVtZW50O1xuICAgICAgdmFyIGdyaWQgPSB0aGlzLmdldEdyaWQoKTtcbiAgICAgIHZhciBzZXR0aW5ncyA9IGdyaWQuX3NldHRpbmdzO1xuICAgICAgdmFyIGluZGV4ID0gZ3JpZC5faXRlbXMuaW5kZXhPZih0aGlzKTtcblxuICAgICAgLy8gRGVzdHJveSBoYW5kbGVycy5cbiAgICAgIHRoaXMuX3JlbGVhc2UuZGVzdHJveSgpO1xuICAgICAgdGhpcy5fbWlncmF0ZS5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9sYXlvdXQuZGVzdHJveSgpO1xuICAgICAgdGhpcy5fdmlzaWJpbGl0eS5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9hbmltYXRlLmRlc3Ryb3koKTtcbiAgICAgIHRoaXMuX2FuaW1hdGVDaGlsZC5kZXN0cm95KCk7XG4gICAgICB0aGlzLl9kcmFnICYmIHRoaXMuX2RyYWcuZGVzdHJveSgpO1xuXG4gICAgICAvLyBSZW1vdmUgYWxsIGlubGluZSBzdHlsZXMuXG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIHRoaXMuX2NoaWxkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcblxuICAgICAgLy8gUmVtb3ZlIGl0ZW0gY2xhc3MuXG4gICAgICByZW1vdmVDbGFzcyhlbGVtZW50LCBzZXR0aW5ncy5pdGVtQ2xhc3MpO1xuXG4gICAgICAvLyBSZW1vdmUgaXRlbSBmcm9tIEdyaWQgaW5zdGFuY2UgaWYgaXQgc3RpbGwgZXhpc3RzIHRoZXJlLlxuICAgICAgaW5kZXggPiAtMSAmJiBncmlkLl9pdGVtcy5zcGxpY2UoaW5kZXgsIDEpO1xuXG4gICAgICAvLyBSZW1vdmUgZWxlbWVudCBmcm9tIERPTS5cbiAgICAgIHJlbW92ZUVsZW1lbnQgJiYgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuXG4gICAgICAvLyBSZXNldCBzdGF0ZS5cbiAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLl9pc0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBJdGVtO1xufSgpO1xuXG4vKipcclxuICogTXV1cmkgUGFja2VyXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNi1wcmVzZW50LCBOaWtsYXMgUsOkbcO2IDxpbnJhbW9AZ21haWwuY29tPlxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL3NyYy9QYWNrZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuLyoqXHJcbiAqIFRoaXMgaXMgdGhlIGRlZmF1bHQgbGF5b3V0IGFsZ29yaXRobSBmb3IgTXV1cmkuIEJhc2VkIG9uIE1BWFJFQ1RTIGFwcHJvYWNoXHJcbiAqIGFzIGRlc2NyaWJlZCBieSBKdWtrYSBKeWzDpG5raSBpbiBoaXMgc3VydmV5OiBcIkEgVGhvdXNhbmQgV2F5cyB0byBQYWNrIHRoZVxyXG4gKiBCaW4gLSBBIFByYWN0aWNhbCBBcHByb2FjaCB0byBUd28tRGltZW5zaW9uYWwgUmVjdGFuZ2xlIEJpbiBQYWNraW5nLlwiLlxyXG4gKlxyXG4gKiBAY2xhc3NcclxuICovXG5cbnZhciBQYWNrZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhQYWNrZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFBhY2tlcigpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBQYWNrZXIpO1xuXG4gICAgdmFyIF90aGlzID0gcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUGFja2VyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUGFja2VyKSkuY2FsbCh0aGlzKSk7XG5cbiAgICBfdGhpcy5fc2xvdHMgPSBbXTtcbiAgICBfdGhpcy5fc2xvdFNpemVzID0gW107XG4gICAgX3RoaXMuX2ZyZWVTbG90cyA9IFtdO1xuICAgIF90aGlzLl9uZXdTbG90cyA9IFtdO1xuICAgIF90aGlzLl9yZWN0SXRlbSA9IHt9O1xuICAgIF90aGlzLl9yZWN0U3RvcmUgPSBbXTtcbiAgICBfdGhpcy5fcmVjdElkID0gMDtcblxuICAgIC8vIFRoZSBsYXlvdXQgcmV0dXJuIGRhdGEsIHdoaWNoIHdpbGwgYmUgcG9wdWxhdGVkIGluIGdldExheW91dC5cbiAgICBfdGhpcy5fbGF5b3V0ID0ge1xuICAgICAgc2xvdHM6IG51bGwsXG4gICAgICBzZXRXaWR0aDogZmFsc2UsXG4gICAgICBzZXRIZWlnaHQ6IGZhbHNlLFxuICAgICAgd2lkdGg6IGZhbHNlLFxuICAgICAgaGVpZ2h0OiBmYWxzZVxuICAgIH07XG5cbiAgICAvLyBCaW5kIHNvcnQgaGFuZGxlcnMuXG4gICAgX3RoaXMuX3NvcnRSZWN0c0xlZnRUb3AgPSBfdGhpcy5fc29ydFJlY3RzTGVmdFRvcC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5fc29ydFJlY3RzVG9wTGVmdCA9IF90aGlzLl9zb3J0UmVjdHNUb3BMZWZ0LmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIC8qKlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAbWVtYmVyb2YgUGFja2VyLnByb3RvdHlwZVxyXG4gICAqIEBwYXJhbSB7SXRlbVtdfSBpdGVtc1xyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aFxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcclxuICAgKiBAcGFyYW0ge051bWJlcltdfSBbc2xvdHNdXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZmlsbEdhcHM9ZmFsc2VdXHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5ob3Jpem9udGFsPWZhbHNlXVxyXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYWxpZ25SaWdodD1mYWxzZV1cclxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmFsaWduQm90dG9tPWZhbHNlXVxyXG4gICAqIEByZXR1cm5zIHtMYXlvdXREYXRhfVxyXG4gICAqL1xuXG5cbiAgY3JlYXRlQ2xhc3MoUGFja2VyLCBbe1xuICAgIGtleTogJ2dldExheW91dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldExheW91dChpdGVtcywgd2lkdGgsIGhlaWdodCwgc2xvdHMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsYXlvdXQgPSB0aGlzLl9sYXlvdXQ7XG4gICAgICB2YXIgZmlsbEdhcHMgPSAhIShvcHRpb25zICYmIG9wdGlvbnMuZmlsbEdhcHMpO1xuICAgICAgdmFyIGlzSG9yaXpvbnRhbCA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5ob3Jpem9udGFsKTtcbiAgICAgIHZhciBhbGlnblJpZ2h0ID0gISEob3B0aW9ucyAmJiBvcHRpb25zLmFsaWduUmlnaHQpO1xuICAgICAgdmFyIGFsaWduQm90dG9tID0gISEob3B0aW9ucyAmJiBvcHRpb25zLmFsaWduQm90dG9tKTtcbiAgICAgIHZhciByb3VuZGluZyA9ICEhKG9wdGlvbnMgJiYgb3B0aW9ucy5yb3VuZGluZyk7XG4gICAgICB2YXIgc2xvdFNpemVzID0gdGhpcy5fc2xvdFNpemVzO1xuICAgICAgdmFyIGkgPSB2b2lkIDA7XG5cbiAgICAgIC8vIFJlc2V0IGxheW91dCBkYXRhLlxuICAgICAgbGF5b3V0LnNsb3RzID0gc2xvdHMgfHwgdGhpcy5fc2xvdHM7XG4gICAgICBsYXlvdXQud2lkdGggPSBpc0hvcml6b250YWwgPyAwIDogcm91bmRpbmcgPyBNYXRoLnJvdW5kKHdpZHRoKSA6IHdpZHRoO1xuICAgICAgbGF5b3V0LmhlaWdodCA9ICFpc0hvcml6b250YWwgPyAwIDogcm91bmRpbmcgPyBNYXRoLnJvdW5kKGhlaWdodCkgOiBoZWlnaHQ7XG4gICAgICBsYXlvdXQuc2V0V2lkdGggPSBpc0hvcml6b250YWw7XG4gICAgICBsYXlvdXQuc2V0SGVpZ2h0ID0gIWlzSG9yaXpvbnRhbDtcblxuICAgICAgLy8gTWFrZSBzdXJlIHNsb3RzIGFuZCBzbG90IHNpemUgYXJyYXlzIGFyZSByZXNldC5cbiAgICAgIGxheW91dC5zbG90cy5sZW5ndGggPSAwO1xuICAgICAgc2xvdFNpemVzLmxlbmd0aCA9IDA7XG5cbiAgICAgIC8vIE5vIG5lZWQgdG8gZ28gZnVydGhlciBpZiBpdGVtcyBkbyBub3QgZXhpc3QuXG4gICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkgcmV0dXJuIGxheW91dDtcblxuICAgICAgLy8gRmluZCBzbG90cyBmb3IgaXRlbXMuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fYWRkU2xvdChpdGVtc1tpXSwgaXNIb3Jpem9udGFsLCBmaWxsR2Fwcywgcm91bmRpbmcsIGFsaWduUmlnaHQgfHwgYWxpZ25Cb3R0b20pO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgYWxpZ25tZW50IGlzIHNldCB0byByaWdodCB3ZSBuZWVkIHRvIGFkanVzdCB0aGUgcmVzdWx0cy5cbiAgICAgIGlmIChhbGlnblJpZ2h0KSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsYXlvdXQuc2xvdHMubGVuZ3RoOyBpID0gaSArIDIpIHtcbiAgICAgICAgICBsYXlvdXQuc2xvdHNbaV0gPSBsYXlvdXQud2lkdGggLSAobGF5b3V0LnNsb3RzW2ldICsgc2xvdFNpemVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGUgYWxpZ25tZW50IGlzIHNldCB0byBib3R0b20gd2UgbmVlZCB0byBhZGp1c3QgdGhlIHJlc3VsdHMuXG4gICAgICBpZiAoYWxpZ25Cb3R0b20pIHtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IGxheW91dC5zbG90cy5sZW5ndGg7IGkgPSBpICsgMikge1xuICAgICAgICAgIGxheW91dC5zbG90c1tpXSA9IGxheW91dC5oZWlnaHQgLSAobGF5b3V0LnNsb3RzW2ldICsgc2xvdFNpemVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBSZXNldCBzbG90cyBhcnJheXMgYW5kIHJlY3QgaWQuXG4gICAgICBzbG90U2l6ZXMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuX2ZyZWVTbG90cy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5fbmV3U2xvdHMubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuX3JlY3RJZCA9IDA7XG5cbiAgICAgIHJldHVybiBsYXlvdXQ7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgYSBuZXcgcmVjdGFuZ2xlIHRvIHRoZSByZWN0YW5nbGUgc3RvcmUuIFJldHVybnMgdGhlIGlkIG9mIHRoZSBuZXdcclxuICAgICAqIHJlY3RhbmdsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIFBhY2tlci5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZWZ0XHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdG9wXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGhcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcclxuICAgICAqIEByZXR1cm5zIHtSZWN0SWR9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2FkZFJlY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkUmVjdChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHZhciByZWN0SWQgPSArK3RoaXMuX3JlY3RJZDtcbiAgICAgIHZhciByZWN0U3RvcmUgPSB0aGlzLl9yZWN0U3RvcmU7XG5cbiAgICAgIHJlY3RTdG9yZVtyZWN0SWRdID0gbGVmdCB8fCAwO1xuICAgICAgcmVjdFN0b3JlWysrdGhpcy5fcmVjdElkXSA9IHRvcCB8fCAwO1xuICAgICAgcmVjdFN0b3JlWysrdGhpcy5fcmVjdElkXSA9IHdpZHRoIHx8IDA7XG4gICAgICByZWN0U3RvcmVbKyt0aGlzLl9yZWN0SWRdID0gaGVpZ2h0IHx8IDA7XG5cbiAgICAgIHJldHVybiByZWN0SWQ7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgcmVjdGFuZ2xlIGRhdGEgZnJvbSB0aGUgcmVjdGFuZ2xlIHN0b3JlIGJ5IGlkLiBPcHRpb25hbGx5IHlvdSBjYW5cclxuICAgICAqIHByb3ZpZGUgYSB0YXJnZXQgb2JqZWN0IHdoZXJlIHRoZSByZWN0YW5nbGUgZGF0YSB3aWxsIGJlIHdyaXR0ZW4gaW4uIEJ5XHJcbiAgICAgKiBkZWZhdWx0IGFuIGludGVybmFsIG9iamVjdCBpcyByZXVzZWQgYXMgYSB0YXJnZXQgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgUGFja2VyLnByb3RvdHlwZVxyXG4gICAgICogQHBhcmFtIHtSZWN0SWR9IGlkXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3RhcmdldF1cclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2dldFJlY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0UmVjdChpZCwgdGFyZ2V0KSB7XG4gICAgICB2YXIgcmVjdEl0ZW0gPSB0YXJnZXQgfHwgdGhpcy5fcmVjdEl0ZW07XG4gICAgICB2YXIgcmVjdFN0b3JlID0gdGhpcy5fcmVjdFN0b3JlO1xuXG4gICAgICByZWN0SXRlbS5sZWZ0ID0gcmVjdFN0b3JlW2lkXSB8fCAwO1xuICAgICAgcmVjdEl0ZW0udG9wID0gcmVjdFN0b3JlWysraWRdIHx8IDA7XG4gICAgICByZWN0SXRlbS53aWR0aCA9IHJlY3RTdG9yZVsrK2lkXSB8fCAwO1xuICAgICAgcmVjdEl0ZW0uaGVpZ2h0ID0gcmVjdFN0b3JlWysraWRdIHx8IDA7XG5cbiAgICAgIHJldHVybiByZWN0SXRlbTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHR3byByZWN0YW5nbGVzIG92ZXJsYXAuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBQYWNrZXIucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gYVxyXG4gICAgICogQHBhcmFtIHtSZWN0YW5nbGV9IGJcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19kb1JlY3RzT3ZlcmxhcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9kb1JlY3RzT3ZlcmxhcChhLCBiKSB7XG4gICAgICByZXR1cm4gIShhLmxlZnQgKyBhLndpZHRoIDw9IGIubGVmdCB8fCBiLmxlZnQgKyBiLndpZHRoIDw9IGEubGVmdCB8fCBhLnRvcCArIGEuaGVpZ2h0IDw9IGIudG9wIHx8IGIudG9wICsgYi5oZWlnaHQgPD0gYS50b3ApO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSByZWN0YW5nbGUgaXMgZnVsbHkgd2l0aGluIGFub3RoZXIgcmVjdGFuZ2xlLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgUGFja2VyLnByb3RvdHlwZVxyXG4gICAgICogQHBhcmFtIHtSZWN0YW5nbGV9IGFcclxuICAgICAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBiXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfaXNSZWN0V2l0aGluUmVjdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pc1JlY3RXaXRoaW5SZWN0KGEsIGIpIHtcbiAgICAgIHJldHVybiBhLmxlZnQgPj0gYi5sZWZ0ICYmIGEudG9wID49IGIudG9wICYmIGEubGVmdCArIGEud2lkdGggPD0gYi5sZWZ0ICsgYi53aWR0aCAmJiBhLnRvcCArIGEuaGVpZ2h0IDw9IGIudG9wICsgYi5oZWlnaHQ7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBQYWNrZXI7XG59KENvbXBvbmVudCk7XG5cbi8qKlxyXG4gKiBDYWxjdWxhdGUgcG9zaXRpb24gZm9yIHRoZSBsYXlvdXQgaXRlbS4gUmV0dXJucyB0aGUgbGVmdCBhbmQgdG9wIHBvc2l0aW9uXHJcbiAqIG9mIHRoZSBpdGVtIGluIHBpeGVscy5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQG1lbWJlcm9mIFBhY2tlci5wcm90b3R5cGVcclxuICogQHBhcmFtIHtJdGVtfSBpdGVtXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNIb3Jpem9udGFsXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gZmlsbEdhcHNcclxuICogQHBhcmFtIHtCb29sZWFufSByb3VuZGluZ1xyXG4gKiBAcmV0dXJucyB7QXJyYXl9XHJcbiAqL1xuXG5cblBhY2tlci5wcm90b3R5cGUuX2FkZFNsb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsZWV3YXkgPSAwLjAwMTtcbiAgdmFyIGl0ZW1TbG90ID0ge307XG4gIHJldHVybiBmdW5jdGlvbiAoaXRlbSwgaXNIb3Jpem9udGFsLCBmaWxsR2Fwcywgcm91bmRpbmcsIHRyYWNrU2l6ZSkge1xuICAgIHZhciBsYXlvdXQgPSB0aGlzLl9sYXlvdXQ7XG4gICAgdmFyIGZyZWVTbG90cyA9IHRoaXMuX2ZyZWVTbG90cztcbiAgICB2YXIgbmV3U2xvdHMgPSB0aGlzLl9uZXdTbG90cztcbiAgICB2YXIgcmVjdCA9IHZvaWQgMDtcbiAgICB2YXIgcmVjdElkID0gdm9pZCAwO1xuICAgIHZhciBwb3RlbnRpYWxTbG90cyA9IHZvaWQgMDtcbiAgICB2YXIgaWdub3JlQ3VycmVudFNsb3RzID0gdm9pZCAwO1xuICAgIHZhciBpID0gdm9pZCAwO1xuICAgIHZhciBpaSA9IHZvaWQgMDtcblxuICAgIC8vIFJlc2V0IG5ldyBzbG90cy5cbiAgICBuZXdTbG90cy5sZW5ndGggPSAwO1xuXG4gICAgLy8gU2V0IGl0ZW0gc2xvdCBpbml0aWFsIGRhdGEuXG4gICAgaXRlbVNsb3QubGVmdCA9IG51bGw7XG4gICAgaXRlbVNsb3QudG9wID0gbnVsbDtcbiAgICBpdGVtU2xvdC53aWR0aCA9IGl0ZW0uX3dpZHRoICsgaXRlbS5fbWFyZ2luTGVmdCArIGl0ZW0uX21hcmdpblJpZ2h0O1xuICAgIGl0ZW1TbG90LmhlaWdodCA9IGl0ZW0uX2hlaWdodCArIGl0ZW0uX21hcmdpblRvcCArIGl0ZW0uX21hcmdpbkJvdHRvbTtcblxuICAgIC8vIFJvdW5kIGl0ZW0gc2xvdCB3aWR0aCBhbmQgaGVpZ2h0IGlmIG5lZWRlZC5cbiAgICBpZiAocm91bmRpbmcpIHtcbiAgICAgIGl0ZW1TbG90LndpZHRoID0gTWF0aC5yb3VuZChpdGVtU2xvdC53aWR0aCk7XG4gICAgICBpdGVtU2xvdC5oZWlnaHQgPSBNYXRoLnJvdW5kKGl0ZW1TbG90LmhlaWdodCk7XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIGZpbmQgYSBzbG90IGZvciB0aGUgaXRlbS5cbiAgICBmb3IgKGkgPSAwOyBpIDwgZnJlZVNsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICByZWN0SWQgPSBmcmVlU2xvdHNbaV07XG4gICAgICBpZiAoIXJlY3RJZCkgY29udGludWU7XG4gICAgICByZWN0ID0gdGhpcy5fZ2V0UmVjdChyZWN0SWQpO1xuICAgICAgaWYgKGl0ZW1TbG90LndpZHRoIDw9IHJlY3Qud2lkdGggKyBsZWV3YXkgJiYgaXRlbVNsb3QuaGVpZ2h0IDw9IHJlY3QuaGVpZ2h0ICsgbGVld2F5KSB7XG4gICAgICAgIGl0ZW1TbG90LmxlZnQgPSByZWN0LmxlZnQ7XG4gICAgICAgIGl0ZW1TbG90LnRvcCA9IHJlY3QudG9wO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiBubyBzbG90IHdhcyBmb3VuZCBmb3IgdGhlIGl0ZW0uXG4gICAgaWYgKGl0ZW1TbG90LmxlZnQgPT09IG51bGwpIHtcbiAgICAgIC8vIFBvc2l0aW9uIHRoZSBpdGVtIGluIHRvIHRoZSBib3R0b20gbGVmdCAodmVydGljYWwgbW9kZSkgb3IgdG9wIHJpZ2h0XG4gICAgICAvLyAoaG9yaXpvbnRhbCBtb2RlKSBvZiB0aGUgZ3JpZC5cbiAgICAgIGl0ZW1TbG90LmxlZnQgPSAhaXNIb3Jpem9udGFsID8gMCA6IGxheW91dC53aWR0aDtcbiAgICAgIGl0ZW1TbG90LnRvcCA9ICFpc0hvcml6b250YWwgPyBsYXlvdXQuaGVpZ2h0IDogMDtcblxuICAgICAgLy8gSWYgZ2FwcyBkb24ndCBuZWVkcyBmaWxsaW5nIGRvIG5vdCBhZGQgYW55IGN1cnJlbnQgc2xvdHMgdG8gdGhlIG5ld1xuICAgICAgLy8gc2xvdHMgYXJyYXkuXG4gICAgICBpZiAoIWZpbGxHYXBzKSB7XG4gICAgICAgIGlnbm9yZUN1cnJlbnRTbG90cyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSW4gdmVydGljYWwgbW9kZSwgaWYgdGhlIGl0ZW0ncyBib3R0b20gb3ZlcmxhcHMgdGhlIGdyaWQncyBib3R0b20uXG4gICAgaWYgKCFpc0hvcml6b250YWwgJiYgaXRlbVNsb3QudG9wICsgaXRlbVNsb3QuaGVpZ2h0ID4gbGF5b3V0LmhlaWdodCkge1xuICAgICAgLy8gSWYgaXRlbSBpcyBub3QgYWxpZ25lZCB0byB0aGUgbGVmdCBlZGdlLCBjcmVhdGUgYSBuZXcgc2xvdC5cbiAgICAgIGlmIChpdGVtU2xvdC5sZWZ0ID4gMCkge1xuICAgICAgICBuZXdTbG90cy5wdXNoKHRoaXMuX2FkZFJlY3QoMCwgbGF5b3V0LmhlaWdodCwgaXRlbVNsb3QubGVmdCwgSW5maW5pdHkpKTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgaXRlbSBpcyBub3QgYWxpZ25lZCB0byB0aGUgcmlnaHQgZWRnZSwgY3JlYXRlIGEgbmV3IHNsb3QuXG4gICAgICBpZiAoaXRlbVNsb3QubGVmdCArIGl0ZW1TbG90LndpZHRoIDwgbGF5b3V0LndpZHRoKSB7XG4gICAgICAgIG5ld1Nsb3RzLnB1c2godGhpcy5fYWRkUmVjdChpdGVtU2xvdC5sZWZ0ICsgaXRlbVNsb3Qud2lkdGgsIGxheW91dC5oZWlnaHQsIGxheW91dC53aWR0aCAtIGl0ZW1TbG90LmxlZnQgLSBpdGVtU2xvdC53aWR0aCwgSW5maW5pdHkpKTtcbiAgICAgIH1cblxuICAgICAgLy8gVXBkYXRlIGdyaWQgaGVpZ2h0LlxuICAgICAgbGF5b3V0LmhlaWdodCA9IGl0ZW1TbG90LnRvcCArIGl0ZW1TbG90LmhlaWdodDtcbiAgICB9XG5cbiAgICAvLyBJbiBob3Jpem9udGFsIG1vZGUsIGlmIHRoZSBpdGVtJ3MgcmlnaHQgb3ZlcmxhcHMgdGhlIGdyaWQncyByaWdodCBlZGdlLlxuICAgIGlmIChpc0hvcml6b250YWwgJiYgaXRlbVNsb3QubGVmdCArIGl0ZW1TbG90LndpZHRoID4gbGF5b3V0LndpZHRoKSB7XG4gICAgICAvLyBJZiBpdGVtIGlzIG5vdCBhbGlnbmVkIHRvIHRoZSB0b3AsIGNyZWF0ZSBhIG5ldyBzbG90LlxuICAgICAgaWYgKGl0ZW1TbG90LnRvcCA+IDApIHtcbiAgICAgICAgbmV3U2xvdHMucHVzaCh0aGlzLl9hZGRSZWN0KGxheW91dC53aWR0aCwgMCwgSW5maW5pdHksIGl0ZW1TbG90LnRvcCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBpdGVtIGlzIG5vdCBhbGlnbmVkIHRvIHRoZSBib3R0b20sIGNyZWF0ZSBhIG5ldyBzbG90LlxuICAgICAgaWYgKGl0ZW1TbG90LnRvcCArIGl0ZW1TbG90LmhlaWdodCA8IGxheW91dC5oZWlnaHQpIHtcbiAgICAgICAgbmV3U2xvdHMucHVzaCh0aGlzLl9hZGRSZWN0KGxheW91dC53aWR0aCwgaXRlbVNsb3QudG9wICsgaXRlbVNsb3QuaGVpZ2h0LCBJbmZpbml0eSwgbGF5b3V0LmhlaWdodCAtIGl0ZW1TbG90LnRvcCAtIGl0ZW1TbG90LmhlaWdodCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBVcGRhdGUgZ3JpZCB3aWR0aC5cbiAgICAgIGxheW91dC53aWR0aCA9IGl0ZW1TbG90LmxlZnQgKyBpdGVtU2xvdC53aWR0aDtcbiAgICB9XG5cbiAgICAvLyBDbGVhbiB1cCB0aGUgY3VycmVudCBzbG90cyBtYWtpbmcgc3VyZSB0aGVyZSBhcmUgbm8gb2xkIHNsb3RzIHRoYXRcbiAgICAvLyBvdmVybGFwIHdpdGggdGhlIGl0ZW0uIElmIGFuIG9sZCBzbG90IG92ZXJsYXBzIHdpdGggdGhlIGl0ZW0sIHNwbGl0IGl0XG4gICAgLy8gaW50byBzbWFsbGVyIHNsb3RzIGlmIG5lY2Vzc2FyeS5cbiAgICBmb3IgKGkgPSBmaWxsR2FwcyA/IDAgOiBpZ25vcmVDdXJyZW50U2xvdHMgPyBmcmVlU2xvdHMubGVuZ3RoIDogaTsgaSA8IGZyZWVTbG90cy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVjdElkID0gZnJlZVNsb3RzW2ldO1xuICAgICAgaWYgKCFyZWN0SWQpIGNvbnRpbnVlO1xuICAgICAgcmVjdCA9IHRoaXMuX2dldFJlY3QocmVjdElkKTtcbiAgICAgIHBvdGVudGlhbFNsb3RzID0gdGhpcy5fc3BsaXRSZWN0KHJlY3QsIGl0ZW1TbG90KTtcbiAgICAgIGZvciAoaWkgPSAwOyBpaSA8IHBvdGVudGlhbFNsb3RzLmxlbmd0aDsgaWkrKykge1xuICAgICAgICByZWN0SWQgPSBwb3RlbnRpYWxTbG90c1tpaV07XG4gICAgICAgIHJlY3QgPSB0aGlzLl9nZXRSZWN0KHJlY3RJZCk7XG4gICAgICAgIC8vIExldCdzIG1ha2Ugc3VyZSBoZXJlIHRoYXQgd2UgaGF2ZSBhIGJpZyBlbm91Z2ggc2xvdFxuICAgICAgICAvLyAod2lkdGgvaGVpZ2h0ID4gMC40OXB4KSBhbmQgYWxzbyBsZXQncyBtYWtlIHN1cmUgdGhhdCB0aGUgc2xvdCBpc1xuICAgICAgICAvLyB3aXRoaW4gdGhlIGJvdW5kYXJpZXMgb2YgdGhlIGdyaWQuXG4gICAgICAgIGlmIChyZWN0LndpZHRoID4gMC40OSAmJiByZWN0LmhlaWdodCA+IDAuNDkgJiYgKCFpc0hvcml6b250YWwgJiYgcmVjdC50b3AgPCBsYXlvdXQuaGVpZ2h0IHx8IGlzSG9yaXpvbnRhbCAmJiByZWN0LmxlZnQgPCBsYXlvdXQud2lkdGgpKSB7XG4gICAgICAgICAgbmV3U2xvdHMucHVzaChyZWN0SWQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2FuaXRpemUgbmV3IHNsb3RzLlxuICAgIGlmIChuZXdTbG90cy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX3B1cmdlUmVjdHMobmV3U2xvdHMpLnNvcnQoaXNIb3Jpem9udGFsID8gdGhpcy5fc29ydFJlY3RzTGVmdFRvcCA6IHRoaXMuX3NvcnRSZWN0c1RvcExlZnQpO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBsYXlvdXQgd2lkdGgvaGVpZ2h0LlxuICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgIGxheW91dC53aWR0aCA9IE1hdGgubWF4KGxheW91dC53aWR0aCwgaXRlbVNsb3QubGVmdCArIGl0ZW1TbG90LndpZHRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGF5b3V0LmhlaWdodCA9IE1hdGgubWF4KGxheW91dC5oZWlnaHQsIGl0ZW1TbG90LnRvcCArIGl0ZW1TbG90LmhlaWdodCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGl0ZW0gc2xvdCBkYXRhIHRvIGxheW91dCBzbG90cyAoYW5kIHN0b3JlIHRoZSBzbG90IHNpemUgZm9yIGxhdGVyXG4gICAgLy8gdXNhZ2UgdG9vIGlmIG5lY2Vzc2FyeSkuXG4gICAgbGF5b3V0LnNsb3RzLnB1c2goaXRlbVNsb3QubGVmdCwgaXRlbVNsb3QudG9wKTtcbiAgICBpZiAodHJhY2tTaXplKSB0aGlzLl9zbG90U2l6ZXMucHVzaChpdGVtU2xvdC53aWR0aCwgaXRlbVNsb3QuaGVpZ2h0KTtcblxuICAgIC8vIEZyZWUvbmV3IHNsb3RzIHN3aXRjaGVyb28hXG4gICAgdGhpcy5fZnJlZVNsb3RzID0gbmV3U2xvdHM7XG4gICAgdGhpcy5fbmV3U2xvdHMgPSBmcmVlU2xvdHM7XG4gIH07XG59KCk7XG5cbi8qKlxyXG4gKiBQdW5jaCBhIGhvbGUgaW50byBhIHJlY3RhbmdsZSBhbmQgc3BsaXQgdGhlIHJlbWFpbmluZyBhcmVhIGludG8gc21hbGxlclxyXG4gKiByZWN0YW5nbGVzICg0IGF0IG1heCkuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtZW1iZXJvZiBQYWNrZXIucHJvdG90eXBlXHJcbiAqIEBwYXJhbSB7UmVjdGFuZ2xlfSByZWN0XHJcbiAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBob2xlXHJcbiAqIEByZXR1cm5zIHtSZWN0SWRbXX1cclxuICovXG5QYWNrZXIucHJvdG90eXBlLl9zcGxpdFJlY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZXN1bHRzID0gW107XG4gIHJldHVybiBmdW5jdGlvbiAocmVjdCwgaG9sZSkge1xuICAgIC8vIFJlc2V0IG9sZCByZXN1bHRzLlxuICAgIHJlc3VsdHMubGVuZ3RoID0gMDtcblxuICAgIC8vIElmIHRoZSByZWN0IGRvZXMgbm90IG92ZXJsYXAgd2l0aCB0aGUgaG9sZSBhZGQgcmVjdCB0byB0aGUgcmV0dXJuIGRhdGFcbiAgICAvLyBhcyBpcy5cbiAgICBpZiAoIXRoaXMuX2RvUmVjdHNPdmVybGFwKHJlY3QsIGhvbGUpKSB7XG4gICAgICByZXN1bHRzLnB1c2godGhpcy5fYWRkUmVjdChyZWN0LmxlZnQsIHJlY3QudG9wLCByZWN0LndpZHRoLCByZWN0LmhlaWdodCkpO1xuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgLy8gTGVmdCBzcGxpdC5cbiAgICBpZiAocmVjdC5sZWZ0IDwgaG9sZS5sZWZ0KSB7XG4gICAgICByZXN1bHRzLnB1c2godGhpcy5fYWRkUmVjdChyZWN0LmxlZnQsIHJlY3QudG9wLCBob2xlLmxlZnQgLSByZWN0LmxlZnQsIHJlY3QuaGVpZ2h0KSk7XG4gICAgfVxuXG4gICAgLy8gUmlnaHQgc3BsaXQuXG4gICAgaWYgKHJlY3QubGVmdCArIHJlY3Qud2lkdGggPiBob2xlLmxlZnQgKyBob2xlLndpZHRoKSB7XG4gICAgICByZXN1bHRzLnB1c2godGhpcy5fYWRkUmVjdChob2xlLmxlZnQgKyBob2xlLndpZHRoLCByZWN0LnRvcCwgcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAtIChob2xlLmxlZnQgKyBob2xlLndpZHRoKSwgcmVjdC5oZWlnaHQpKTtcbiAgICB9XG5cbiAgICAvLyBUb3Agc3BsaXQuXG4gICAgaWYgKHJlY3QudG9wIDwgaG9sZS50b3ApIHtcbiAgICAgIHJlc3VsdHMucHVzaCh0aGlzLl9hZGRSZWN0KHJlY3QubGVmdCwgcmVjdC50b3AsIHJlY3Qud2lkdGgsIGhvbGUudG9wIC0gcmVjdC50b3ApKTtcbiAgICB9XG5cbiAgICAvLyBCb3R0b20gc3BsaXQuXG4gICAgaWYgKHJlY3QudG9wICsgcmVjdC5oZWlnaHQgPiBob2xlLnRvcCArIGhvbGUuaGVpZ2h0KSB7XG4gICAgICByZXN1bHRzLnB1c2godGhpcy5fYWRkUmVjdChyZWN0LmxlZnQsIGhvbGUudG9wICsgaG9sZS5oZWlnaHQsIHJlY3Qud2lkdGgsIHJlY3QudG9wICsgcmVjdC5oZWlnaHQgLSAoaG9sZS50b3AgKyBob2xlLmhlaWdodCkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcbn0oKTtcblxuLyoqXHJcbiAqIExvb3BzIHRocm91Z2ggYW4gYXJyYXkgb2YgcmVjdGFuZ2xlIGlkcyBhbmQgcmVzZXRzIGFsbCB0aGF0IGFyZSBmdWxseVxyXG4gKiB3aXRoaW4gYW5vdGhlciByZWN0YW5nbGUgaW4gdGhlIGFycmF5LiBSZXNldHRpbmcgaW4gdGhpcyBjYXNlIG1lYW5zIHRoYXRcclxuICogdGhlIHJlY3RhbmdsZSBpZCB2YWx1ZSBpcyByZXBsYWNlZCB3aXRoIHplcm8uXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtZW1iZXJvZiBQYWNrZXIucHJvdG90eXBlXHJcbiAqIEBwYXJhbSB7UmVjdElkW119IHJlY3RJZHNcclxuICogQHJldHVybnMge1JlY3RJZFtdfVxyXG4gKi9cblBhY2tlci5wcm90b3R5cGUuX3B1cmdlUmVjdHMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZWN0QSA9IHt9O1xuICB2YXIgcmVjdEIgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChyZWN0SWRzKSB7XG4gICAgdmFyIGkgPSByZWN0SWRzLmxlbmd0aDtcbiAgICB2YXIgaWkgPSB2b2lkIDA7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBpaSA9IHJlY3RJZHMubGVuZ3RoO1xuICAgICAgaWYgKCFyZWN0SWRzW2ldKSBjb250aW51ZTtcbiAgICAgIHRoaXMuX2dldFJlY3QocmVjdElkc1tpXSwgcmVjdEEpO1xuICAgICAgd2hpbGUgKGlpLS0pIHtcbiAgICAgICAgaWYgKCFyZWN0SWRzW2lpXSB8fCBpID09PSBpaSkgY29udGludWU7XG4gICAgICAgIGlmICh0aGlzLl9pc1JlY3RXaXRoaW5SZWN0KHJlY3RBLCB0aGlzLl9nZXRSZWN0KHJlY3RJZHNbaWldLCByZWN0QikpKSB7XG4gICAgICAgICAgcmVjdElkc1tpXSA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVjdElkcztcbiAgfTtcbn0oKTtcblxuLyoqXHJcbiAqIFNvcnQgcmVjdGFuZ2xlcyB3aXRoIHRvcC1sZWZ0IGdyYXZpdHkuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtZW1iZXJvZiBQYWNrZXIucHJvdG90eXBlXHJcbiAqIEBwYXJhbSB7UmVjdElkfSBhSWRcclxuICogQHBhcmFtIHtSZWN0SWR9IGJJZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gKi9cblBhY2tlci5wcm90b3R5cGUuX3NvcnRSZWN0c1RvcExlZnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZWN0QSA9IHt9O1xuICB2YXIgcmVjdEIgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhSWQsIGJJZCkge1xuICAgIHRoaXMuX2dldFJlY3QoYUlkLCByZWN0QSk7XG4gICAgdGhpcy5fZ2V0UmVjdChiSWQsIHJlY3RCKTtcbiAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICByZXR1cm4gcmVjdEEudG9wIDwgcmVjdEIudG9wID8gLTEgOiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgcmVjdEEudG9wID4gcmVjdEIudG9wID8gMSA6IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICByZWN0QS5sZWZ0IDwgcmVjdEIubGVmdCA/IC0xIDogLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgIHJlY3RBLmxlZnQgPiByZWN0Qi5sZWZ0ID8gMSA6IDA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgfTtcbn0oKTtcblxuLyoqXHJcbiAqIFNvcnQgcmVjdGFuZ2xlcyB3aXRoIGxlZnQtdG9wIGdyYXZpdHkuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBtZW1iZXJvZiBQYWNrZXIucHJvdG90eXBlXHJcbiAqIEBwYXJhbSB7UmVjdElkfSBhSWRcclxuICogQHBhcmFtIHtSZWN0SWR9IGJJZFxyXG4gKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gKi9cblBhY2tlci5wcm90b3R5cGUuX3NvcnRSZWN0c0xlZnRUb3AgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZWN0QSA9IHt9O1xuICB2YXIgcmVjdEIgPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhSWQsIGJJZCkge1xuICAgIHRoaXMuX2dldFJlY3QoYUlkLCByZWN0QSk7XG4gICAgdGhpcy5fZ2V0UmVjdChiSWQsIHJlY3RCKTtcbiAgICAvLyBzdGFuZGFyZC1pZ25vcmVcbiAgICByZXR1cm4gcmVjdEEubGVmdCA8IHJlY3RCLmxlZnQgPyAtMSA6IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICByZWN0QS5sZWZ0ID4gcmVjdEIubGVmdCA/IDEgOiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgcmVjdEEudG9wIDwgcmVjdEIudG9wID8gLTEgOiAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgcmVjdEEudG9wID4gcmVjdEIudG9wID8gMSA6IDA7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgfTtcbn0oKTtcblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbnZhciBodG1sQ29sbGVjdGlvblR5cGUgPSAnW29iamVjdCBIVE1MQ29sbGVjdGlvbl0nO1xudmFyIG5vZGVMaXN0VHlwZSA9ICdbb2JqZWN0IE5vZGVMaXN0XSc7XG5cbi8qKlxyXG4gKiBDaGVjayBpZiBhIHZhbHVlIGlzIGEgbm9kZSBsaXN0XHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsXHJcbiAqIEByZXR1cm5zIHtCb29sZWFufVxyXG4gKi9cbmZ1bmN0aW9uIGlzTm9kZUxpc3QodmFsKSB7XG4gIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCk7XG4gIHJldHVybiB0eXBlID09PSBodG1sQ29sbGVjdGlvblR5cGUgfHwgdHlwZSA9PT0gbm9kZUxpc3RUeXBlO1xufVxuXG4vKipcclxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEhhbHR1IE95XHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaGFsdHUvbXV1cmkvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxyXG4gKi9cblxuLyoqXHJcbiAqIENvbnZlcnRzIGEgdmFsdWUgdG8gYW4gYXJyYXkgb3IgY2xvbmVzIGFuIGFycmF5LlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHRhcmdldFxyXG4gKiBAcmV0dXJucyB7QXJyYXl9XHJcbiAqL1xuZnVuY3Rpb24gdG9BcnJheSQxKHRhcmdldCkge1xuICByZXR1cm4gaXNOb2RlTGlzdCh0YXJnZXQpID8gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGFyZ2V0KSA6IEFycmF5LnByb3RvdHlwZS5jb25jYXQodGFyZ2V0KTtcbn1cblxuLyoqXHJcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBIYWx0dSBPeVxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2hhbHR1L211dXJpL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcclxuICovXG5cbnZhciBwYWNrZXIgPSBuZXcgUGFja2VyKCk7XG5mdW5jdGlvbiBub29wKCkge31cblxuLyoqXHJcbiAqIENyZWF0ZXMgYSBuZXcgR3JpZCBpbnN0YW5jZS5cclxuICpcclxuICogQGNsYXNzXHJcbiAqIEBwYXJhbSB7KEhUTUxFbGVtZW50fFN0cmluZyl9IGVsZW1lbnRcclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0geyg/SFRNTEVsZW1lbnRbXXxOb2RlTGlzdHxTdHJpbmcpfSBbb3B0aW9ucy5pdGVtc11cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnNob3dEdXJhdGlvbj0zMDBdXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5zaG93RWFzaW5nPVwiZWFzZVwiXVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudmlzaWJsZVN0eWxlc11cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhpZGVEdXJhdGlvbj0zMDBdXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5oaWRlRWFzaW5nPVwiZWFzZVwiXVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuaGlkZGVuU3R5bGVzXVxyXG4gKiBAcGFyYW0geyhGdW5jdGlvbnxPYmplY3QpfSBbb3B0aW9ucy5sYXlvdXRdXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubGF5b3V0LmZpbGxHYXBzPWZhbHNlXVxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmxheW91dC5ob3Jpem9udGFsPWZhbHNlXVxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmxheW91dC5hbGlnblJpZ2h0PWZhbHNlXVxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmxheW91dC5hbGlnbkJvdHRvbT1mYWxzZV1cclxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5sYXlvdXQucm91bmRpbmc9dHJ1ZV1cclxuICogQHBhcmFtIHsoQm9vbGVhbnxOdW1iZXIpfSBbb3B0aW9ucy5sYXlvdXRPblJlc2l6ZT0xMDBdXHJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubGF5b3V0T25Jbml0PXRydWVdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5sYXlvdXREdXJhdGlvbj0zMDBdXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5sYXlvdXRFYXNpbmc9XCJlYXNlXCJdXHJcbiAqIEBwYXJhbSB7P09iamVjdH0gW29wdGlvbnMuc29ydERhdGE9bnVsbF1cclxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5kcmFnRW5hYmxlZD1mYWxzZV1cclxuICogQHBhcmFtIHs/SHRtbEVsZW1lbnR9IFtvcHRpb25zLmRyYWdDb250YWluZXI9bnVsbF1cclxuICogQHBhcmFtIHs/RnVuY3Rpb259IFtvcHRpb25zLmRyYWdTdGFydFByZWRpY2F0ZV1cclxuICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmRyYWdTdGFydFByZWRpY2F0ZS5kaXN0YW5jZT0wXVxyXG4gKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZHJhZ1N0YXJ0UHJlZGljYXRlLmRlbGF5PTBdXHJcbiAqIEBwYXJhbSB7KEJvb2xlYW58U3RyaW5nKX0gW29wdGlvbnMuZHJhZ1N0YXJ0UHJlZGljYXRlLmhhbmRsZT1mYWxzZV1cclxuICogQHBhcmFtIHs/U3RyaW5nfSBbb3B0aW9ucy5kcmFnQXhpc11cclxuICogQHBhcmFtIHsoQm9vbGVhbnxGdW5jdGlvbil9IFtvcHRpb25zLmRyYWdTb3J0PXRydWVdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kcmFnU29ydEludGVydmFsPTEwMF1cclxuICogQHBhcmFtIHsoRnVuY3Rpb258T2JqZWN0KX0gW29wdGlvbnMuZHJhZ1NvcnRQcmVkaWNhdGVdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kcmFnU29ydFByZWRpY2F0ZS50aHJlc2hvbGQ9NTBdXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5kcmFnU29ydFByZWRpY2F0ZS5hY3Rpb249XCJtb3ZlXCJdXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kcmFnUmVsZWFzZUR1cmF0aW9uPTMwMF1cclxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmRyYWdSZWxlYXNlRWFzaW5nPVwiZWFzZVwiXVxyXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZHJhZ0hhbW1lclNldHRpbmdzPXt0b3VjaEFjdGlvbjogXCJub25lXCJ9XVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuY29udGFpbmVyQ2xhc3M9XCJtdXVyaVwiXVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaXRlbUNsYXNzPVwibXV1cmktaXRlbVwiXVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaXRlbVZpc2libGVDbGFzcz1cIm11dXJpLWl0ZW0tdmlzaWJsZVwiXVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaXRlbUhpZGRlbkNsYXNzPVwibXV1cmktaXRlbS1oaWRkZW5cIl1cclxuICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLml0ZW1Qb3NpdGlvbmluZ0NsYXNzPVwibXV1cmktaXRlbS1wb3NpdGlvbmluZ1wiXVxyXG4gKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuaXRlbURyYWdnaW5nQ2xhc3M9XCJtdXVyaS1pdGVtLWRyYWdnaW5nXCJdXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5pdGVtUmVsZWFzaW5nQ2xhc3M9XCJtdXVyaS1pdGVtLXJlbGVhc2luZ1wiXVxyXG4gKi9cblxudmFyIEdyaWQgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBpbmhlcml0cyhHcmlkLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBHcmlkKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBHcmlkKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEdyaWQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihHcmlkKSkuY2FsbCh0aGlzLCBlbGVtZW50LCBvcHRpb25zKSk7XG5cbiAgICB2YXIgaW5zdCA9IF90aGlzO1xuICAgIHZhciBzZXR0aW5ncyA9IHZvaWQgMDtcbiAgICB2YXIgaXRlbXMgPSB2b2lkIDA7XG4gICAgdmFyIGxheW91dE9uUmVzaXplID0gdm9pZCAwO1xuXG4gICAgLy8gQWxsb3cgcGFzc2luZyBlbGVtZW50IGFzIHNlbGVjdG9yIHN0cmluZy4gU3RvcmUgZWxlbWVudCBmb3IgaW5zdGFuY2UuXG4gICAgZWxlbWVudCA9IF90aGlzLl9lbGVtZW50ID0gdHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtZW50KSA6IGVsZW1lbnQ7XG5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiB0aGUgY29udGFpbmVyIGVsZW1lbnQgaXMgbm90IGJvZHkgZWxlbWVudCBvciBkb2VzIG5vdFxuICAgIC8vIGV4aXN0IHdpdGhpbiB0aGUgYm9keSBlbGVtZW50LlxuICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhlbGVtZW50KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb250YWluZXIgZWxlbWVudCBtdXN0IGJlIGFuIGV4aXN0aW5nIERPTSBlbGVtZW50Jyk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGluc3RhbmNlIHNldHRpbmdzIGJ5IG1lcmdpbmcgdGhlIG9wdGlvbnMgd2l0aCBkZWZhdWx0IG9wdGlvbnMuXG4gICAgc2V0dGluZ3MgPSBfdGhpcy5fc2V0dGluZ3MgPSBtZXJnZVNldHRpbmdzKEdyaWQuZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgLy8gU2FuaXRpemUgZHJhZ1NvcnQgc2V0dGluZy5cbiAgICBpZiAodHlwZW9mIHNldHRpbmdzLmRyYWdTb3J0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzZXR0aW5ncy5kcmFnU29ydCA9ICEhc2V0dGluZ3MuZHJhZ1NvcnQ7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGluc3RhbmNlIGlkIGFuZCBzdG9yZSBpdCB0byB0aGUgZ3JpZCBpbnN0YW5jZXMgY29sbGVjdGlvbi5cbiAgICBfdGhpcy5faWQgPSBjcmVhdGVVaWQoKTtcbiAgICBncmlkSW5zdGFuY2VzW190aGlzLl9pZF0gPSBpbnN0O1xuXG4gICAgLy8gRGVzdHJveWVkIGZsYWcuXG4gICAgX3RoaXMuX2lzRGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAvLyBUaGUgbGF5b3V0IG9iamVjdCAobXV0YXRlZCBvbiBldmVyeSBsYXlvdXQpLlxuICAgIF90aGlzLl9sYXlvdXQgPSB7XG4gICAgICBpZDogMCxcbiAgICAgIGl0ZW1zOiBbXSxcbiAgICAgIHNsb3RzOiBbXSxcbiAgICAgIHNldFdpZHRoOiBmYWxzZSxcbiAgICAgIHNldEhlaWdodDogZmFsc2UsXG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMFxuICAgIH07XG5cbiAgICAvLyBDcmVhdGUgcHJpdmF0ZSBFbWl0dGVyIGluc3RhbmNlLlxuICAgIF90aGlzLl9lbWl0dGVyID0gbmV3IEVtaXR0ZXIoKTtcblxuICAgIC8vIEFkZCBjb250YWluZXIgZWxlbWVudCdzIGNsYXNzIG5hbWUuXG4gICAgYWRkQ2xhc3MoZWxlbWVudCwgc2V0dGluZ3MuY29udGFpbmVyQ2xhc3MpO1xuXG4gICAgLy8gQ3JlYXRlIGluaXRpYWwgaXRlbXMuXG4gICAgX3RoaXMuX2l0ZW1zID0gW107XG4gICAgaXRlbXMgPSBzZXR0aW5ncy5pdGVtcztcbiAgICBpZiAodHlwZW9mIGl0ZW1zID09PSAnc3RyaW5nJykge1xuICAgICAgdG9BcnJheSQxKGVsZW1lbnQuY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24gKGl0ZW1FbGVtZW50KSB7XG4gICAgICAgIGlmIChpdGVtcyA9PT0gJyonIHx8IGVsZW1lbnRNYXRjaGVzKGl0ZW1FbGVtZW50LCBpdGVtcykpIHtcbiAgICAgICAgICBpbnN0Ll9pdGVtcy5wdXNoKG5ldyBJdGVtKGluc3QsIGl0ZW1FbGVtZW50KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpdGVtcykgfHwgaXNOb2RlTGlzdChpdGVtcykpIHtcbiAgICAgIF90aGlzLl9pdGVtcyA9IHRvQXJyYXkkMShpdGVtcykubWFwKGZ1bmN0aW9uIChpdGVtRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gbmV3IEl0ZW0oaW5zdCwgaXRlbUVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSWYgbGF5b3V0T25SZXNpemUgb3B0aW9uIGlzIGEgdmFsaWQgbnVtYmVyIHNhbml0aXplIGl0IGFuZCBiaW5kIHRoZSByZXNpemVcbiAgICAvLyBoYW5kbGVyLlxuICAgIGxheW91dE9uUmVzaXplID0gc2V0dGluZ3MubGF5b3V0T25SZXNpemU7XG4gICAgaWYgKHR5cGVvZiBsYXlvdXRPblJlc2l6ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIGxheW91dE9uUmVzaXplID0gbGF5b3V0T25SZXNpemUgPT09IHRydWUgPyAwIDogLTE7XG4gICAgfVxuICAgIGlmIChsYXlvdXRPblJlc2l6ZSA+PSAwKSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgaW5zdC5fcmVzaXplSGFuZGxlciA9IGRlYm91bmNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaW5zdC5yZWZyZXNoSXRlbXMoKS5sYXlvdXQoKTtcbiAgICAgIH0sIGxheW91dE9uUmVzaXplKSk7XG4gICAgfVxuXG4gICAgLy8gTGF5b3V0IG9uIGluaXQgaWYgbmVjZXNzYXJ5LlxuICAgIGlmIChzZXR0aW5ncy5sYXlvdXRPbkluaXQpIHtcbiAgICAgIF90aGlzLmxheW91dCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgLyoqXHJcbiAgICogUHVibGljIHByb3RvdHlwZSBtZXRob2RzXHJcbiAgICogKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICovXG5cbiAgLyoqXHJcbiAgICogQmluZCBhbiBldmVudCBsaXN0ZW5lci5cclxuICAgKlxyXG4gICAqIEBwdWJsaWNcclxuICAgKiBAbWVtYmVyb2YgR3JpZC5wcm90b3R5cGVcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lclxyXG4gICAqIEByZXR1cm5zIHtHcmlkfVxyXG4gICAqL1xuXG5cbiAgY3JlYXRlQ2xhc3MoR3JpZCwgW3tcbiAgICBrZXk6ICdvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBCaW5kIGFuIGV2ZW50IGxpc3RlbmVyIHRoYXQgaXMgdHJpZ2dlcmVkIG9ubHkgb25jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgR3JpZC5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXJcclxuICAgICAqIEByZXR1cm5zIHtHcmlkfVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbmNlKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFVuYmluZCBhbiBldmVudCBsaXN0ZW5lci5cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgR3JpZC5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXJcclxuICAgICAqIEByZXR1cm5zIHtHcmlkfVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29mZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9mZihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub2ZmKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgY29udGFpbmVyIGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEdyaWQucHJvdG90eXBlXHJcbiAgICAgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0RWxlbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEVsZW1lbnQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEdldCBhbGwgaXRlbXMuIE9wdGlvbmFsbHkgeW91IGNhbiBwcm92aWRlIHNwZWNpZmljIHRhcmdldHMgKGVsZW1lbnRzIGFuZFxyXG4gICAgICogaW5kaWNlcykuIE5vdGUgdGhhdCB0aGUgcmV0dXJuZWQgYXJyYXkgaXMgbm90IHRoZSBzYW1lIG9iamVjdCB1c2VkIGJ5IHRoZVxyXG4gICAgICogaW5zdGFuY2Ugc28gbW9kaWZ5aW5nIGl0IHdpbGwgbm90IGFmZmVjdCBpbnN0YW5jZSdzIGl0ZW1zLiBBbGwgaXRlbXMgdGhhdFxyXG4gICAgICogYXJlIG5vdCBmb3VuZCBhcmUgb21pdHRlZCBmcm9tIHRoZSByZXR1cm5lZCBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgR3JpZC5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7R3JpZE11bHRpSXRlbVF1ZXJ5fSBbdGFyZ2V0c11cclxuICAgICAqIEByZXR1cm5zIHtJdGVtW119XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0SXRlbXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJdGVtcyh0YXJnZXRzKSB7XG4gICAgICAvLyBSZXR1cm4gYWxsIGl0ZW1zIGltbWVkaWF0ZWx5IGlmIG5vIHRhcmdldHMgd2VyZSBwcm92aWRlZCBvciBpZiB0aGVcbiAgICAgIC8vIGluc3RhbmNlIGlzIGRlc3Ryb3llZC5cbiAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCB8fCAhdGFyZ2V0cyAmJiB0YXJnZXRzICE9PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtcy5zbGljZSgwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldCA9IFtdO1xuICAgICAgdmFyIHRhcmdldEl0ZW1zID0gdG9BcnJheSQxKHRhcmdldHMpO1xuICAgICAgdmFyIGl0ZW0gPSB2b2lkIDA7XG4gICAgICB2YXIgaSA9IHZvaWQgMDtcblxuICAgICAgLy8gSWYgdGFyZ2V0IGl0ZW1zIGFyZSBkZWZpbmVkIHJldHVybiBmaWx0ZXJlZCByZXN1bHRzLlxuICAgICAgZm9yIChpID0gMDsgaSA8IHRhcmdldEl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZW0gPSB0aGlzLl9nZXRJdGVtKHRhcmdldEl0ZW1zW2ldKTtcbiAgICAgICAgaXRlbSAmJiByZXQucHVzaChpdGVtKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgY2FjaGVkIGRpbWVuc2lvbnMgb2YgdGhlIGluc3RhbmNlJ3MgaXRlbXMuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEdyaWQucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge0dyaWRNdWx0aUl0ZW1RdWVyeX0gW2l0ZW1zXVxyXG4gICAgICogQHJldHVybnMge0dyaWR9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVmcmVzaEl0ZW1zJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaEl0ZW1zKGl0ZW1zKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybiB0aGlzO1xuXG4gICAgICB2YXIgdGFyZ2V0cyA9IHRoaXMuZ2V0SXRlbXMoaXRlbXMpO1xuICAgICAgdmFyIGkgPSB2b2lkIDA7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0YXJnZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRhcmdldHNbaV0uX3JlZnJlc2hEaW1lbnNpb25zKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIHRoZSBzb3J0IGRhdGEgb2YgdGhlIGluc3RhbmNlJ3MgaXRlbXMuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEdyaWQucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge0dyaWRNdWx0aUl0ZW1RdWVyeX0gW2l0ZW1zXVxyXG4gICAgICogQHJldHVybnMge0dyaWR9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncmVmcmVzaFNvcnREYXRhJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaFNvcnREYXRhKGl0ZW1zKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybiB0aGlzO1xuXG4gICAgICB2YXIgdGFyZ2V0SXRlbXMgPSB0aGlzLmdldEl0ZW1zKGl0ZW1zKTtcbiAgICAgIHZhciBpID0gdm9pZCAwO1xuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgdGFyZ2V0SXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGFyZ2V0SXRlbXNbaV0uX3JlZnJlc2hTb3J0RGF0YSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFN5bmNocm9uaXplIHRoZSBpdGVtIGVsZW1lbnRzIHRvIG1hdGNoIHRoZSBvcmRlciBvZiB0aGUgaXRlbXMgaW4gdGhlIERPTS5cclxuICAgICAqIFRoaXMgY29tZXMgaGFuZHkgaWYgeW91IG5lZWQgdG8ga2VlcCB0aGUgRE9NIHN0cnVjdHVyZSBtYXRjaGVkIHdpdGggdGhlXHJcbiAgICAgKiBvcmRlciBvZiB0aGUgaXRlbXMuIE5vdGUgdGhhdCBpZiBhbiBpdGVtJ3MgZWxlbWVudCBpcyBub3QgY3VycmVudGx5IGEgY2hpbGRcclxuICAgICAqIG9mIHRoZSBjb250YWluZXIgZWxlbWVudCAoaWYgaXQgaXMgZHJhZ2dlZCBmb3IgZXhhbXBsZSkgaXQgaXMgaWdub3JlZCBhbmRcclxuICAgICAqIGxlZnQgdW50b3VjaGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBHcmlkLnByb3RvdHlwZVxyXG4gICAgICogQHJldHVybnMge0dyaWR9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3luY2hyb25pemUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzeW5jaHJvbml6ZSgpIHtcbiAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLl9lbGVtZW50O1xuICAgICAgdmFyIGl0ZW1zID0gdGhpcy5faXRlbXM7XG4gICAgICB2YXIgZnJhZ21lbnQgPSB2b2lkIDA7XG4gICAgICB2YXIgZWxlbWVudCA9IHZvaWQgMDtcbiAgICAgIHZhciBpID0gdm9pZCAwO1xuXG4gICAgICAvLyBBcHBlbmQgYWxsIGVsZW1lbnRzIGluIG9yZGVyIHRvIHRoZSBjb250YWluZXIgZWxlbWVudC5cbiAgICAgIGlmIChpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgZWxlbWVudCA9IGl0ZW1zW2ldLl9lbGVtZW50O1xuICAgICAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUgPT09IGNvbnRhaW5lcikge1xuICAgICAgICAgICAgZnJhZ21lbnQgPSBmcmFnbWVudCB8fCBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZnJhZ21lbnQpIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEVtaXQgc3luY2hyb25pemUgZXZlbnQuXG4gICAgICB0aGlzLl9lbWl0KGV2ZW50U3luY2hyb25pemUpO1xuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIENhbGN1bGF0ZSBhbmQgYXBwbHkgaXRlbSBwb3NpdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEdyaWQucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpbnN0YW50PWZhbHNlXVxyXG4gICAgICogQHBhcmFtIHtMYXlvdXRDYWxsYmFja30gW29uRmluaXNoXVxyXG4gICAgICogQHJldHVybnMge0dyaWR9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbGF5b3V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbGF5b3V0KGluc3RhbnQsIG9uRmluaXNoKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybiB0aGlzO1xuXG4gICAgICB2YXIgaW5zdCA9IHRoaXM7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG4gICAgICB2YXIgbGF5b3V0ID0gdGhpcy5fdXBkYXRlTGF5b3V0KCk7XG4gICAgICB2YXIgbGF5b3V0SWQgPSBsYXlvdXQuaWQ7XG4gICAgICB2YXIgaXRlbXNMZW5ndGggPSBsYXlvdXQuaXRlbXMubGVuZ3RoO1xuICAgICAgdmFyIGNvdW50ZXIgPSBpdGVtc0xlbmd0aDtcbiAgICAgIHZhciBjYWxsYmFjayA9IHR5cGVvZiBpbnN0YW50ID09PSAnZnVuY3Rpb24nID8gaW5zdGFudCA6IG9uRmluaXNoO1xuICAgICAgdmFyIGlzQ2FsbGJhY2tGdW5jdGlvbiA9IHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgIHZhciBjYWxsYmFja0l0ZW1zID0gaXNDYWxsYmFja0Z1bmN0aW9uID8gbGF5b3V0Lml0ZW1zLnNsaWNlKDApIDogbnVsbDtcbiAgICAgIHZhciBpc0JvcmRlckJveCA9IHZvaWQgMDtcbiAgICAgIHZhciBpdGVtID0gdm9pZCAwO1xuICAgICAgdmFyIGkgPSB2b2lkIDA7XG5cbiAgICAgIC8vIFRoZSBmaW5pc2ggZnVuY3Rpb24sIHdoaWNoIHdpbGwgYmUgdXNlZCBmb3IgY2hlY2tpbmcgaWYgYWxsIHRoZSBpdGVtc1xuICAgICAgLy8gaGF2ZSBsYWlkIG91dCB5ZXQuIEFmdGVyIGFsbCBpdGVtcyBoYXZlIGZpbmlzaGVkIHRoZWlyIGFuaW1hdGlvbnMgY2FsbFxuICAgICAgLy8gY2FsbGJhY2sgYW5kIGVtaXQgbGF5b3V0RW5kIGV2ZW50LiBPbmx5IGVtaXQgbGF5b3V0RW5kIGV2ZW50IGlmIHRoZXJlXG4gICAgICAvLyBoYXNuJ3QgYmVlbiBhIG5ldyBsYXlvdXQgY2FsbCBkdXJpbmcgdGhpcyBsYXlvdXQuXG4gICAgICBmdW5jdGlvbiB0cnlGaW5pc2goKSB7XG4gICAgICAgIGlmICgtLWNvdW50ZXIgPiAwKSByZXR1cm47XG4gICAgICAgIHZhciBoYXNMYXlvdXRDaGFuZ2VkID0gaW5zdC5fbGF5b3V0LmlkICE9PSBsYXlvdXRJZDtcbiAgICAgICAgaXNDYWxsYmFja0Z1bmN0aW9uICYmIGNhbGxiYWNrKGhhc0xheW91dENoYW5nZWQsIGNhbGxiYWNrSXRlbXMpO1xuICAgICAgICBpZiAoIWhhc0xheW91dENoYW5nZWQgJiYgaW5zdC5faGFzTGlzdGVuZXJzKGV2ZW50TGF5b3V0RW5kKSkge1xuICAgICAgICAgIGluc3QuX2VtaXQoZXZlbnRMYXlvdXRFbmQsIGxheW91dC5pdGVtcy5zbGljZSgwKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIElmIGdyaWQncyB3aWR0aCBvciBoZWlnaHQgd2FzIG1vZGlmaWVkLCB3ZSBuZWVkIHRvIHVwZGF0ZSBpdCdzIGNhY2hlZFxuICAgICAgLy8gZGltZW5zaW9ucy4gQWxzbyBrZWVwIGluIG1pbmQgdGhhdCBncmlkJ3MgY2FjaGVkIHdpZHRoL2hlaWdodCBzaG91bGRcbiAgICAgIC8vIGFsd2F5cyBlcXVhbCB0byB3aGF0IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgd291bGQgcmV0dXJuLCBzb1xuICAgICAgLy8gdGhlcmVmb3JlIHdlIG5lZWQgdG8gYWRkIHRoZSBncmlkIGVsZW1lbnQncyBib3JkZXJzIHRvIHRoZSBkaW1lbnNpb25zIGlmXG4gICAgICAvLyBpdCdzIGJveC1zaXppbmcgaXMgYm9yZGVyLWJveC5cbiAgICAgIGlmIChsYXlvdXQuc2V0SGVpZ2h0ICYmIHR5cGVvZiBsYXlvdXQuaGVpZ2h0ID09PSAnbnVtYmVyJyB8fCBsYXlvdXQuc2V0V2lkdGggJiYgdHlwZW9mIGxheW91dC53aWR0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaXNCb3JkZXJCb3ggPSBnZXRTdHlsZShlbGVtZW50LCAnYm94LXNpemluZycpID09PSAnYm9yZGVyLWJveCc7XG4gICAgICB9XG4gICAgICBpZiAobGF5b3V0LnNldEhlaWdodCkge1xuICAgICAgICBpZiAodHlwZW9mIGxheW91dC5oZWlnaHQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAoaXNCb3JkZXJCb3ggPyBsYXlvdXQuaGVpZ2h0ICsgdGhpcy5fYm9yZGVyVG9wICsgdGhpcy5fYm9yZGVyQm90dG9tIDogbGF5b3V0LmhlaWdodCkgKyAncHgnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gbGF5b3V0LmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxheW91dC5zZXRXaWR0aCkge1xuICAgICAgICBpZiAodHlwZW9mIGxheW91dC53aWR0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gKGlzQm9yZGVyQm94ID8gbGF5b3V0LndpZHRoICsgdGhpcy5fYm9yZGVyTGVmdCArIHRoaXMuX2JvcmRlclJpZ2h0IDogbGF5b3V0LndpZHRoKSArICdweCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IGxheW91dC53aWR0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBFbWl0IGxheW91dFN0YXJ0IGV2ZW50LiBOb3RlIHRoYXQgdGhpcyBpcyBpbnRlbnRpb25hbGx5IGVtaXR0ZWQgYWZ0ZXIgdGhlXG4gICAgICAvLyBjb250YWluZXIgZWxlbWVudCdzIGRpbWVuc2lvbnMgYXJlIHNldCwgYmVjYXVzZSBvdGhlcndpc2UgdGhlcmUgd291bGQgYmVcbiAgICAgIC8vIG5vIGhvb2sgZm9yIHJlYWN0aW5nIHRvIGNvbnRhaW5lciBkaW1lbnNpb24gY2hhbmdlcy5cbiAgICAgIGlmICh0aGlzLl9oYXNMaXN0ZW5lcnMoZXZlbnRMYXlvdXRTdGFydCkpIHtcbiAgICAgICAgdGhpcy5fZW1pdChldmVudExheW91dFN0YXJ0LCBsYXlvdXQuaXRlbXMuc2xpY2UoMCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gaXRlbXMgbGV0J3MgZmluaXNoIHF1aWNrbHkuXG4gICAgICBpZiAoIWl0ZW1zTGVuZ3RoKSB7XG4gICAgICAgIHRyeUZpbmlzaCgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlcmUgYXJlIGl0ZW1zIGxldCdzIHBvc2l0aW9uIHRoZW0uXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXNMZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVtID0gbGF5b3V0Lml0ZW1zW2ldO1xuICAgICAgICBpZiAoIWl0ZW0pIGNvbnRpbnVlO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBpdGVtJ3MgcG9zaXRpb24uXG4gICAgICAgIGl0ZW0uX2xlZnQgPSBsYXlvdXQuc2xvdHNbaSAqIDJdO1xuICAgICAgICBpdGVtLl90b3AgPSBsYXlvdXQuc2xvdHNbaSAqIDIgKyAxXTtcblxuICAgICAgICAvLyBMYXlvdXQgaXRlbSBpZiBpdCBpcyBub3QgZHJhZ2dlZC5cbiAgICAgICAgaXRlbS5pc0RyYWdnaW5nKCkgPyB0cnlGaW5pc2goKSA6IGl0ZW0uX2xheW91dC5zdGFydChpbnN0YW50ID09PSB0cnVlLCB0cnlGaW5pc2gpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEFkZCBuZXcgaXRlbXMgYnkgcHJvdmlkaW5nIHRoZSBlbGVtZW50cyB5b3Ugd2lzaCB0byBhZGQgdG8gdGhlIGluc3RhbmNlIGFuZFxyXG4gICAgICogb3B0aW9uYWxseSBwcm92aWRlIHRoZSBpbmRleCB3aGVyZSB5b3Ugd2FudCB0aGUgaXRlbXMgdG8gYmUgaW5zZXJ0ZWQgaW50by5cclxuICAgICAqIEFsbCBlbGVtZW50cyB0aGF0IGFyZSBub3QgYWxyZWFkeSBjaGlsZHJlbiBvZiB0aGUgY29udGFpbmVyIGVsZW1lbnQgd2lsbCBiZVxyXG4gICAgICogYXV0b21hdGljYWxseSBhcHBlbmRlZCB0byB0aGUgY29udGFpbmVyIGVsZW1lbnQuIElmIGFuIGVsZW1lbnQgaGFzIGl0J3MgQ1NTXHJcbiAgICAgKiBkaXNwbGF5IHByb3BlcnR5IHNldCB0byBcIm5vbmVcIiBpdCB3aWxsIGJlIG1hcmtlZCBhcyBpbmFjdGl2ZSBkdXJpbmcgdGhlXHJcbiAgICAgKiBpbml0aWF0aW9uIHByb2Nlc3MuIEFzIGxvbmcgYXMgdGhlIGl0ZW0gaXMgaW5hY3RpdmUgaXQgd2lsbCBub3QgYmUgcGFydCBvZlxyXG4gICAgICogdGhlIGxheW91dCwgYnV0IGl0IHdpbGwgcmV0YWluIGl0J3MgaW5kZXguIFlvdSBjYW4gYWN0aXZhdGUgaXRlbXMgYXQgYW55XHJcbiAgICAgKiBwb2ludCB3aXRoIGdyaWQuc2hvdygpIG1ldGhvZC4gVGhpcyBtZXRob2Qgd2lsbCBhdXRvbWF0aWNhbGx5IGNhbGxcclxuICAgICAqIGdyaWQubGF5b3V0KCkgaWYgb25lIG9yIG1vcmUgb2YgdGhlIGFkZGVkIGVsZW1lbnRzIGFyZSB2aXNpYmxlLiBJZiBvbmx5XHJcbiAgICAgKiBoaWRkZW4gaXRlbXMgYXJlIGFkZGVkIG5vIGxheW91dCB3aWxsIGJlIGNhbGxlZC4gQWxsIHRoZSBuZXcgdmlzaWJsZSBpdGVtc1xyXG4gICAgICogYXJlIHBvc2l0aW9uZWQgd2l0aG91dCBhbmltYXRpb24gZHVyaW5nIHRoZWlyIGZpcnN0IGxheW91dC5cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgR3JpZC5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7KEhUTUxFbGVtZW50fEhUTUxFbGVtZW50W10pfSBlbGVtZW50c1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmluZGV4PS0xXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5pc0FjdGl2ZV1cclxuICAgICAqIEBwYXJhbSB7KEJvb2xlYW58TGF5b3V0Q2FsbGJhY2t8U3RyaW5nKX0gW29wdGlvbnMubGF5b3V0PXRydWVdXHJcbiAgICAgKiBAcmV0dXJucyB7SXRlbVtdfVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChlbGVtZW50cywgb3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkIHx8ICFlbGVtZW50cykgcmV0dXJuIFtdO1xuXG4gICAgICB2YXIgbmV3SXRlbXMgPSB0b0FycmF5JDEoZWxlbWVudHMpO1xuICAgICAgaWYgKCFuZXdJdGVtcy5sZW5ndGgpIHJldHVybiBuZXdJdGVtcztcblxuICAgICAgdmFyIG9wdHMgPSBvcHRpb25zIHx8IDA7XG4gICAgICB2YXIgbGF5b3V0ID0gb3B0cy5sYXlvdXQgPyBvcHRzLmxheW91dCA6IG9wdHMubGF5b3V0ID09PSB1bmRlZmluZWQ7XG4gICAgICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtcztcbiAgICAgIHZhciBuZWVkc0xheW91dCA9IGZhbHNlO1xuICAgICAgdmFyIGl0ZW0gPSB2b2lkIDA7XG4gICAgICB2YXIgaSA9IHZvaWQgMDtcblxuICAgICAgLy8gTWFwIHByb3ZpZGVkIGVsZW1lbnRzIGludG8gbmV3IGdyaWQgaXRlbXMuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3SXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlbSA9IG5ldyBJdGVtKHRoaXMsIG5ld0l0ZW1zW2ldLCBvcHRzLmlzQWN0aXZlKTtcbiAgICAgICAgbmV3SXRlbXNbaV0gPSBpdGVtO1xuXG4gICAgICAgIC8vIElmIHRoZSBpdGVtIHRvIGJlIGFkZGVkIGlzIGFjdGl2ZSwgd2UgbmVlZCB0byBkbyBhIGxheW91dC4gQWxzbywgd2VcbiAgICAgICAgLy8gbmVlZCB0byBtYXJrIHRoZSBpdGVtIHdpdGggdGhlIHNraXBOZXh0QW5pbWF0aW9uIGZsYWcgdG8gbWFrZSBpdFxuICAgICAgICAvLyBwb3NpdGlvbiBpbnN0YW50bHkgKHdpdGhvdXQgYW5pbWF0aW9uKSBkdXJpbmcgdGhlIG5leHQgbGF5b3V0LiBXaXRob3V0XG4gICAgICAgIC8vIHRoZSBoYWNrIHRoZSBpdGVtIHdvdWxkIGFuaW1hdGUgdG8gaXQncyBuZXcgcG9zaXRpb24gZnJvbSB0aGUgbm9ydGh3ZXN0XG4gICAgICAgIC8vIGNvcm5lciBvZiB0aGUgZ3JpZCwgd2hpY2ggZmVlbHMgYSBiaXQgYnVnZ3kgKGltaG8pLlxuICAgICAgICBpZiAoaXRlbS5faXNBY3RpdmUpIHtcbiAgICAgICAgICBuZWVkc0xheW91dCA9IHRydWU7XG4gICAgICAgICAgaXRlbS5fbGF5b3V0Ll9za2lwTmV4dEFuaW1hdGlvbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHRoZSBuZXcgaXRlbXMgdG8gdGhlIGl0ZW1zIGNvbGxlY3Rpb24gdG8gY29ycmVjdCBpbmRleC5cbiAgICAgIGFycmF5SW5zZXJ0KGl0ZW1zLCBuZXdJdGVtcywgb3B0cy5pbmRleCk7XG5cbiAgICAgIC8vIEVtaXQgYWRkIGV2ZW50LlxuICAgICAgaWYgKHRoaXMuX2hhc0xpc3RlbmVycyhldmVudEFkZCkpIHtcbiAgICAgICAgdGhpcy5fZW1pdChldmVudEFkZCwgbmV3SXRlbXMuc2xpY2UoMCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBsYXlvdXQgaXMgbmVlZGVkLlxuICAgICAgaWYgKG5lZWRzTGF5b3V0ICYmIGxheW91dCkge1xuICAgICAgICB0aGlzLmxheW91dChsYXlvdXQgPT09ICdpbnN0YW50JywgdHlwZW9mIGxheW91dCA9PT0gJ2Z1bmN0aW9uJyA/IGxheW91dCA6IHVuZGVmaW5lZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdJdGVtcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFJlbW92ZSBpdGVtcyBmcm9tIHRoZSBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgR3JpZC5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7R3JpZE11bHRpSXRlbVF1ZXJ5fSBpdGVtc1xyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5yZW1vdmVFbGVtZW50cz1mYWxzZV1cclxuICAgICAqIEBwYXJhbSB7KEJvb2xlYW58TGF5b3V0Q2FsbGJhY2t8U3RyaW5nKX0gW29wdGlvbnMubGF5b3V0PXRydWVdXHJcbiAgICAgKiBAcmV0dXJucyB7SXRlbVtdfVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3JlbW92ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZShpdGVtcywgb3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcblxuICAgICAgdmFyIG9wdHMgPSBvcHRpb25zIHx8IDA7XG4gICAgICB2YXIgbGF5b3V0ID0gb3B0cy5sYXlvdXQgPyBvcHRzLmxheW91dCA6IG9wdHMubGF5b3V0ID09PSB1bmRlZmluZWQ7XG4gICAgICB2YXIgbmVlZHNMYXlvdXQgPSBmYWxzZTtcbiAgICAgIHZhciBhbGxJdGVtcyA9IHRoaXMuZ2V0SXRlbXMoKTtcbiAgICAgIHZhciB0YXJnZXRJdGVtcyA9IHRoaXMuZ2V0SXRlbXMoaXRlbXMpO1xuICAgICAgdmFyIGluZGljZXMgPSBbXTtcbiAgICAgIHZhciBpdGVtID0gdm9pZCAwO1xuICAgICAgdmFyIGkgPSB2b2lkIDA7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgaW5kaXZpZHVhbCBpdGVtcy5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0YXJnZXRJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVtID0gdGFyZ2V0SXRlbXNbaV07XG4gICAgICAgIGluZGljZXMucHVzaChhbGxJdGVtcy5pbmRleE9mKGl0ZW0pKTtcbiAgICAgICAgaWYgKGl0ZW0uX2lzQWN0aXZlKSBuZWVkc0xheW91dCA9IHRydWU7XG4gICAgICAgIGl0ZW0uX2Rlc3Ryb3kob3B0cy5yZW1vdmVFbGVtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEVtaXQgcmVtb3ZlIGV2ZW50LlxuICAgICAgaWYgKHRoaXMuX2hhc0xpc3RlbmVycyhldmVudFJlbW92ZSkpIHtcbiAgICAgICAgdGhpcy5fZW1pdChldmVudFJlbW92ZSwgdGFyZ2V0SXRlbXMuc2xpY2UoMCksIGluZGljZXMpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBsYXlvdXQgaXMgbmVlZGVkLlxuICAgICAgaWYgKG5lZWRzTGF5b3V0ICYmIGxheW91dCkge1xuICAgICAgICB0aGlzLmxheW91dChsYXlvdXQgPT09ICdpbnN0YW50JywgdHlwZW9mIGxheW91dCA9PT0gJ2Z1bmN0aW9uJyA/IGxheW91dCA6IHVuZGVmaW5lZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXRJdGVtcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFNob3cgaW5zdGFuY2UgaXRlbXMuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEdyaWQucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge0dyaWRNdWx0aUl0ZW1RdWVyeX0gaXRlbXNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaW5zdGFudD1mYWxzZV1cclxuICAgICAqIEBwYXJhbSB7U2hvd0NhbGxiYWNrfSBbb3B0aW9ucy5vbkZpbmlzaF1cclxuICAgICAqIEBwYXJhbSB7KEJvb2xlYW58TGF5b3V0Q2FsbGJhY2t8U3RyaW5nKX0gW29wdGlvbnMubGF5b3V0PXRydWVdXHJcbiAgICAgKiBAcmV0dXJucyB7R3JpZH1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzaG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdyhpdGVtcywgb3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcbiAgICAgIHRoaXMuX3NldEl0ZW1zVmlzaWJpbGl0eShpdGVtcywgdHJ1ZSwgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEhpZGUgaW5zdGFuY2UgaXRlbXMuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEdyaWQucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge0dyaWRNdWx0aUl0ZW1RdWVyeX0gaXRlbXNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuaW5zdGFudD1mYWxzZV1cclxuICAgICAqIEBwYXJhbSB7SGlkZUNhbGxiYWNrfSBbb3B0aW9ucy5vbkZpbmlzaF1cclxuICAgICAqIEBwYXJhbSB7KEJvb2xlYW58TGF5b3V0Q2FsbGJhY2t8U3RyaW5nKX0gW29wdGlvbnMubGF5b3V0PXRydWVdXHJcbiAgICAgKiBAcmV0dXJucyB7R3JpZH1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdoaWRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZShpdGVtcywgb3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMuX2lzRGVzdHJveWVkKSByZXR1cm4gdGhpcztcbiAgICAgIHRoaXMuX3NldEl0ZW1zVmlzaWJpbGl0eShpdGVtcywgZmFsc2UsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBGaWx0ZXIgaXRlbXMuIEV4cGVjdHMgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LCBhIHByZWRpY2F0ZSwgd2hpY2ggc2hvdWxkIGJlXHJcbiAgICAgKiBlaXRoZXIgYSBmdW5jdGlvbiBvciBhIHN0cmluZy4gVGhlIHByZWRpY2F0ZSBjYWxsYmFjayBpcyBleGVjdXRlZCBmb3IgZXZlcnlcclxuICAgICAqIGl0ZW0gaW4gdGhlIGluc3RhbmNlLiBJZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBwcmVkaWNhdGUgaXMgdHJ1dGh5IHRoZVxyXG4gICAgICogaXRlbSBpbiBxdWVzdGlvbiB3aWxsIGJlIHNob3duIGFuZCBvdGhlcndpc2UgaGlkZGVuLiBUaGUgcHJlZGljYXRlIGNhbGxiYWNrXHJcbiAgICAgKiByZWNlaXZlcyB0aGUgaXRlbSBpbnN0YW5jZSBhcyBpdCdzIGFyZ3VtZW50LiBJZiB0aGUgcHJlZGljYXRlIGlzIGEgc3RyaW5nXHJcbiAgICAgKiBpdCBpcyBjb25zaWRlcmVkIHRvIGJlIGEgc2VsZWN0b3IgYW5kIGl0IGlzIGNoZWNrZWQgYWdhaW5zdCBldmVyeSBpdGVtXHJcbiAgICAgKiBlbGVtZW50IGluIHRoZSBpbnN0YW5jZSB3aXRoIHRoZSBuYXRpdmUgZWxlbWVudC5tYXRjaGVzKCkgbWV0aG9kLiBBbGwgdGhlXHJcbiAgICAgKiBtYXRjaGluZyBpdGVtcyB3aWxsIGJlIHNob3duIGFuZCBvdGhlcnMgaGlkZGVuLlxyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBHcmlkLnByb3RvdHlwZVxyXG4gICAgICogQHBhcmFtIHsoRnVuY3Rpb258U3RyaW5nKX0gcHJlZGljYXRlXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmluc3RhbnQ9ZmFsc2VdXHJcbiAgICAgKiBAcGFyYW0ge0ZpbHRlckNhbGxiYWNrfSBbb3B0aW9ucy5vbkZpbmlzaF1cclxuICAgICAqIEBwYXJhbSB7KEJvb2xlYW58TGF5b3V0Q2FsbGJhY2t8U3RyaW5nKX0gW29wdGlvbnMubGF5b3V0PXRydWVdXHJcbiAgICAgKiBAcmV0dXJucyB7R3JpZH1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdmaWx0ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmaWx0ZXIocHJlZGljYXRlLCBvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQgfHwgIXRoaXMuX2l0ZW1zLmxlbmd0aCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHZhciBpdGVtc1RvU2hvdyA9IFtdO1xuICAgICAgdmFyIGl0ZW1zVG9IaWRlID0gW107XG4gICAgICB2YXIgaXNQcmVkaWNhdGVTdHJpbmcgPSB0eXBlb2YgcHJlZGljYXRlID09PSAnc3RyaW5nJztcbiAgICAgIHZhciBpc1ByZWRpY2F0ZUZuID0gdHlwZW9mIHByZWRpY2F0ZSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgIHZhciBvcHRzID0gb3B0aW9ucyB8fCAwO1xuICAgICAgdmFyIGlzSW5zdGFudCA9IG9wdHMuaW5zdGFudCA9PT0gdHJ1ZTtcbiAgICAgIHZhciBsYXlvdXQgPSBvcHRzLmxheW91dCA/IG9wdHMubGF5b3V0IDogb3B0cy5sYXlvdXQgPT09IHVuZGVmaW5lZDtcbiAgICAgIHZhciBvbkZpbmlzaCA9IHR5cGVvZiBvcHRzLm9uRmluaXNoID09PSAnZnVuY3Rpb24nID8gb3B0cy5vbkZpbmlzaCA6IG51bGw7XG4gICAgICB2YXIgdHJ5RmluaXNoQ291bnRlciA9IC0xO1xuICAgICAgdmFyIHRyeUZpbmlzaCA9IG5vb3A7XG4gICAgICB2YXIgaXRlbSA9IHZvaWQgMDtcbiAgICAgIHZhciBpID0gdm9pZCAwO1xuXG4gICAgICAvLyBJZiB3ZSBoYXZlIG9uRmluaXNoIGNhbGxiYWNrLCBsZXQncyBjcmVhdGUgcHJvcGVyIHRyeUZpbmlzaCBjYWxsYmFjay5cbiAgICAgIGlmIChvbkZpbmlzaCkge1xuICAgICAgICB0cnlGaW5pc2ggPSBmdW5jdGlvbiB0cnlGaW5pc2goKSB7XG4gICAgICAgICAgKyt0cnlGaW5pc2hDb3VudGVyICYmIG9uRmluaXNoKGl0ZW1zVG9TaG93LnNsaWNlKDApLCBpdGVtc1RvSGlkZS5zbGljZSgwKSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIC8vIENoZWNrIHdoaWNoIGl0ZW1zIG5lZWQgdG8gYmUgc2hvd24gYW5kIHdoaWNoIGhpZGRlbi5cbiAgICAgIGlmIChpc1ByZWRpY2F0ZUZuIHx8IGlzUHJlZGljYXRlU3RyaW5nKSB7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGl0ZW0gPSB0aGlzLl9pdGVtc1tpXTtcbiAgICAgICAgICBpZiAoaXNQcmVkaWNhdGVGbiA/IHByZWRpY2F0ZShpdGVtKSA6IGVsZW1lbnRNYXRjaGVzKGl0ZW0uX2VsZW1lbnQsIHByZWRpY2F0ZSkpIHtcbiAgICAgICAgICAgIGl0ZW1zVG9TaG93LnB1c2goaXRlbSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW1zVG9IaWRlLnB1c2goaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3cgaXRlbXMgdGhhdCBuZWVkIHRvIGJlIHNob3duLlxuICAgICAgaWYgKGl0ZW1zVG9TaG93Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLnNob3coaXRlbXNUb1Nob3csIHtcbiAgICAgICAgICBpbnN0YW50OiBpc0luc3RhbnQsXG4gICAgICAgICAgb25GaW5pc2g6IHRyeUZpbmlzaCxcbiAgICAgICAgICBsYXlvdXQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5RmluaXNoKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEhpZGUgaXRlbXMgdGhhdCBuZWVkIHRvIGJlIGhpZGRlbi5cbiAgICAgIGlmIChpdGVtc1RvSGlkZS5sZW5ndGgpIHtcbiAgICAgICAgdGhpcy5oaWRlKGl0ZW1zVG9IaWRlLCB7XG4gICAgICAgICAgaW5zdGFudDogaXNJbnN0YW50LFxuICAgICAgICAgIG9uRmluaXNoOiB0cnlGaW5pc2gsXG4gICAgICAgICAgbGF5b3V0OiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeUZpbmlzaCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgYW55IGl0ZW1zIHRvIGZpbHRlci5cbiAgICAgIGlmIChpdGVtc1RvU2hvdy5sZW5ndGggfHwgaXRlbXNUb0hpZGUubGVuZ3RoKSB7XG4gICAgICAgIC8vIEVtaXQgZmlsdGVyIGV2ZW50LlxuICAgICAgICBpZiAodGhpcy5faGFzTGlzdGVuZXJzKGV2ZW50RmlsdGVyKSkge1xuICAgICAgICAgIHRoaXMuX2VtaXQoZXZlbnRGaWx0ZXIsIGl0ZW1zVG9TaG93LnNsaWNlKDApLCBpdGVtc1RvSGlkZS5zbGljZSgwKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBsYXlvdXQgaXMgbmVlZGVkLlxuICAgICAgICBpZiAobGF5b3V0KSB7XG4gICAgICAgICAgdGhpcy5sYXlvdXQobGF5b3V0ID09PSAnaW5zdGFudCcsIHR5cGVvZiBsYXlvdXQgPT09ICdmdW5jdGlvbicgPyBsYXlvdXQgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogTW92ZSBpdGVtIHRvIGFub3RoZXIgaW5kZXggb3IgaW4gcGxhY2Ugb2YgYW5vdGhlciBpdGVtLlxyXG4gICAgICpcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBtZW1iZXJvZiBHcmlkLnByb3RvdHlwZVxyXG4gICAgICogQHBhcmFtIHtHcmlkU2luZ2xlSXRlbVF1ZXJ5fSBpdGVtXHJcbiAgICAgKiBAcGFyYW0ge0dyaWRTaW5nbGVJdGVtUXVlcnl9IHBvc2l0aW9uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMuYWN0aW9uPVwibW92ZVwiXVxyXG4gICAgICogICAtIEFjY2VwdHMgZWl0aGVyIFwibW92ZVwiIG9yIFwic3dhcFwiLlxyXG4gICAgICogICAtIFwibW92ZVwiIG1vdmVzIHRoZSBpdGVtIGluIHBsYWNlIG9mIHRoZSBvdGhlciBpdGVtLlxyXG4gICAgICogICAtIFwic3dhcFwiIHN3YXBzIHRoZSBwb3NpdGlvbiBvZiB0aGUgaXRlbXMuXHJcbiAgICAgKiBAcGFyYW0geyhCb29sZWFufExheW91dENhbGxiYWNrfFN0cmluZyl9IFtvcHRpb25zLmxheW91dD10cnVlXVxyXG4gICAgICogQHJldHVybnMge0dyaWR9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbW92ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1vdmUoaXRlbSwgcG9zaXRpb24sIG9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCB8fCB0aGlzLl9pdGVtcy5sZW5ndGggPCAyKSByZXR1cm4gdGhpcztcblxuICAgICAgdmFyIGl0ZW1zID0gdGhpcy5faXRlbXM7XG4gICAgICB2YXIgb3B0cyA9IG9wdGlvbnMgfHwgMDtcbiAgICAgIHZhciBsYXlvdXQgPSBvcHRzLmxheW91dCA/IG9wdHMubGF5b3V0IDogb3B0cy5sYXlvdXQgPT09IHVuZGVmaW5lZDtcbiAgICAgIHZhciBpc1N3YXAgPSBvcHRzLmFjdGlvbiA9PT0gJ3N3YXAnO1xuICAgICAgdmFyIGFjdGlvbiA9IGlzU3dhcCA/ICdzd2FwJyA6ICdtb3ZlJztcbiAgICAgIHZhciBmcm9tSXRlbSA9IHRoaXMuX2dldEl0ZW0oaXRlbSk7XG4gICAgICB2YXIgdG9JdGVtID0gdGhpcy5fZ2V0SXRlbShwb3NpdGlvbik7XG4gICAgICB2YXIgZnJvbUluZGV4ID0gdm9pZCAwO1xuICAgICAgdmFyIHRvSW5kZXggPSB2b2lkIDA7XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgaXRlbXMgZXhpc3QgYW5kIGFyZSBub3QgdGhlIHNhbWUuXG4gICAgICBpZiAoZnJvbUl0ZW0gJiYgdG9JdGVtICYmIGZyb21JdGVtICE9PSB0b0l0ZW0pIHtcbiAgICAgICAgLy8gR2V0IHRoZSBpbmRpY2VzIG9mIHRoZSBpdGVtcy5cbiAgICAgICAgZnJvbUluZGV4ID0gaXRlbXMuaW5kZXhPZihmcm9tSXRlbSk7XG4gICAgICAgIHRvSW5kZXggPSBpdGVtcy5pbmRleE9mKHRvSXRlbSk7XG5cbiAgICAgICAgLy8gRG8gdGhlIG1vdmUvc3dhcC5cbiAgICAgICAgaWYgKGlzU3dhcCkge1xuICAgICAgICAgIGFycmF5U3dhcChpdGVtcywgZnJvbUluZGV4LCB0b0luZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcnJheU1vdmUoaXRlbXMsIGZyb21JbmRleCwgdG9JbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbWl0IG1vdmUgZXZlbnQuXG4gICAgICAgIGlmICh0aGlzLl9oYXNMaXN0ZW5lcnMoZXZlbnRNb3ZlKSkge1xuICAgICAgICAgIHRoaXMuX2VtaXQoZXZlbnRNb3ZlLCB7XG4gICAgICAgICAgICBpdGVtOiBmcm9tSXRlbSxcbiAgICAgICAgICAgIGZyb21JbmRleDogZnJvbUluZGV4LFxuICAgICAgICAgICAgdG9JbmRleDogdG9JbmRleCxcbiAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBsYXlvdXQgaXMgbmVlZGVkLlxuICAgICAgICBpZiAobGF5b3V0KSB7XG4gICAgICAgICAgdGhpcy5sYXlvdXQobGF5b3V0ID09PSAnaW5zdGFudCcsIHR5cGVvZiBsYXlvdXQgPT09ICdmdW5jdGlvbicgPyBsYXlvdXQgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogU2VuZCBpdGVtIHRvIGFub3RoZXIgR3JpZCBpbnN0YW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAbWVtYmVyb2YgR3JpZC5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7R3JpZFNpbmdsZUl0ZW1RdWVyeX0gaXRlbVxyXG4gICAgICogQHBhcmFtIHtHcmlkfSBncmlkXHJcbiAgICAgKiBAcGFyYW0ge0dyaWRTaW5nbGVJdGVtUXVlcnl9IHBvc2l0aW9uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbb3B0aW9ucy5hcHBlbmRUbz1kb2N1bWVudC5ib2R5XVxyXG4gICAgICogQHBhcmFtIHsoQm9vbGVhbnxMYXlvdXRDYWxsYmFja3xTdHJpbmcpfSBbb3B0aW9ucy5sYXlvdXRTZW5kZXI9dHJ1ZV1cclxuICAgICAqIEBwYXJhbSB7KEJvb2xlYW58TGF5b3V0Q2FsbGJhY2t8U3RyaW5nKX0gW29wdGlvbnMubGF5b3V0UmVjZWl2ZXI9dHJ1ZV1cclxuICAgICAqIEByZXR1cm5zIHtHcmlkfVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3NlbmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kKGl0ZW0sIGdyaWQsIHBvc2l0aW9uLCBvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQgfHwgZ3JpZC5faXNEZXN0cm95ZWQgfHwgdGhpcyA9PT0gZ3JpZCkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgdmFsaWQgdGFyZ2V0IGl0ZW0uXG4gICAgICBpdGVtID0gdGhpcy5fZ2V0SXRlbShpdGVtKTtcbiAgICAgIGlmICghaXRlbSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHZhciBvcHRzID0gb3B0aW9ucyB8fCAwO1xuICAgICAgdmFyIGNvbnRhaW5lciA9IG9wdHMuYXBwZW5kVG8gfHwgZG9jdW1lbnQuYm9keTtcbiAgICAgIHZhciBsYXlvdXRTZW5kZXIgPSBvcHRzLmxheW91dFNlbmRlciA/IG9wdHMubGF5b3V0U2VuZGVyIDogb3B0cy5sYXlvdXRTZW5kZXIgPT09IHVuZGVmaW5lZDtcbiAgICAgIHZhciBsYXlvdXRSZWNlaXZlciA9IG9wdHMubGF5b3V0UmVjZWl2ZXIgPyBvcHRzLmxheW91dFJlY2VpdmVyIDogb3B0cy5sYXlvdXRSZWNlaXZlciA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICAvLyBTdGFydCB0aGUgbWlncmF0aW9uIHByb2Nlc3MuXG4gICAgICBpdGVtLl9taWdyYXRlLnN0YXJ0KGdyaWQsIHBvc2l0aW9uLCBjb250YWluZXIpO1xuXG4gICAgICAvLyBJZiBtaWdyYXRpb24gd2FzIHN0YXJ0ZWQgc3VjY2Vzc2Z1bGx5IGFuZCB0aGUgaXRlbSBpcyBhY3RpdmUsIGxldCdzIGxheW91dFxuICAgICAgLy8gdGhlIGdyaWRzLlxuICAgICAgaWYgKGl0ZW0uX21pZ3JhdGUuX2lzQWN0aXZlICYmIGl0ZW0uX2lzQWN0aXZlKSB7XG4gICAgICAgIGlmIChsYXlvdXRTZW5kZXIpIHtcbiAgICAgICAgICB0aGlzLmxheW91dChsYXlvdXRTZW5kZXIgPT09ICdpbnN0YW50JywgdHlwZW9mIGxheW91dFNlbmRlciA9PT0gJ2Z1bmN0aW9uJyA/IGxheW91dFNlbmRlciA6IHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxheW91dFJlY2VpdmVyKSB7XG4gICAgICAgICAgZ3JpZC5sYXlvdXQobGF5b3V0UmVjZWl2ZXIgPT09ICdpbnN0YW50JywgdHlwZW9mIGxheW91dFJlY2VpdmVyID09PSAnZnVuY3Rpb24nID8gbGF5b3V0UmVjZWl2ZXIgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveSB0aGUgaW5zdGFuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQG1lbWJlcm9mIEdyaWQucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZW1vdmVFbGVtZW50cz1mYWxzZV1cclxuICAgICAqIEByZXR1cm5zIHtHcmlkfVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KHJlbW92ZUVsZW1lbnRzKSB7XG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybiB0aGlzO1xuXG4gICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5fZWxlbWVudDtcbiAgICAgIHZhciBpdGVtcyA9IHRoaXMuX2l0ZW1zLnNsaWNlKDApO1xuICAgICAgdmFyIGkgPSB2b2lkIDA7XG5cbiAgICAgIC8vIFVuYmluZCB3aW5kb3cgcmVzaXplIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgaWYgKHRoaXMuX3Jlc2l6ZUhhbmRsZXIpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuX3Jlc2l6ZUhhbmRsZXIpO1xuICAgICAgfVxuXG4gICAgICAvLyBEZXN0cm95IGl0ZW1zLlxuICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZW1zW2ldLl9kZXN0cm95KHJlbW92ZUVsZW1lbnRzKTtcbiAgICAgIH1cblxuICAgICAgLy8gUmVzdG9yZSBjb250YWluZXIuXG4gICAgICByZW1vdmVDbGFzcyhjb250YWluZXIsIHRoaXMuX3NldHRpbmdzLmNvbnRhaW5lckNsYXNzKTtcbiAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9ICcnO1xuXG4gICAgICAvLyBFbWl0IGRlc3Ryb3kgZXZlbnQgYW5kIHVuYmluZCBhbGwgZXZlbnRzLlxuICAgICAgdGhpcy5fZW1pdChldmVudERlc3Ryb3kpO1xuICAgICAgdGhpcy5fZW1pdHRlci5kZXN0cm95KCk7XG5cbiAgICAgIC8vIFJlbW92ZSByZWZlcmVuY2UgZnJvbSB0aGUgZ3JpZCBpbnN0YW5jZXMgY29sbGVjdGlvbi5cbiAgICAgIGdyaWRJbnN0YW5jZXNbdGhpcy5faWRdID0gdW5kZWZpbmVkO1xuXG4gICAgICAvLyBGbGFnIGluc3RhbmNlIGFzIGRlc3Ryb3llZC5cbiAgICAgIHRoaXMuX2lzRGVzdHJveWVkID0gdHJ1ZTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBQcml2YXRlIHByb3RvdHlwZSBtZXRob2RzXHJcbiAgICAgKiAqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICAgKi9cblxuICAgIC8qKlxyXG4gICAgICogR2V0IGluc3RhbmNlJ3MgaXRlbSBieSBlbGVtZW50IG9yIGJ5IGluZGV4LiBUYXJnZXQgY2FuIGFsc28gYmUgYW4gSXRlbVxyXG4gICAgICogaW5zdGFuY2UgaW4gd2hpY2ggY2FzZSB0aGUgZnVuY3Rpb24gcmV0dXJucyB0aGUgaXRlbSBpZiBpdCBleGlzdHMgd2l0aGluXHJcbiAgICAgKiByZWxhdGVkIEdyaWQgaW5zdGFuY2UuIElmIG5vdGhpbmcgaXMgZm91bmQgd2l0aCB0aGUgcHJvdmlkZWQgdGFyZ2V0LCBudWxsXHJcbiAgICAgKiBpcyByZXR1cm5lZC5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEdyaWQucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge0dyaWRTaW5nbGVJdGVtUXVlcnl9IFt0YXJnZXRdXHJcbiAgICAgKiBAcmV0dXJucyB7P0l0ZW19XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2dldEl0ZW0nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0SXRlbSh0YXJnZXQpIHtcbiAgICAgIC8vIElmIG5vIHRhcmdldCBpcyBzcGVjaWZpZWQgb3IgdGhlIGluc3RhbmNlIGlzIGRlc3Ryb3llZCwgcmV0dXJuIG51bGwuXG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQgfHwgIXRhcmdldCAmJiB0YXJnZXQgIT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRhcmdldCBpcyBudW1iZXIgcmV0dXJuIHRoZSBpdGVtIGluIHRoYXQgaW5kZXguIElmIHRoZSBudW1iZXIgaXMgbG93ZXJcbiAgICAgIC8vIHRoYW4gemVybyBsb29rIGZvciB0aGUgaXRlbSBzdGFydGluZyBmcm9tIHRoZSBlbmQgb2YgdGhlIGl0ZW1zIGFycmF5LiBGb3JcbiAgICAgIC8vIGV4YW1wbGUgLTEgZm9yIHRoZSBsYXN0IGl0ZW0sIC0yIGZvciB0aGUgc2Vjb25kIGxhc3QgaXRlbSwgZXRjLlxuICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVtc1t0YXJnZXQgPiAtMSA/IHRhcmdldCA6IHRoaXMuX2l0ZW1zLmxlbmd0aCArIHRhcmdldF0gfHwgbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlIHRhcmdldCBpcyBhbiBpbnN0YW5jZSBvZiBJdGVtIHJldHVybiBpdCBpZiBpdCBpcyBhdHRhY2hlZCB0byB0aGlzXG4gICAgICAvLyBHcmlkIGluc3RhbmNlLCBvdGhlcndpc2UgcmV0dXJuIG51bGwuXG4gICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSXRlbSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0Ll9ncmlkSWQgPT09IHRoaXMuX2lkID8gdGFyZ2V0IDogbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gSW4gb3RoZXIgY2FzZXMgbGV0J3MgYXNzdW1lIHRoYXQgdGhlIHRhcmdldCBpcyBhbiBlbGVtZW50LCBzbyBsZXQncyB0cnlcbiAgICAgIC8vIHRvIGZpbmQgYW4gaXRlbSB0aGF0IG1hdGNoZXMgdGhlIGVsZW1lbnQgYW5kIHJldHVybiBpdC4gSWYgaXRlbSBpcyBub3RcbiAgICAgIC8vIGZvdW5kIHJldHVybiBudWxsLlxuICAgICAgLyoqIEB0b2RvIFRoaXMgY291bGQgYmUgbWFkZSBhIGxvdCBmYXN0ZXIgYnkgdXNpbmcgTWFwL1dlYWtNYXAgb2YgZWxlbWVudHMuICovXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLl9pdGVtc1tpXS5fZWxlbWVudCA9PT0gdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zW2ldO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogUmVjYWxjdWxhdGVzIGFuZCB1cGRhdGVzIGluc3RhbmNlJ3MgbGF5b3V0IGRhdGEuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBHcmlkLnByb3RvdHlwZVxyXG4gICAgICogQHJldHVybnMge0xheW91dERhdGF9XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX3VwZGF0ZUxheW91dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVMYXlvdXQoKSB7XG4gICAgICB2YXIgbGF5b3V0ID0gdGhpcy5fbGF5b3V0O1xuICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5fc2V0dGluZ3MubGF5b3V0O1xuICAgICAgdmFyIHdpZHRoID0gdm9pZCAwO1xuICAgICAgdmFyIGhlaWdodCA9IHZvaWQgMDtcbiAgICAgIHZhciBuZXdMYXlvdXQgPSB2b2lkIDA7XG4gICAgICB2YXIgaSA9IHZvaWQgMDtcblxuICAgICAgLy8gTGV0J3MgaW5jcmVtZW50IGxheW91dCBpZC5cbiAgICAgICsrbGF5b3V0LmlkO1xuXG4gICAgICAvLyBMZXQncyB1cGRhdGUgbGF5b3V0IGl0ZW1zXG4gICAgICBsYXlvdXQuaXRlbXMubGVuZ3RoID0gMDtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLl9pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAodGhpcy5faXRlbXNbaV0uX2lzQWN0aXZlKSBsYXlvdXQuaXRlbXMucHVzaCh0aGlzLl9pdGVtc1tpXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIExldCdzIG1ha2Ugc3VyZSB3ZSBoYXZlIHRoZSBjb3JyZWN0IGNvbnRhaW5lciBkaW1lbnNpb25zLlxuICAgICAgdGhpcy5fcmVmcmVzaERpbWVuc2lvbnMoKTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIGNvbnRhaW5lciB3aWR0aCBhbmQgaGVpZ2h0ICh3aXRob3V0IGJvcmRlcnMpLlxuICAgICAgd2lkdGggPSB0aGlzLl93aWR0aCAtIHRoaXMuX2JvcmRlckxlZnQgLSB0aGlzLl9ib3JkZXJSaWdodDtcbiAgICAgIGhlaWdodCA9IHRoaXMuX2hlaWdodCAtIHRoaXMuX2JvcmRlclRvcCAtIHRoaXMuX2JvcmRlckJvdHRvbTtcblxuICAgICAgLy8gQ2FsY3VsYXRlIG5ldyBsYXlvdXQuXG4gICAgICBpZiAodHlwZW9mIHNldHRpbmdzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG5ld0xheW91dCA9IHNldHRpbmdzKGxheW91dC5pdGVtcywgd2lkdGgsIGhlaWdodCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdMYXlvdXQgPSBwYWNrZXIuZ2V0TGF5b3V0KGxheW91dC5pdGVtcywgd2lkdGgsIGhlaWdodCwgbGF5b3V0LnNsb3RzLCBzZXR0aW5ncyk7XG4gICAgICB9XG5cbiAgICAgIC8vIExldCdzIHVwZGF0ZSB0aGUgZ3JpZCdzIGxheW91dC5cbiAgICAgIGxheW91dC5zbG90cyA9IG5ld0xheW91dC5zbG90cztcbiAgICAgIGxheW91dC5zZXRXaWR0aCA9IEJvb2xlYW4obmV3TGF5b3V0LnNldFdpZHRoKTtcbiAgICAgIGxheW91dC5zZXRIZWlnaHQgPSBCb29sZWFuKG5ld0xheW91dC5zZXRIZWlnaHQpO1xuICAgICAgbGF5b3V0LndpZHRoID0gbmV3TGF5b3V0LndpZHRoO1xuICAgICAgbGF5b3V0LmhlaWdodCA9IG5ld0xheW91dC5oZWlnaHQ7XG5cbiAgICAgIHJldHVybiBsYXlvdXQ7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBFbWl0IGEgZ3JpZCBldmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEdyaWQucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcclxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ11cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfZW1pdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9lbWl0KCkge1xuICAgICAgdmFyIF9lbWl0dGVyO1xuXG4gICAgICBpZiAodGhpcy5faXNEZXN0cm95ZWQpIHJldHVybjtcbiAgICAgIChfZW1pdHRlciA9IHRoaXMuX2VtaXR0ZXIpLmVtaXQuYXBwbHkoX2VtaXR0ZXIsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiB0aGVyZSBhcmUgYW55IGV2ZW50cyBsaXN0ZW5lcnMgZm9yIGFuIGV2ZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgR3JpZC5wcm90b3R5cGVcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnX2hhc0xpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9oYXNMaXN0ZW5lcnMoZXZlbnQpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9lbWl0dGVyLl9ldmVudHNbZXZlbnRdO1xuICAgICAgcmV0dXJuICEhKGxpc3RlbmVycyAmJiBsaXN0ZW5lcnMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBjb250YWluZXIncyB3aWR0aCwgaGVpZ2h0IGFuZCBvZmZzZXRzLlxyXG4gICAgICpcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKiBAbWVtYmVyb2YgR3JpZC5wcm90b3R5cGVcclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfdXBkYXRlQm91bmRpbmdSZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUJvdW5kaW5nUmVjdCgpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5fZWxlbWVudDtcbiAgICAgIHZhciByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHRoaXMuX3dpZHRoID0gcmVjdC53aWR0aDtcbiAgICAgIHRoaXMuX2hlaWdodCA9IHJlY3QuaGVpZ2h0O1xuICAgICAgdGhpcy5fbGVmdCA9IHJlY3QubGVmdDtcbiAgICAgIHRoaXMuX3RvcCA9IHJlY3QudG9wO1xuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlIGNvbnRhaW5lcidzIGJvcmRlciBzaXplcy5cclxuICAgICAqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQG1lbWJlcm9mIEdyaWQucHJvdG90eXBlXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGxlZnRcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmlnaHRcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdG9wXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGJvdHRvbVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ191cGRhdGVCb3JkZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3VwZGF0ZUJvcmRlcnMobGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG4gICAgICBpZiAobGVmdCkgdGhpcy5fYm9yZGVyTGVmdCA9IGdldFN0eWxlQXNGbG9hdChlbGVtZW50LCAnYm9yZGVyLWxlZnQtd2lkdGgnKTtcbiAgICAgIGlmIChyaWdodCkgdGhpcy5fYm9yZGVyUmlnaHQgPSBnZXRTdHlsZUFzRmxvYXQoZWxlbWVudCwgJ2JvcmRlci1yaWdodC13aWR0aCcpO1xuICAgICAgaWYgKHRvcCkgdGhpcy5fYm9yZGVyVG9wID0gZ2V0U3R5bGVBc0Zsb2F0KGVsZW1lbnQsICdib3JkZXItdG9wLXdpZHRoJyk7XG4gICAgICBpZiAoYm90dG9tKSB0aGlzLl9ib3JkZXJCb3R0b20gPSBnZXRTdHlsZUFzRmxvYXQoZWxlbWVudCwgJ2JvcmRlci1ib3R0b20td2lkdGgnKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFJlZnJlc2ggYWxsIG9mIGNvbnRhaW5lcidzIGludGVybmFsIGRpbWVuc2lvbnMgYW5kIG9mZnNldHMuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBHcmlkLnByb3RvdHlwZVxyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ19yZWZyZXNoRGltZW5zaW9ucycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9yZWZyZXNoRGltZW5zaW9ucygpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUJvdW5kaW5nUmVjdCgpO1xuICAgICAgdGhpcy5fdXBkYXRlQm9yZGVycygxLCAxLCAxLCAxKTtcbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIFNob3cgb3IgaGlkZSBHcmlkIGluc3RhbmNlJ3MgaXRlbXMuXHJcbiAgICAgKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIEBtZW1iZXJvZiBHcmlkLnByb3RvdHlwZVxyXG4gICAgICogQHBhcmFtIHtHcmlkTXVsdGlJdGVtUXVlcnl9IGl0ZW1zXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHRvVmlzaWJsZVxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5pbnN0YW50PWZhbHNlXVxyXG4gICAgICogQHBhcmFtIHsoU2hvd0NhbGxiYWNrfEhpZGVDYWxsYmFjayl9IFtvcHRpb25zLm9uRmluaXNoXVxyXG4gICAgICogQHBhcmFtIHsoQm9vbGVhbnxMYXlvdXRDYWxsYmFja3xTdHJpbmcpfSBbb3B0aW9ucy5sYXlvdXQ9dHJ1ZV1cclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdfc2V0SXRlbXNWaXNpYmlsaXR5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NldEl0ZW1zVmlzaWJpbGl0eShpdGVtcywgdG9WaXNpYmxlLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZ3JpZCA9IHRoaXM7XG4gICAgICB2YXIgdGFyZ2V0SXRlbXMgPSB0aGlzLmdldEl0ZW1zKGl0ZW1zKTtcbiAgICAgIHZhciBvcHRzID0gb3B0aW9ucyB8fCAwO1xuICAgICAgdmFyIGlzSW5zdGFudCA9IG9wdHMuaW5zdGFudCA9PT0gdHJ1ZTtcbiAgICAgIHZhciBjYWxsYmFjayA9IG9wdHMub25GaW5pc2g7XG4gICAgICB2YXIgbGF5b3V0ID0gb3B0cy5sYXlvdXQgPyBvcHRzLmxheW91dCA6IG9wdHMubGF5b3V0ID09PSB1bmRlZmluZWQ7XG4gICAgICB2YXIgY291bnRlciA9IHRhcmdldEl0ZW1zLmxlbmd0aDtcbiAgICAgIHZhciBzdGFydEV2ZW50ID0gdG9WaXNpYmxlID8gZXZlbnRTaG93U3RhcnQgOiBldmVudEhpZGVTdGFydDtcbiAgICAgIHZhciBlbmRFdmVudCA9IHRvVmlzaWJsZSA/IGV2ZW50U2hvd0VuZCA6IGV2ZW50SGlkZUVuZDtcbiAgICAgIHZhciBtZXRob2QgPSB0b1Zpc2libGUgPyAnc2hvdycgOiAnaGlkZSc7XG4gICAgICB2YXIgbmVlZHNMYXlvdXQgPSBmYWxzZTtcbiAgICAgIHZhciBjb21wbGV0ZWRJdGVtcyA9IFtdO1xuICAgICAgdmFyIGhpZGRlbkl0ZW1zID0gW107XG4gICAgICB2YXIgaXRlbSA9IHZvaWQgMDtcbiAgICAgIHZhciBpID0gdm9pZCAwO1xuXG4gICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gaXRlbXMgY2FsbCB0aGUgY2FsbGJhY2ssIGJ1dCBkb24ndCBlbWl0IGFueSBldmVudHMuXG4gICAgICBpZiAoIWNvdW50ZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2sodGFyZ2V0SXRlbXMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEVtaXQgc2hvd1N0YXJ0L2hpZGVTdGFydCBldmVudC5cbiAgICAgIGlmICh0aGlzLl9oYXNMaXN0ZW5lcnMoc3RhcnRFdmVudCkpIHtcbiAgICAgICAgdGhpcy5fZW1pdChzdGFydEV2ZW50LCB0YXJnZXRJdGVtcy5zbGljZSgwKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFNob3cvaGlkZSBpdGVtcy5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0YXJnZXRJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVtID0gdGFyZ2V0SXRlbXNbaV07XG5cbiAgICAgICAgLy8gSWYgaW5hY3RpdmUgaXRlbSBpcyBzaG93biBvciBhY3RpdmUgaXRlbSBpcyBoaWRkZW4gd2UgbmVlZCB0byBkb1xuICAgICAgICAvLyBsYXlvdXQuXG4gICAgICAgIGlmICh0b1Zpc2libGUgJiYgIWl0ZW0uX2lzQWN0aXZlIHx8ICF0b1Zpc2libGUgJiYgaXRlbS5faXNBY3RpdmUpIHtcbiAgICAgICAgICBuZWVkc0xheW91dCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBpbmFjdGl2ZSBpdGVtIGlzIHNob3duIHdlIGFsc28gbmVlZCB0byBkbyBhIGxpdHRsZSBoYWNrIHRvIG1ha2UgdGhlXG4gICAgICAgIC8vIGl0ZW0gbm90IGFuaW1hdGUgaXQncyBuZXh0IHBvc2l0aW9uaW5nIChsYXlvdXQpLlxuICAgICAgICBpZiAodG9WaXNpYmxlICYmICFpdGVtLl9pc0FjdGl2ZSkge1xuICAgICAgICAgIGl0ZW0uX2xheW91dC5fc2tpcE5leHRBbmltYXRpb24gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgYSBoaWRkZW4gaXRlbSBpcyBiZWluZyBzaG93biB3ZSBuZWVkIHRvIHJlZnJlc2ggdGhlIGl0ZW0nc1xuICAgICAgICAvLyBkaW1lbnNpb25zLlxuICAgICAgICBpZiAodG9WaXNpYmxlICYmIGl0ZW0uX3Zpc2liaWxpdHkuX2lzSGlkZGVuKSB7XG4gICAgICAgICAgaGlkZGVuSXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNob3cvaGlkZSB0aGUgaXRlbS5cbiAgICAgICAgaXRlbS5fdmlzaWJpbGl0eVttZXRob2RdKGlzSW5zdGFudCwgZnVuY3Rpb24gKGludGVycnVwdGVkLCBpdGVtKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgaXRlbSdzIGFuaW1hdGlvbiB3YXMgbm90IGludGVycnVwdGVkIGFkZCBpdCB0byB0aGVcbiAgICAgICAgICAvLyBjb21wbGV0ZWRJdGVtcyBhcnJheS5cbiAgICAgICAgICBpZiAoIWludGVycnVwdGVkKSBjb21wbGV0ZWRJdGVtcy5wdXNoKGl0ZW0pO1xuXG4gICAgICAgICAgLy8gSWYgYWxsIGl0ZW1zIGhhdmUgZmluaXNoZWQgdGhlaXIgYW5pbWF0aW9ucyBjYWxsIHRoZSBjYWxsYmFja1xuICAgICAgICAgIC8vIGFuZCBlbWl0IHNob3dFbmQvaGlkZUVuZCBldmVudC5cbiAgICAgICAgICBpZiAoLS1jb3VudGVyIDwgMSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soY29tcGxldGVkSXRlbXMuc2xpY2UoMCkpO1xuICAgICAgICAgICAgaWYgKGdyaWQuX2hhc0xpc3RlbmVycyhlbmRFdmVudCkpIGdyaWQuX2VtaXQoZW5kRXZlbnQsIGNvbXBsZXRlZEl0ZW1zLnNsaWNlKDApKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWZyZXNoIGhpZGRlbiBpdGVtcy5cbiAgICAgIGlmIChoaWRkZW5JdGVtcy5sZW5ndGgpIHRoaXMucmVmcmVzaEl0ZW1zKGhpZGRlbkl0ZW1zKTtcblxuICAgICAgLy8gTGF5b3V0IGlmIG5lZWRlZC5cbiAgICAgIGlmIChuZWVkc0xheW91dCAmJiBsYXlvdXQpIHtcbiAgICAgICAgdGhpcy5sYXlvdXQobGF5b3V0ID09PSAnaW5zdGFudCcsIHR5cGVvZiBsYXlvdXQgPT09ICdmdW5jdGlvbicgPyBsYXlvdXQgOiB1bmRlZmluZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gR3JpZDtcbn0oQ29tcG9uZW50KTtcblxuLyoqXHJcbiAqIFB1YmxpYyBwcm9wZXJ0aWVzXHJcbiAqICoqKioqKioqKioqKioqKioqXHJcbiAqL1xuXG4vKipcclxuICogQHNlZSBJdGVtXHJcbiAqL1xuXG5cbkdyaWQuSXRlbSA9IEl0ZW07XG5cbi8qKlxyXG4gKiBAc2VlIEl0ZW1MYXlvdXRcclxuICovXG5HcmlkLkl0ZW1MYXlvdXQgPSBJdGVtTGF5b3V0O1xuXG4vKipcclxuICogQHNlZSBJdGVtVmlzaWJpbGl0eVxyXG4gKi9cbkdyaWQuSXRlbVZpc2liaWxpdHkgPSBJdGVtVmlzaWJpbGl0eTtcblxuLyoqXHJcbiAqIEBzZWUgSXRlbVJlbGVhc2VcclxuICovXG5HcmlkLkl0ZW1SZWxlYXNlID0gSXRlbVJlbGVhc2U7XG5cbi8qKlxyXG4gKiBAc2VlIEl0ZW1NaWdyYXRlXHJcbiAqL1xuR3JpZC5JdGVtTWlncmF0ZSA9IEl0ZW1NaWdyYXRlO1xuXG4vKipcclxuICogQHNlZSBJdGVtQW5pbWF0ZVxyXG4gKi9cbkdyaWQuSXRlbUFuaW1hdGUgPSBJdGVtQW5pbWF0ZTtcblxuLyoqXHJcbiAqIEBzZWUgSXRlbURyYWdcclxuICovXG5HcmlkLkl0ZW1EcmFnID0gSXRlbURyYWc7XG5cbi8qKlxyXG4gKiBAc2VlIEVtaXR0ZXJcclxuICovXG5HcmlkLkVtaXR0ZXIgPSBFbWl0dGVyO1xuXG4vKipcclxuICogRGVmYXVsdCBvcHRpb25zIGZvciBHcmlkIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqIEBtZW1iZXJvZiBHcmlkXHJcbiAqL1xuR3JpZC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLy8gSXRlbSBlbGVtZW50c1xuICBpdGVtczogJyonLFxuXG4gIC8vIERlZmF1bHQgc2hvdyBhbmltYXRpb25cbiAgc2hvd0R1cmF0aW9uOiAzMDAsXG4gIHNob3dFYXNpbmc6ICdlYXNlJyxcblxuICAvLyBEZWZhdWx0IGhpZGUgYW5pbWF0aW9uXG4gIGhpZGVEdXJhdGlvbjogMzAwLFxuICBoaWRlRWFzaW5nOiAnZWFzZScsXG5cbiAgLy8gSXRlbSdzIHZpc2libGUvaGlkZGVuIHN0YXRlIHN0eWxlc1xuICB2aXNpYmxlU3R5bGVzOiB7XG4gICAgb3BhY2l0eTogJzEnLFxuICAgIHRyYW5zZm9ybTogJ3NjYWxlKDEpJ1xuICB9LFxuICBoaWRkZW5TdHlsZXM6IHtcbiAgICBvcGFjaXR5OiAnMCcsXG4gICAgdHJhbnNmb3JtOiAnc2NhbGUoMC41KSdcbiAgfSxcblxuICAvLyBMYXlvdXRcbiAgbGF5b3V0OiB7XG4gICAgZmlsbEdhcHM6IGZhbHNlLFxuICAgIGhvcml6b250YWw6IGZhbHNlLFxuICAgIGFsaWduUmlnaHQ6IGZhbHNlLFxuICAgIGFsaWduQm90dG9tOiBmYWxzZSxcbiAgICByb3VuZGluZzogdHJ1ZVxuICB9LFxuICBsYXlvdXRPblJlc2l6ZTogMTAwLFxuICBsYXlvdXRPbkluaXQ6IHRydWUsXG4gIGxheW91dER1cmF0aW9uOiAzMDAsXG4gIGxheW91dEVhc2luZzogJ2Vhc2UnLFxuXG4gIC8vIFNvcnRpbmdcbiAgc29ydERhdGE6IG51bGwsXG5cbiAgLy8gRHJhZyAmIERyb3BcbiAgZHJhZ0VuYWJsZWQ6IGZhbHNlLFxuICBkcmFnQ29udGFpbmVyOiBudWxsLFxuICBkcmFnU3RhcnRQcmVkaWNhdGU6IHtcbiAgICBkaXN0YW5jZTogMCxcbiAgICBkZWxheTogMCxcbiAgICBoYW5kbGU6IGZhbHNlXG4gIH0sXG4gIGRyYWdBeGlzOiBudWxsLFxuICBkcmFnU29ydDogdHJ1ZSxcbiAgZHJhZ1NvcnRJbnRlcnZhbDogMTAwLFxuICBkcmFnU29ydFByZWRpY2F0ZToge1xuICAgIHRocmVzaG9sZDogNTAsXG4gICAgYWN0aW9uOiAnbW92ZSdcbiAgfSxcbiAgZHJhZ1JlbGVhc2VEdXJhdGlvbjogMzAwLFxuICBkcmFnUmVsZWFzZUVhc2luZzogJ2Vhc2UnLFxuICBkcmFnSGFtbWVyU2V0dGluZ3M6IHtcbiAgICB0b3VjaEFjdGlvbjogJ25vbmUnXG4gIH0sXG5cbiAgLy8gQ2xhc3NuYW1lc1xuICBjb250YWluZXJDbGFzczogJ211dXJpJyxcbiAgaXRlbUNsYXNzOiAnbXV1cmktaXRlbScsXG4gIGl0ZW1WaXNpYmxlQ2xhc3M6ICdtdXVyaS1pdGVtLXNob3duJyxcbiAgaXRlbUhpZGRlbkNsYXNzOiAnbXV1cmktaXRlbS1oaWRkZW4nLFxuICBpdGVtUG9zaXRpb25pbmdDbGFzczogJ211dXJpLWl0ZW0tcG9zaXRpb25pbmcnLFxuICBpdGVtRHJhZ2dpbmdDbGFzczogJ211dXJpLWl0ZW0tZHJhZ2dpbmcnLFxuICBpdGVtUmVsZWFzaW5nQ2xhc3M6ICdtdXVyaS1pdGVtLXJlbGVhc2luZydcbn07XG5cbi8qKlxyXG4gKiBTb3J0IGl0ZW1zLiBUaGVyZSBhcmUgdGhyZWUgd2F5cyB0byBzb3J0IHRoZSBpdGVtcy4gVGhlIGZpcnN0IGlzIHNpbXBseSBieVxyXG4gKiBwcm92aWRpbmcgYSBmdW5jdGlvbiBhcyB0aGUgY29tcGFyZXIgd2hpY2ggd29ya3MgaWRlbnRpY2FsbHkgdG8gbmF0aXZlXHJcbiAqIGFycmF5IHNvcnQuIEFsdGVybmF0aXZlbHkgeW91IGNhbiBzb3J0IGJ5IHRoZSBzb3J0IGRhdGEgeW91IGhhdmUgcHJvdmlkZWRcclxuICogaW4gdGhlIGluc3RhbmNlJ3Mgb3B0aW9ucy4gSnVzdCBwcm92aWRlIHRoZSBzb3J0IGRhdGEga2V5KHMpIGFzIGEgc3RyaW5nXHJcbiAqIChzZXBhcmF0ZWQgYnkgc3BhY2UpIGFuZCB0aGUgaXRlbXMgd2lsbCBiZSBzb3J0ZWQgYmFzZWQgb24gdGhlIHByb3ZpZGVkXHJcbiAqIHNvcnQgZGF0YSBrZXlzLiBMYXN0bHkgeW91IGhhdmUgdGhlIG9wcG9ydHVuaXR5IHRvIHByb3ZpZGUgYSBwcmVzb3J0ZWRcclxuICogYXJyYXkgb2YgaXRlbXMgd2hpY2ggd2lsbCBiZSB1c2VkIHRvIHN5bmMgdGhlIGludGVybmFsIGl0ZW1zIGFycmF5IGluIHRoZVxyXG4gKiBzYW1lIG9yZGVyLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqIEBtZW1iZXJvZiBHcmlkLnByb3RvdHlwZVxyXG4gKiBAcGFyYW0geyhGdW5jdGlvbnxJdGVtW118U3RyaW5nfFN0cmluZ1tdKX0gY29tcGFyZXJcclxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRlc2NlbmRpbmc9ZmFsc2VdXHJcbiAqIEBwYXJhbSB7KEJvb2xlYW58TGF5b3V0Q2FsbGJhY2t8U3RyaW5nKX0gW29wdGlvbnMubGF5b3V0PXRydWVdXHJcbiAqIEByZXR1cm5zIHtHcmlkfVxyXG4gKi9cbkdyaWQucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzb3J0Q29tcGFyZXIgPSB2b2lkIDA7XG4gIHZhciBpc0Rlc2NlbmRpbmcgPSB2b2lkIDA7XG4gIHZhciBvcmlnSXRlbXMgPSB2b2lkIDA7XG4gIHZhciBpbmRleE1hcCA9IHZvaWQgMDtcblxuICBmdW5jdGlvbiBwYXJzZUNyaXRlcmlhKGRhdGEpIHtcbiAgICByZXR1cm4gZGF0YS50cmltKCkuc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuIHZhbC5zcGxpdCgnOicpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGdldEluZGV4TWFwKGl0ZW1zKSB7XG4gICAgdmFyIHJldCA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJldFtpdGVtc1tpXS5faWRdID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICBmdW5jdGlvbiBjb21wYXJlSW5kaWNlcyhpdGVtQSwgaXRlbUIpIHtcbiAgICB2YXIgaW5kZXhBID0gaW5kZXhNYXBbaXRlbUEuX2lkXTtcbiAgICB2YXIgaW5kZXhCID0gaW5kZXhNYXBbaXRlbUIuX2lkXTtcbiAgICByZXR1cm4gaXNEZXNjZW5kaW5nID8gaW5kZXhCIC0gaW5kZXhBIDogaW5kZXhBIC0gaW5kZXhCO1xuICB9XG4gIGZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlcihhLCBiKSB7XG4gICAgdmFyIHJlc3VsdCA9IDA7XG4gICAgdmFyIGNyaXRlcmlhTmFtZSA9IHZvaWQgMDtcbiAgICB2YXIgY3JpdGVyaWFPcmRlciA9IHZvaWQgMDtcbiAgICB2YXIgdmFsQSA9IHZvaWQgMDtcbiAgICB2YXIgdmFsQiA9IHZvaWQgMDtcblxuICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgbGlzdCBvZiBzb3J0IGNyaXRlcmlhLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc29ydENvbXBhcmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBHZXQgdGhlIGNyaXRlcmlhIG5hbWUsIHdoaWNoIHNob3VsZCBtYXRjaCBhbiBpdGVtJ3Mgc29ydCBkYXRhIGtleS5cbiAgICAgIGNyaXRlcmlhTmFtZSA9IHNvcnRDb21wYXJlcltpXVswXTtcbiAgICAgIGNyaXRlcmlhT3JkZXIgPSBzb3J0Q29tcGFyZXJbaV1bMV07XG5cbiAgICAgIC8vIEdldCBpdGVtcycgY2FjaGVkIHNvcnQgdmFsdWVzIGZvciB0aGUgY3JpdGVyaWEuIElmIHRoZSBpdGVtIGhhcyBubyBzb3J0XG4gICAgICAvLyBkYXRhIGxldCdzIHVwZGF0ZSB0aGUgaXRlbXMgc29ydCBkYXRhICh0aGlzIGlzIGEgbGF6eSBsb2FkIG1lY2hhbmlzbSkuXG4gICAgICB2YWxBID0gKGEuX3NvcnREYXRhID8gYSA6IGEuX3JlZnJlc2hTb3J0RGF0YSgpKS5fc29ydERhdGFbY3JpdGVyaWFOYW1lXTtcbiAgICAgIHZhbEIgPSAoYi5fc29ydERhdGEgPyBiIDogYi5fcmVmcmVzaFNvcnREYXRhKCkpLl9zb3J0RGF0YVtjcml0ZXJpYU5hbWVdO1xuXG4gICAgICAvLyBTb3J0IHRoZSBpdGVtcyBpbiBkZXNjZW5kaW5nIG9yZGVyIGlmIGRlZmluZWQgc28gZXhwbGljaXRseS4gT3RoZXJ3aXNlXG4gICAgICAvLyBzb3J0IGl0ZW1zIGluIGFzY2VuZGluZyBvcmRlci5cbiAgICAgIGlmIChjcml0ZXJpYU9yZGVyID09PSAnZGVzYycgfHwgIWNyaXRlcmlhT3JkZXIgJiYgaXNEZXNjZW5kaW5nKSB7XG4gICAgICAgIHJlc3VsdCA9IHZhbEIgPCB2YWxBID8gLTEgOiB2YWxCID4gdmFsQSA/IDEgOiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdmFsQSA8IHZhbEIgPyAtMSA6IHZhbEEgPiB2YWxCID8gMSA6IDA7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlIGhhdmUgLTEgb3IgMSBhcyB0aGUgcmV0dXJuIHZhbHVlLCBsZXQncyByZXR1cm4gaXQgaW1tZWRpYXRlbHkuXG4gICAgICBpZiAocmVzdWx0KSByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIElmIHZhbHVlcyBhcmUgZXF1YWwgbGV0J3MgY29tcGFyZSB0aGUgaXRlbSBpbmRpY2VzIHRvIG1ha2Ugc3VyZSB3ZVxuICAgIC8vIGhhdmUgYSBzdGFibGUgc29ydC5cbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgaWYgKCFpbmRleE1hcCkgaW5kZXhNYXAgPSBnZXRJbmRleE1hcChvcmlnSXRlbXMpO1xuICAgICAgcmVzdWx0ID0gY29tcGFyZUluZGljZXMoYSwgYik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZnVuY3Rpb24gY3VzdG9tQ29tcGFyZXIoYSwgYikge1xuICAgIHZhciByZXN1bHQgPSBzb3J0Q29tcGFyZXIoYSwgYik7XG4gICAgLy8gSWYgZGVzY2VuZGluZyBsZXQncyBpbnZlcnQgdGhlIHJlc3VsdCB2YWx1ZS5cbiAgICBpZiAoaXNEZXNjZW5kaW5nICYmIHJlc3VsdCkgcmVzdWx0ID0gLXJlc3VsdDtcbiAgICAvLyBJZiB3ZSBoYXZlIGEgdmFsaWQgcmVzdWx0IChub3QgemVybykgbGV0J3MgcmV0dXJuIGl0IHJpZ2h0IGF3YXkuXG4gICAgaWYgKHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgICAvLyBJZiByZXN1bHQgaXMgemVybyBsZXQncyBjb21wYXJlIHRoZSBpdGVtIGluZGljZXMgdG8gbWFrZSBzdXJlIHdlIGhhdmUgYVxuICAgIC8vIHN0YWJsZSBzb3J0LlxuICAgIGlmICghaW5kZXhNYXApIGluZGV4TWFwID0gZ2V0SW5kZXhNYXAob3JpZ0l0ZW1zKTtcbiAgICByZXR1cm4gY29tcGFyZUluZGljZXMoYSwgYik7XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uIChjb21wYXJlciwgb3B0aW9ucykge1xuICAgIGlmICh0aGlzLl9pc0Rlc3Ryb3llZCB8fCB0aGlzLl9pdGVtcy5sZW5ndGggPCAyKSByZXR1cm4gdGhpcztcblxuICAgIHZhciBpdGVtcyA9IHRoaXMuX2l0ZW1zO1xuICAgIHZhciBvcHRzID0gb3B0aW9ucyB8fCAwO1xuICAgIHZhciBsYXlvdXQgPSBvcHRzLmxheW91dCA/IG9wdHMubGF5b3V0IDogb3B0cy5sYXlvdXQgPT09IHVuZGVmaW5lZDtcbiAgICB2YXIgaSA9IHZvaWQgMDtcblxuICAgIC8vIFNldHVwIHBhcmVudCBzY29wZSBkYXRhLlxuICAgIHNvcnRDb21wYXJlciA9IGNvbXBhcmVyO1xuICAgIGlzRGVzY2VuZGluZyA9ICEhb3B0cy5kZXNjZW5kaW5nO1xuICAgIG9yaWdJdGVtcyA9IGl0ZW1zLnNsaWNlKDApO1xuICAgIGluZGV4TWFwID0gbnVsbDtcblxuICAgIC8vIElmIGZ1bmN0aW9uIGlzIHByb3ZpZGVkIGRvIGEgbmF0aXZlIGFycmF5IHNvcnQuXG4gICAgaWYgKHR5cGVvZiBzb3J0Q29tcGFyZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGl0ZW1zLnNvcnQoY3VzdG9tQ29tcGFyZXIpO1xuICAgIH1cbiAgICAvLyBPdGhlcndpc2UgaWYgd2UgZ290IGEgc3RyaW5nLCBsZXQncyBzb3J0IGJ5IHRoZSBzb3J0IGRhdGEgYXMgcHJvdmlkZWQgaW5cbiAgICAvLyB0aGUgaW5zdGFuY2UncyBvcHRpb25zLlxuICAgIGVsc2UgaWYgKHR5cGVvZiBzb3J0Q29tcGFyZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNvcnRDb21wYXJlciA9IHBhcnNlQ3JpdGVyaWEoY29tcGFyZXIpO1xuICAgICAgICBpdGVtcy5zb3J0KGRlZmF1bHRDb21wYXJlcik7XG4gICAgICB9XG4gICAgICAvLyBPdGhlcndpc2UgaWYgd2UgZ290IGFuIGFycmF5LCBsZXQncyBhc3N1bWUgaXQncyBhIHByZXNvcnRlZCBhcnJheSBvZiB0aGVcbiAgICAgIC8vIGl0ZW1zIGFuZCBvcmRlciB0aGUgaXRlbXMgYmFzZWQgb24gaXQuXG4gICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHNvcnRDb21wYXJlcikpIHtcbiAgICAgICAgICBpZiAoc29ydENvbXBhcmVyLmxlbmd0aCAhPT0gaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1snICsgbmFtZXNwYWNlICsgJ10gc29ydCByZWZlcmVuY2UgaXRlbXMgZG8gbm90IG1hdGNoIHdpdGggZ3JpZCBpdGVtcy4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXNvcnRDb21wYXJlci5pbmNsdWRlcyhpdGVtc1tpXSkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbJyArIG5hbWVzcGFjZSArICddIHNvcnQgcmVmZXJlbmNlIGl0ZW1zIGRvIG5vdCBtYXRjaCB3aXRoIGdyaWQgaXRlbXMuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtc1tpXSA9IHNvcnRDb21wYXJlcltpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzRGVzY2VuZGluZykgaXRlbXMucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE90aGVyd2lzZSBsZXQncyBqdXN0IHNraXAgaXQsIG5vdGhpbmcgd2UgY2FuIGRvIGhlcmUuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyoqIEB0b2RvIE1heWJlIHRocm93IGFuIGVycm9yIGhlcmU/ICovXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICB9XG5cbiAgICAvLyBFbWl0IHNvcnQgZXZlbnQuXG4gICAgaWYgKHRoaXMuX2hhc0xpc3RlbmVycyhldmVudFNvcnQpKSB7XG4gICAgICB0aGlzLl9lbWl0KGV2ZW50U29ydCwgaXRlbXMuc2xpY2UoMCksIG9yaWdJdGVtcyk7XG4gICAgfVxuXG4gICAgLy8gSWYgbGF5b3V0IGlzIG5lZWRlZC5cbiAgICBpZiAobGF5b3V0KSB7XG4gICAgICB0aGlzLmxheW91dChsYXlvdXQgPT09ICdpbnN0YW50JywgdHlwZW9mIGxheW91dCA9PT0gJ2Z1bmN0aW9uJyA/IGxheW91dCA6IHVuZGVmaW5lZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59KCk7XG5cbi8qKlxyXG4gKiBQcml2YXRlIGhlbHBlcnNcclxuICogKioqKioqKioqKioqKioqXHJcbiAqL1xuXG4vKipcclxuICogTWVyZ2UgZGVmYXVsdCBzZXR0aW5ncyB3aXRoIHVzZXIgc2V0dGluZ3MuIFRoZSByZXR1cm5lZCBvYmplY3QgaXMgYSBuZXdcclxuICogb2JqZWN0IHdpdGggbWVyZ2VkIHZhbHVlcy4gVGhlIG1lcmdpbmcgaXMgYSBkZWVwIG1lcmdlIG1lYW5pbmcgdGhhdCBhbGxcclxuICogb2JqZWN0cyBhbmQgYXJyYXlzIHdpdGhpbiB0aGUgcHJvdmlkZWQgc2V0dGluZ3Mgb2JqZWN0cyB3aWxsIGJlIGFsc28gbWVyZ2VkXHJcbiAqIHNvIHRoYXQgbW9kaWZ5aW5nIHRoZSB2YWx1ZXMgb2YgdGhlIHNldHRpbmdzIG9iamVjdCB3aWxsIGhhdmUgbm8gZWZmZWN0IG9uXHJcbiAqIHRoZSByZXR1cm5lZCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0U2V0dGluZ3NcclxuICogQHBhcmFtIHtPYmplY3R9IFt1c2VyU2V0dGluZ3NdXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBuZXcgb2JqZWN0LlxyXG4gKi9cbmZ1bmN0aW9uIG1lcmdlU2V0dGluZ3MoZGVmYXVsdFNldHRpbmdzLCB1c2VyU2V0dGluZ3MpIHtcbiAgLy8gQ3JlYXRlIGEgZnJlc2ggY29weSBvZiBkZWZhdWx0IHNldHRpbmdzLlxuICB2YXIgcmV0ID0gbWVyZ2VPYmplY3RzKHt9LCBkZWZhdWx0U2V0dGluZ3MpO1xuXG4gIC8vIE1lcmdlIHVzZXIgc2V0dGluZ3MgdG8gZGVmYXVsdCBzZXR0aW5ncy5cbiAgaWYgKHVzZXJTZXR0aW5ncykge1xuICAgIHJldCA9IG1lcmdlT2JqZWN0cyhyZXQsIHVzZXJTZXR0aW5ncyk7XG4gIH1cblxuICAvLyBIYW5kbGUgdmlzaWJsZS9oaWRkZW4gc3R5bGVzIG1hbnVhbGx5IHNvIHRoYXQgdGhlIHdob2xlIG9iamVjdCBpc1xuICAvLyBvdmVycmlkZGVuIGluc3RlYWQgb2YgdGhlIHByb3BzLlxuICByZXQudmlzaWJsZVN0eWxlcyA9ICh1c2VyU2V0dGluZ3MgfHwgMCkudmlzaWJsZVN0eWxlcyB8fCAoZGVmYXVsdFNldHRpbmdzIHx8IDApLnZpc2libGVTdHlsZXM7XG4gIHJldC5oaWRkZW5TdHlsZXMgPSAodXNlclNldHRpbmdzIHx8IDApLmhpZGRlblN0eWxlcyB8fCAoZGVmYXVsdFNldHRpbmdzIHx8IDApLmhpZGRlblN0eWxlcztcblxuICByZXR1cm4gcmV0O1xufVxuXG4vKipcclxuICogTWVyZ2UgdHdvIG9iamVjdHMgcmVjdXJzaXZlbHkgKGRlZXAgbWVyZ2UpLiBUaGUgc291cmNlIG9iamVjdCdzIHByb3BlcnRpZXNcclxuICogYXJlIG1lcmdlZCB0byB0aGUgdGFyZ2V0IG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxyXG4gKiAgIC0gVGhlIHRhcmdldCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2VcclxuICogICAtIFRoZSBzb3VyY2Ugb2JqZWN0LlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB0YXJnZXQgb2JqZWN0LlxyXG4gKi9cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0cyh0YXJnZXQsIHNvdXJjZSkge1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBsZW5ndGggPSBzb3VyY2VLZXlzLmxlbmd0aDtcbiAgdmFyIGlzU291cmNlT2JqZWN0ID0gdm9pZCAwO1xuICB2YXIgcHJvcE5hbWUgPSB2b2lkIDA7XG4gIHZhciBpID0gdm9pZCAwO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIHByb3BOYW1lID0gc291cmNlS2V5c1tpXTtcbiAgICBpc1NvdXJjZU9iamVjdCA9IGlzUGxhaW5PYmplY3Qoc291cmNlW3Byb3BOYW1lXSk7XG5cbiAgICAvLyBJZiB0YXJnZXQgYW5kIHNvdXJjZSB2YWx1ZXMgYXJlIGJvdGggb2JqZWN0cywgbWVyZ2UgdGhlIG9iamVjdHMgYW5kXG4gICAgLy8gYXNzaWduIHRoZSBtZXJnZWQgdmFsdWUgdG8gdGhlIHRhcmdldCBwcm9wZXJ0eS5cbiAgICBpZiAoaXNQbGFpbk9iamVjdCh0YXJnZXRbcHJvcE5hbWVdKSAmJiBpc1NvdXJjZU9iamVjdCkge1xuICAgICAgdGFyZ2V0W3Byb3BOYW1lXSA9IG1lcmdlT2JqZWN0cyhtZXJnZU9iamVjdHMoe30sIHRhcmdldFtwcm9wTmFtZV0pLCBzb3VyY2VbcHJvcE5hbWVdKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIElmIHNvdXJjZSdzIHZhbHVlIGlzIG9iamVjdCBhbmQgdGFyZ2V0J3MgaXMgbm90IGxldCdzIGNsb25lIHRoZSBvYmplY3QgYXNcbiAgICAvLyB0aGUgdGFyZ2V0J3MgdmFsdWUuXG4gICAgaWYgKGlzU291cmNlT2JqZWN0KSB7XG4gICAgICB0YXJnZXRbcHJvcE5hbWVdID0gbWVyZ2VPYmplY3RzKHt9LCBzb3VyY2VbcHJvcE5hbWVdKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIElmIHNvdXJjZSdzIHZhbHVlIGlzIGFuIGFycmF5IGxldCdzIGNsb25lIHRoZSBhcnJheSBhcyB0aGUgdGFyZ2V0J3NcbiAgICAvLyB2YWx1ZS5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VbcHJvcE5hbWVdKSkge1xuICAgICAgdGFyZ2V0W3Byb3BOYW1lXSA9IHNvdXJjZVtwcm9wTmFtZV0uc2xpY2UoMCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBJbiBhbGwgb3RoZXIgY2FzZXMgbGV0J3MganVzdCBkaXJlY3RseSBhc3NpZ24gdGhlIHNvdXJjZSdzIHZhbHVlIGFzIHRoZVxuICAgIC8vIHRhcmdldCdzIHZhbHVlLlxuICAgIHRhcmdldFtwcm9wTmFtZV0gPSBzb3VyY2VbcHJvcE5hbWVdO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIE11dXJpR3JpZCA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIGluaGVyaXRzKE11dXJpR3JpZCwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTXV1cmlHcmlkKHByb3BzKSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgTXV1cmlHcmlkKTtcblxuICAgIHZhciBfdGhpcyA9IHBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE11dXJpR3JpZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE11dXJpR3JpZCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmdyaWQgPSBuZXcgR3JpZChwcm9wcy5ub2RlLCBwcm9wcy5kZWZhdWx0T3B0aW9ucyk7XG4gICAgX3RoaXMuZ2V0TWV0aG9kID0gX3RoaXMuZ2V0TWV0aG9kLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmdldEV2ZW50ID0gX3RoaXMuZ2V0RXZlbnQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuZ2V0SXRlbU1ldGhvZCA9IF90aGlzLmdldEl0ZW1NZXRob2QuYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoTXV1cmlHcmlkLCBbe1xuICAgIGtleTogJ2dldE1ldGhvZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1ldGhvZChtZXRob2QsIHBhcmFtMSwgcGFyYW0yLCBwYXJhbTMsIHBhcmFtNCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHZvaWQgMDtcblxuICAgICAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgICAgIGNhc2UgJ2dldEVsZW1lbnQnOlxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5ncmlkLmdldEVsZW1lbnQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2dldEl0ZW1zJzpcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZ3JpZC5nZXRJdGVtcyhwYXJhbTEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncmVmcmVzaEl0ZW1zJzpcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZ3JpZC5yZWZyZXNoSXRlbXMocGFyYW0xKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3JlZnJlc2hTb3J0RGF0YSc6XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdyaWQucmVmcmVzaFNvcnREYXRhKHBhcmFtMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzeW5jaHJvbml6ZSc6XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdyaWQuc3luY2hyb25pemUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2xheW91dCc6XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdyaWQubGF5b3V0KHBhcmFtMSwgcGFyYW0yKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2FkZCc6XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdyaWQuYWRkKHBhcmFtMSwgcGFyYW0yKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3JlbW92ZSc6XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdyaWQucmVtb3ZlKHBhcmFtMSwgcGFyYW0yKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Nob3cnOlxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5ncmlkLnNob3cocGFyYW0xLCBwYXJhbTIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnaGlkZSc6XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdyaWQuaGlkZShwYXJhbTEsIHBhcmFtMik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdmaWx0ZXInOlxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5ncmlkLmZpbHRlcihwYXJhbTEsIHBhcmFtMik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzb3J0JzpcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZ3JpZC5zb3J0KHBhcmFtMSwgcGFyYW0yKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ21vdmUnOlxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5ncmlkLm1vdmUocGFyYW0xLCBwYXJhbTIsIHBhcmFtMyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzZW5kJzpcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZ3JpZC5zZW5kKHBhcmFtMSwgcGFyYW0yLCBwYXJhbTMsIHBhcmFtNCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdvbic6XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdyaWQub24ocGFyYW0xLCBwYXJhbTIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnb25jZSc6XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmdyaWQub25jZShwYXJhbTEsIHBhcmFtMik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdvZmYnOlxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5ncmlkLm9mZihwYXJhbTEsIHBhcmFtMik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdkZXN0cm95JzpcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZ3JpZC5kZXN0cm95KHBhcmFtMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgXFwnTWV0aG9kXFwnIHByb3ZpZGVkOiAnICsgbWV0aG9kKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0NoZWNrIHRoZSBNdXVyaSBkb2N1bWVudGF0aW9uIGZvciBhIGxpc3Qgb2YgdmFsaWQgbWV0aG9kcy4nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RoZSBmb2xsb3dpbmcgZXJyb3Igb2NjdXJlZCBpbiBcXCdnZXRNZXRob2QoKVxcJzogJyArIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRFdmVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEV2ZW50KGV2ZW50LCBwYXJhbTEsIHBhcmFtMiwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgZXZlbnRzTGlzdCA9IFsnc3luY2hyb25pemUnLCAnbGF5b3V0U3RhcnQnLCAnbGF5b3V0RW5kJywgJ2FkZCcsICdyZW1vdmUnLCAnc2hvd1N0YXJ0JywgJ3Nob3dFbmQnLCAnaGlkZVN0YXJ0JywgJ2hpZGVFbmQnLCAnZmlsdGVyJywgJ3NvcnQnLCAnbW92ZScsICdzZW5kJywgJ2JlZm9yZVNlbmQnLCAncmVjZWl2ZScsICdiZWZvcmVSZWNlaXZlJywgJ2RyYWdJbml0JywgJ2RyYWdTdGFydCcsICdkcmFnTW92ZScsICdkcmFnU2Nyb2xsJywgJ2RyYWdFbmQnLCAnZHJhZ1JlbGVhc2VTdGFydCcsICdkcmFnUmVsZWFzZUVuZCcsICdkZXN0cm95J107XG5cbiAgICAgIGlmIChldmVudCA9PT0gdW5kZWZpbmVkIHx8IGV2ZW50ID09PSBudWxsIHx8IGV2ZW50c0xpc3QuaW5kZXhPZihldmVudCkgPT09IC0xKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgZXZlbnQgcHJvdmlkZWQgdG8gXFwnZ2V0RXZlbnQoKVxcJzogJyArIGV2ZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5ncmlkLm9uKGV2ZW50LCBmdW5jdGlvbiAocGFyYW0xLCBwYXJhbTIpIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICBjYWxsYmFjayhwYXJhbTEsIHBhcmFtMik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMi5ncmlkLnN5bmNocm9uaXplKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVGhlIGZvbGxvd2luZyBlcnJvciBvY2N1cmVkIGluIFxcJ2dldEV2ZW50KClcXCc6ICcgKyBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRJdGVtTWV0aG9kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXRlbU1ldGhvZChtZXRob2QsIGl0ZW0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB2b2lkIDA7XG5cbiAgICAgICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgICAgICBjYXNlICdnZXRHcmlkJzpcbiAgICAgICAgICAgIHJlc3VsdCA9IGl0ZW0uZ2V0R3JpZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZ2V0RWxlbWVudCc6XG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtLmdldEVsZW1lbnQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2dldFdpZHRoJzpcbiAgICAgICAgICAgIHJlc3VsdCA9IGl0ZW0uZ2V0V2lkdGgoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2dldEhlaWdodCc6XG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtLmdldEhlaWdodCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZ2V0TWFyZ2luJzpcbiAgICAgICAgICAgIHJlc3VsdCA9IGl0ZW0uZ2V0TWFyZ2luKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdnZXRQb3NpdGlvbic6XG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtLmdldFBvc2l0aW9uKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdpc0FjdGl2ZSc6XG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtLmlzQWN0aXZlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdpc1Zpc2libGUnOlxuICAgICAgICAgICAgcmVzdWx0ID0gaXRlbS5pc1Zpc2libGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2lzU2hvd2luZyc6XG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtLmlzU2hvd2luZygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnaXNIaWRpbmcnOlxuICAgICAgICAgICAgcmVzdWx0ID0gaXRlbS5pc0hpZGluZygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnaXNQb3NpdGlvbmluZyc6XG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtLmlzUG9zaXRpb25pbmcoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2lzRHJhZ2dpbmcnOlxuICAgICAgICAgICAgcmVzdWx0ID0gaXRlbS5pc0RyYWdnaW5nKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdpc1JlbGVhc2luZyc6XG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtLmlzUmVsZWFzaW5nKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdpc0Rlc3Ryb3llZCc6XG4gICAgICAgICAgICByZXN1bHQgPSBpdGVtLmlzRGVzdHJveWVkKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ludmFsaWQgXFwnSXRlbSBFdmVudFxcJyBwcm92aWRlZDogJyArIG1ldGhvZCk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDaGVjayB0aGUgTXV1cmkgZG9jdW1lbnRhdGlvbiBmb3IgYSBsaXN0IG9mIHZhbGlkIGl0ZW0gZXZlbnRzLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVGhlIGZvbGxvd2luZyBlcnJvciBvY2N1cmVkIGluIFxcJ2dldEl0ZW1NZXRob2QoKVxcJzogJyArIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIE11dXJpR3JpZDtcbn0oQ29tcG9uZW50KTtcblxuTXV1cmlHcmlkLnByb3BUeXBlcyA9IHtcbiAgbm9kZTogUHJvcFR5cGVzLm5vZGUuaXNSZXF1aXJlZCxcbiAgZGVmYXVsdE9wdGlvbnM6IFByb3BUeXBlcy5vYmplY3Rcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE11dXJpR3JpZDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIiwidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgUmVjaXBlQ2FyZCB9IGZyb20gJy4vUmVjaXBlQ2FyZCc7XG5pbXBvcnQgTXV1cmlHcmlkIGZyb20gJ3JlYWN0LW11dXJpJztcbmltcG9ydCAqIGFzIEFQSUNvbnN0YW50cyBmcm9tICcuL0FQSUNvbnN0YW50cy5qcyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL3V0aWxzJztcbnZhciBSZWNpcGVHcmlkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZWNpcGVHcmlkLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlY2lwZUdyaWQocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFkZFRvR3JpZCA9IF90aGlzLmFkZFRvR3JpZC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucmVtb3ZlRnJvbUdyaWQgPSBfdGhpcy5yZW1vdmVGcm9tR3JpZC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMub25SZXNpemUgPSBfdGhpcy5vblJlc2l6ZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuY2FuY2VsTmV3ID0gX3RoaXMuY2FuY2VsTmV3LmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5hZGRSZWNpcGUgPSBfdGhpcy5hZGRSZWNpcGUuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnNlbGVjdFJlY2lwZSA9IF90aGlzLnNlbGVjdFJlY2lwZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7IGFkZGluZ1JlY2lwZTogZmFsc2UsIHF1ZXJ5TW9kZTogZmFsc2UsIHNlbGVjdGVkSXRlbXM6IHt9IH07XG4gICAgICAgIEFQSUNvbnN0YW50cy5FWFRfQ0FMTEJBQ0tfUkVHSVNUUllbJ3JlZnJlc2hSZWNpcGVHcmlkJ10gPSBfdGhpcy5yZWZyZXNoR3JpZC5iaW5kKF90aGlzKTtcbiAgICAgICAgQVBJQ29uc3RhbnRzLkVYVF9DQUxMQkFDS19SRUdJU1RSWVsnc2V0UXVlcnlNb2RlJ10gPSBfdGhpcy5zZXRRdWVyeU1vZGUuYmluZChfdGhpcyk7XG4gICAgICAgIEFQSUNvbnN0YW50cy5FWFRfQ0FMTEJBQ0tfUkVHSVNUUllbJ3NldFNlbGVjdENCJ10gPSBmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIF90aGlzLnNldFN0YXRlKHsgc2VsZWN0Q0I6IGNiIH0pOyB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlY2lwZUdyaWQucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmdyaWQgPSBuZXcgTXV1cmlHcmlkKHtcbiAgICAgICAgICAgIG5vZGU6IHRoaXMuZ3JpZEVsZW1lbnQsXG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGRyYWdFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRyYWdTdGFydFByZWRpY2F0ZTogZnVuY3Rpb24gKGl0ZW0sIGUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTmFtZSA9PT0gJ2NhcmRUaXRsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5kZWZhdWx0U3RhcnRQcmVkaWNhdGUoaXRlbSwgZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUmVjaXBlR3JpZC5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ3JpZC5nZXRNZXRob2QoJ2Rlc3Ryb3knKTtcbiAgICB9O1xuICAgIFJlY2lwZUdyaWQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiaDFcIiwgbnVsbCwgXCJZb3VyIFJlY2lwZXNcIiksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgcmVmOiBmdW5jdGlvbiAoZ3JpZEVsZW1lbnQpIHsgcmV0dXJuIF90aGlzLmdyaWRFbGVtZW50ID0gZ3JpZEVsZW1lbnQ7IH0gfSxcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnJlY2lwZXMubWFwKGZ1bmN0aW9uIChyZWNpcGVEYXRhKSB7IHJldHVybiBfdGhpcy5yZW5kZXJDYXJkKHJlY2lwZURhdGEpOyB9KSxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFkZGluZ1JlY2lwZSAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck5ld0NhcmQoKSksXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmFkZGluZ1JlY2lwZSB8fCB0aGlzLnN0YXRlLnF1ZXJ5TW9kZSB8fFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiwgeyBvbkNsaWNrOiBmdW5jdGlvbiAoZSkgeyByZXR1cm4gX3RoaXMuc2V0U3RhdGUoeyBhZGRpbmdSZWNpcGU6IHRydWUgfSk7IH0gfSwgXCJBZGQgUmVjaXBlXCIpKSk7XG4gICAgfTtcbiAgICBSZWNpcGVHcmlkLnByb3RvdHlwZS5yZW5kZXJDYXJkID0gZnVuY3Rpb24gKHJlY2lwZSkge1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVjaXBlQ2FyZCwgeyBrZXk6IHJlY2lwZS5uYW1lLCByZWNpcGVEYXRhOiByZWNpcGUsIG9uTW91bnQ6IHRoaXMuYWRkVG9HcmlkLCBvblVuTW91bnQ6IHRoaXMucmVtb3ZlRnJvbUdyaWQsIGVkaXRSZWNpcGU6IHRoaXMucHJvcHMuZWRpdFJlY2lwZSwgb25SZXNpemU6IHRoaXMub25SZXNpemUsIHF1ZXJ5TW9kZTogdGhpcy5zdGF0ZS5xdWVyeU1vZGUsIG5ld1JlY2lwZTogZmFsc2UsIHNlbGVjdGVkOiB0aGlzLnN0YXRlLnNlbGVjdGVkSXRlbXNbcmVjaXBlLm5hbWVdLCBzZWxlY3RSZWNpcGU6IHRoaXMuc2VsZWN0UmVjaXBlLCBvbkRlbGV0ZTogdGhpcy5wcm9wcy5kZWxldGVSZWNpcGVGcm9tU3ZyIH0pKTtcbiAgICB9O1xuICAgIFJlY2lwZUdyaWQucHJvdG90eXBlLnJlbmRlck5ld0NhcmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWNpcGVDYXJkLCB7IGtleTogJ1RIRV9ORVdfUkVDSVBFJywgcmVjaXBlRGF0YTogeyBuYW1lOiBcIlwiLCB0ZXh0OiBcIlwiIH0sIG9uTW91bnQ6IHRoaXMuYWRkVG9HcmlkLCBvblVuTW91bnQ6IHRoaXMucmVtb3ZlRnJvbUdyaWQsIGVkaXRSZWNpcGU6IHRoaXMucHJvcHMuZWRpdFJlY2lwZSwgYWRkUmVjaXBlOiB0aGlzLmFkZFJlY2lwZSwgcXVlcnlNb2RlOiBmYWxzZSwgb25SZXNpemU6IHRoaXMub25SZXNpemUsIG5ld1JlY2lwZTogdHJ1ZSwgc2VsZWN0ZWQ6IGZhbHNlLCBjYW5jZWxOZXc6IHRoaXMuY2FuY2VsTmV3LCBvbkRlbGV0ZTogdGhpcy5wcm9wcy5kZWxldGVSZWNpcGVGcm9tU3ZyIH0pKTtcbiAgICB9O1xuICAgIFJlY2lwZUdyaWQucHJvdG90eXBlLmNhbmNlbE5ldyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGFkZGluZ1JlY2lwZTogZmFsc2UgfSk7XG4gICAgfTtcbiAgICBSZWNpcGVHcmlkLnByb3RvdHlwZS5hZGRSZWNpcGUgPSBmdW5jdGlvbiAocmVjaXBlKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBhZGRpbmdSZWNpcGU6IGZhbHNlIH0pO1xuICAgICAgICB0aGlzLnByb3BzLmFkZFJlY2lwZShyZWNpcGUpO1xuICAgIH07XG4gICAgUmVjaXBlR3JpZC5wcm90b3R5cGUuc2VsZWN0UmVjaXBlID0gZnVuY3Rpb24gKHJlY2lwZU5hbWUpIHtcbiAgICAgICAgdmFyIG9sZFN0YXRlID0gdGhpcy5zdGF0ZS5zZWxlY3RlZEl0ZW1zO1xuICAgICAgICBvbGRTdGF0ZVtyZWNpcGVOYW1lXSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBzZWxlY3RlZEl0ZW1zOiBvbGRTdGF0ZSB9KTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuc2VsZWN0Q0IpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0Q0IocmVjaXBlTmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlY2lwZUdyaWQucHJvdG90eXBlLmFkZFRvR3JpZCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5ncmlkLmdldE1ldGhvZCgnYWRkJywgW2NvbXBvbmVudF0sIHsgaXNBY3RpdmU6IHRydWUgfSk7XG4gICAgfTtcbiAgICBSZWNpcGVHcmlkLnByb3RvdHlwZS5yZW1vdmVGcm9tR3JpZCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5ncmlkLmdldE1ldGhvZCgncmVtb3ZlJywgW2NvbXBvbmVudF0sIHsgcmVtb3ZlRWxlbWVudHM6IGZhbHNlIH0pO1xuICAgIH07XG4gICAgUmVjaXBlR3JpZC5wcm90b3R5cGUub25SZXNpemUgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuZ3JpZC5nZXRNZXRob2QoJ3JlZnJlc2hJdGVtcycsIFtjb21wb25lbnRdKTtcbiAgICAgICAgdGhpcy5ncmlkLmdldE1ldGhvZCgnbGF5b3V0Jyk7XG4gICAgfTtcbiAgICBSZWNpcGVHcmlkLnByb3RvdHlwZS5yZWZyZXNoR3JpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ncmlkLmdldE1ldGhvZCgncmVmcmVzaEl0ZW1zJyk7XG4gICAgICAgIHRoaXMuZ3JpZC5nZXRNZXRob2QoJ2xheW91dCcpO1xuICAgICAgICB0aGlzLnByb3BzLmZldGNoUmVjaXBlcygpO1xuICAgIH07XG4gICAgUmVjaXBlR3JpZC5wcm90b3R5cGUuc2V0UXVlcnlNb2RlID0gZnVuY3Rpb24gKHF1ZXJ5TW9kZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcXVlcnlNb2RlOiBxdWVyeU1vZGUsIHNlbGVjdGVkSXRlbXM6IHt9IH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlY2lwZUdyaWQ7XG59KENvbXBvbmVudCkpO1xuZXhwb3J0IHsgUmVjaXBlR3JpZCB9O1xuIiwiXG5leHBvcnQgdmFyIGRlZmF1bHRTdGFydFByZWRpY2F0ZSA9IGZ1bmN0aW9uKGl0ZW0sIGV2ZW50LCBvcHRpb25zKSB7XG4gIHZhciBkcmFnID0gaXRlbS5fZHJhZztcbiAgdmFyIHByZWRpY2F0ZSA9IGRyYWcuX3N0YXJ0UHJlZGljYXRlRGF0YSB8fCBkcmFnLl9zZXR1cFN0YXJ0UHJlZGljYXRlKG9wdGlvbnMpO1xuXG4gIC8vIEZpbmFsIGV2ZW50IGxvZ2ljLiBBdCB0aGlzIHN0YWdlIHJldHVybiB2YWx1ZSBkb2VzIG5vdCBtYXR0ZXIgYW55bW9yZSxcbiAgLy8gdGhlIHByZWRpY2F0ZSBpcyBlaXRoZXIgcmVzb2x2ZWQgb3IgaXQncyBub3QgYW5kIHRoZXJlJ3Mgbm90aGluZyB0byBkb1xuICAvLyBhYm91dCBpdC4gSGVyZSB3ZSBqdXN0IHJlc2V0IGRhdGEgYW5kIGlmIHRoZSBpdGVtIGVsZW1lbnQgaXMgYSBsaW5rXG4gIC8vIHdlIGZvbGxvdyBpdCAoaWYgdGhlcmUgaGFzIG9ubHkgYmVlbiBzbGlnaHQgbW92ZW1lbnQpLlxuICBpZiAoZXZlbnQuaXNGaW5hbCkge1xuICAgIGRyYWcuX2ZpbmlzaFN0YXJ0UHJlZGljYXRlKGV2ZW50KTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGaW5kIGFuZCBzdG9yZSB0aGUgaGFuZGxlIGVsZW1lbnQgc28gd2UgY2FuIGNoZWNrIGxhdGVyIG9uIGlmIHRoZVxuICAvLyBjdXJzb3IgaXMgd2l0aGluIHRoZSBoYW5kbGUuIElmIHdlIGhhdmUgYSBoYW5kbGUgc2VsZWN0b3IgbGV0J3MgZmluZFxuICAvLyB0aGUgY29ycmVzcG9uZGluZyBlbGVtZW50LiBPdGhlcndpc2UgbGV0J3MgdXNlIHRoZSBpdGVtIGVsZW1lbnQgYXMgdGhlXG4gIC8vIGhhbmRsZS5cbiAgaWYgKCFwcmVkaWNhdGUuaGFuZGxlRWxlbWVudCkge1xuICAgIHByZWRpY2F0ZS5oYW5kbGVFbGVtZW50ID0gZHJhZy5fZ2V0U3RhcnRQcmVkaWNhdGVIYW5kbGUoZXZlbnQpO1xuICAgIGlmICghcHJlZGljYXRlLmhhbmRsZUVsZW1lbnQpIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIElmIGRlbGF5IGlzIGRlZmluZWQgbGV0J3Mga2VlcCB0cmFjayBvZiB0aGUgbGF0ZXN0IGV2ZW50IGFuZCBpbml0aWF0ZVxuICAvLyBkZWxheSBpZiBpdCBoYXMgbm90IGJlZW4gZG9uZSB5ZXQuXG4gIGlmIChwcmVkaWNhdGUuZGVsYXkpIHtcbiAgICBwcmVkaWNhdGUuZXZlbnQgPSBldmVudDtcbiAgICBpZiAoIXByZWRpY2F0ZS5kZWxheVRpbWVyKSB7XG4gICAgICBwcmVkaWNhdGUuZGVsYXlUaW1lciA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBwcmVkaWNhdGUuZGVsYXkgPSAwO1xuICAgICAgICBpZiAoZHJhZy5fcmVzb2x2ZVN0YXJ0UHJlZGljYXRlKHByZWRpY2F0ZS5ldmVudCkpIHtcbiAgICAgICAgICBkcmFnLl9mb3JjZVJlc29sdmVTdGFydFByZWRpY2F0ZShwcmVkaWNhdGUuZXZlbnQpO1xuICAgICAgICAgIGRyYWcuX3Jlc2V0U3RhcnRQcmVkaWNhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSwgcHJlZGljYXRlLmRlbGF5KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZHJhZy5fcmVzb2x2ZVN0YXJ0UHJlZGljYXRlKGV2ZW50KTtcbn07XG5cbiIsInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fc3ByZWFkQXJyYXlzID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5cykgfHwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcbiAgICByZXR1cm4gcjtcbn07XG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IE1vY2tEYXRhU2VydmljZSB9IGZyb20gJy4vTW9ja0RhdGFTZXJ2aWNlJztcbmltcG9ydCB7IERhdGFTZXJ2aWNlSW1wbCB9IGZyb20gJy4vRGF0YVNlcnZpY2VJbXBsJztcbmltcG9ydCB7IFJlY2lwZUdyaWQgfSBmcm9tICcuL1JlY2lwZUdyaWQnO1xuaW1wb3J0ICogYXMgQVBJQ29uc3RhbnRzIGZyb20gJy4vQVBJQ29uc3RhbnRzLmpzJztcbmltcG9ydCAnLi9jc3MvcmVjaXBlLmNzcyc7XG52YXIgQXBwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBcHAsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXBwKHByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy51cGRhdGVSZWNpcGVzID0gX3RoaXMudXBkYXRlUmVjaXBlcy5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMucmVwb3J0RXJyb3IgPSBfdGhpcy5yZXBvcnRFcnJvci5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuZGVsZXRlUmVjaXBlID0gX3RoaXMuZGVsZXRlUmVjaXBlLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5lZGl0UmVjaXBlID0gX3RoaXMuZWRpdFJlY2lwZS5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuYWRkUmVjaXBlID0gX3RoaXMuYWRkUmVjaXBlLmJpbmQoX3RoaXMpO1xuICAgICAgICBfdGhpcy5mZXRjaFJlY2lwZXMgPSBfdGhpcy5mZXRjaFJlY2lwZXMuYmluZChfdGhpcyk7XG4gICAgICAgIGlmIChBUElDb25zdGFudHMuY29uc3RzLmlzTW9jaykge1xuICAgICAgICAgICAgX3RoaXMuc2VydmljZSA9IG5ldyBNb2NrRGF0YVNlcnZpY2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnNlcnZpY2UgPSBuZXcgRGF0YVNlcnZpY2VJbXBsKCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICByZWNpcGVzOiBbXSxcbiAgICAgICAgICAgIGVycm9yOiAnJ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFwcC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZmV0Y2hSZWNpcGVzKCk7XG4gICAgfTtcbiAgICBBcHAucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbXA7XG4gICAgICAgIGNvbXAgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFJlY2lwZUdyaWQsIHsgcmVjaXBlczogdGhpcy5zdGF0ZS5yZWNpcGVzLCBkZWxldGVSZWNpcGVGcm9tU3ZyOiB0aGlzLmRlbGV0ZVJlY2lwZSwgZWRpdFJlY2lwZTogdGhpcy5lZGl0UmVjaXBlLCBhZGRSZWNpcGU6IHRoaXMuYWRkUmVjaXBlLCBmZXRjaFJlY2lwZXM6IHRoaXMuZmV0Y2hSZWNpcGVzIH0pO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCxcbiAgICAgICAgICAgIGNvbXAsXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIHRoaXMuc3RhdGUuZXJyb3IpKSk7XG4gICAgfTtcbiAgICBBcHAucHJvdG90eXBlLnVwZGF0ZVJlY2lwZXMgPSBmdW5jdGlvbiAocmVjaXBlcykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgcmVjaXBlczogcmVjaXBlcywgZXJyb3I6ICcnIH0pO1xuICAgIH07XG4gICAgQXBwLnByb3RvdHlwZS5yZXBvcnRFcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSk7XG4gICAgfTtcbiAgICBBcHAucHJvdG90eXBlLmRlbGV0ZVJlY2lwZSA9IGZ1bmN0aW9uIChyZWNpcGVOYW1lKSB7XG4gICAgICAgIHZhciByZWNpcGVzID0gdGhpcy5zdGF0ZS5yZWNpcGVzLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5uYW1lICE9PSByZWNpcGVOYW1lOyB9KTtcbiAgICAgICAgaWYgKHJlY2lwZXMubGVuZ3RoICE9PSB0aGlzLnN0YXRlLnJlY2lwZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNlcnZpY2UuZGVsZXRlUmVjaXBlKHJlY2lwZU5hbWUpXG4gICAgICAgICAgICAgICAgLnRoZW4odGhpcy51cGRhdGVSZWNpcGVzKS5jYXRjaCh0aGlzLnJlcG9ydEVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZWNpcGVzOiByZWNpcGVzIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBcHAucHJvdG90eXBlLmVkaXRSZWNpcGUgPSBmdW5jdGlvbiAocmVjaXBlRGF0YSkge1xuICAgICAgICB2YXIgZGF0YSA9IF9fc3ByZWFkQXJyYXlzKHRoaXMuc3RhdGUucmVjaXBlcyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGRhdGFbaV0ubmFtZSA9PT0gcmVjaXBlRGF0YS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgZGF0YVtpXSA9IHJlY2lwZURhdGE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXJ2aWNlLmVkaXRSZWNpcGUocmVjaXBlRGF0YS5uYW1lLCByZWNpcGVEYXRhKVxuICAgICAgICAgICAgLnRoZW4odGhpcy51cGRhdGVSZWNpcGVzKS5jYXRjaCh0aGlzLnJlcG9ydEVycm9yKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHJlY2lwZXM6IGRhdGEgfSk7XG4gICAgfTtcbiAgICBBcHAucHJvdG90eXBlLmFkZFJlY2lwZSA9IGZ1bmN0aW9uIChyZWNpcGVEYXRhKSB7XG4gICAgICAgIHZhciBkYXRhID0gX19zcHJlYWRBcnJheXModGhpcy5zdGF0ZS5yZWNpcGVzKTtcbiAgICAgICAgZGF0YS5wdXNoKHJlY2lwZURhdGEpO1xuICAgICAgICB0aGlzLnNlcnZpY2UuYWRkUmVjaXBlKHJlY2lwZURhdGEubmFtZSwgcmVjaXBlRGF0YSlcbiAgICAgICAgICAgIC50aGVuKHRoaXMudXBkYXRlUmVjaXBlcykuY2F0Y2godGhpcy5yZXBvcnRFcnJvcik7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyByZWNpcGVzOiBkYXRhIH0pO1xuICAgIH07XG4gICAgQXBwLnByb3RvdHlwZS5mZXRjaFJlY2lwZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2VydmljZS5nZXRSZWNpcGVzKCkudGhlbih0aGlzLnVwZGF0ZVJlY2lwZXMpLmNhdGNoKHRoaXMucmVwb3J0RXJyb3IpO1xuICAgIH07XG4gICAgcmV0dXJuIEFwcDtcbn0oQ29tcG9uZW50KSk7XG5yZW5kZXIoUmVhY3QuY3JlYXRlRWxlbWVudChBcHAsIG51bGwpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVjaXBlUm9vdCcpKTtcbi8vIEFQSUNvbnN0YW50cy5FWFRfQ0FMTEJBQ0tfUkVHSVNUUllbJ3NldFF1ZXJ5TW9kZSddKHRydWUpO1xuLy8gQVBJQ29uc3RhbnRzLkVYVF9DQUxMQkFDS19SRUdJU1RSWVsnc2V0U2VsZWN0Q0InXSggKGU6IHN0cmluZykgPT4gY29uc29sZS5sb2coXCJTZWxlY3QgOiBcIiArIGUpKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=